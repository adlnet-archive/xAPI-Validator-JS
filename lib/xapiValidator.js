(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.xapiValidator = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var xapiErrorLevels = Object.freeze({
  MAY_VIOLATION: 'MAY_VIOLATION',
  MUST_VIOLATION: 'MUST_VIOLATION',
  SHOULD_VIOLATION: 'SHOULD_VIOLATION'
});

var xapiValidationErrors = Object.freeze({
  ACTIVITIES_MUST_NOT_BE_NULL_MAP_OBJECTS: 'Activities must be non-null map objects',
  ACTOR_MUST_BE_PROVIDED: 'Actor must be provided.',
  AGENT_IFI_PROPERTIES_MUST_BE_SPECIFIED: 'Exactly one Inverse Functional Identifier property must be specified for an "agent".',
  AGENT_MUST_BE_NON_NULL_MAP_OBJECT: '"agent" must be a non-null map object',
  AGENT_MUST_NOT_HAVE_GROUP_CHARACTERISTICS: 'Invalid object with characteristics of a Group when an Agent was expected.',
  ATTACHMENTS_MUST_BE_NOT_NULL_ARRAY: '"attachments" must be a non-null Array.',
  ATTACHMENTS_MUST_NOT_BE_NULL_MAP_OBJECTS: '"attachment" instances must be non-null map objects.',
  AUTHORITY_MUST_BE_NON_NULL_MAP_OBJECT: 'If present, the "authority" property must be a non-null map object.',
  CONTEXT_ACTIVITIES_MUST_BE_ARRAY_OR_ACTIVITY_OBJ: 'Context Activities property values must be an array of Activity Objects or a single Activity Object.',
  CONTEXT_ACTIVITIES_MUST_BE_NON_NULL_MAP_OBJECT: 'The Context Activities instances must be a non-null map object.',
  CONTEXT_ACTIVITIES_MUST_NOT_BE_NULL: '"Context Activities" property values must not be null.',
  CONTEXT_ACTIVITIES_SHOULD_BE_AN_ARRAY: 'Context Activities property values should prefer to be an array of Activities rather than a single Activity object.',
  CONTEXT_MUST_BE_NON_NUL_MAP_OBJECT: 'If present, the "context" property must be a non-null map object.',
  CORRECT_RESPONSES_PATTERN_MUST_BE_ARRAY: 'If present, the "correctResponsesPattern" value must be an Array of strings.',
  CORRECT_RESPONSES_PATTERN_MUST_BE_STRINGS: '"correctResponsesPattern" items must be strings.',
  DATE_MUST_BE_VALID: 'This propertys string value must be conformant to ISO 8601 for Date Times.',
  DATE_SHOULD_INCLUDE_ZONE_INFORMATION: 'ISO 8601 date time strings used in the xAPI should include time zone information.',
  DEFINITIONS_MUST_BE_OBJECTS: '"definitions", when present, must be map objects',
  DISPLAY_SHOULD_BE_PROVIDED: '"display" property should be provided.',
  DURATION_MUST_BE_VALID: 'If present, the "duration" property value must be an ISO 8601 duration',
  EXTENSIONS_MUST_NOT_BE_NULL: 'If present, the extensions property must be a non-null map object.',
  GROUP_AUTHORITY_AGENT_MEMBERS_MUST_BE_TWO: 'If used as a Group, the "authority" property must contain a "member" property that is an array containing exactly two Agent objects.',
  GROUP_IFI_PROPERTIES_MUST_BE_SPECIFIED: 'Exactly one Inverse Functional Identifier property must be specified for a "group".',
  GROUP_MEMBER_MUST_BE_ARRAY: 'If present, the member property of a Group must be an Array',
  GROUP_MUST_BE_NON_NULL_MAP_OBJECT: '"group" must be a non-null map object',
  ID_MUST_BE_UNIQUE: '"id" properties must be unique within each interaction component array',
  ID_MUST_BE_VALID_UUID_REF: '"id" property value must be a valid UUID string for statement reference objects.',
  ID_MUST_BE_VALID: 'Id was not a valid UUID',
  ID_SHOULD_NOT_CONTAIN_WHITESPACES: '"id" properties on interaction components should not contain whitespace',
  IDS_SHOULD_BE_GENERATED_BY_LRS: 'Ids should be generated by the Activity Provider, and must be generated by the LRS',
  IFI_MUST_BE_MBOX_URI: '"mbox" property was required to be a mailto URI string but was not a string at all.',
  IFI_MUST_BE_VALID_MBOX_FORMAT: '"mbox" property was required to be a mailto URI string but did not match the mailto format.',
  INTERACTION_ACTIVITY_SHOULD_HAVE: 'Interaction Activity Definitions should have a type property of',
  INTERACTION_COMPONENT_MUST_NOT_BE_NULL: 'This interaction component collection member must be a non-null map object',
  INTERACTION_COMPONENT_SHOULD_BE_ARRAY: 'This interaction component collection property should be an array.',
  INTERACTION_TYPE_MUST_BE_CMI: 'If present, the "interactionType" value must be a CMI interaction type option.',
  INTERACTION_TYPE_MUST_BE_VALID: 'This interaction component collection property is not associated with the present interactionType of: ',
  INVALID_JSON: 'Invalid JSON. The statement could not be parsed.',
  LANGUAGE_MAP_KEY_INVALID: 'key, Language does not conform to RFC 5646',
  LANGUAGE_MAP_KEY_MUST_BE_STRING: 'key: Language Map value should be a String, but was not',
  LANGUAGE_MAPS_MUST_NOT_BE_NULL: 'Language Maps, when present, must be non-null map objects',
  LANGUAGE_MUST_BE_STRING: 'The language property must be encoded as an RFC 5646 compliant string, but was not.',
  LENGTH_MUST_BE_INTEGER: '"length" property must be provided with an integer value',
  MAX_MUST_BE_GREATER_THAN_MIN: 'If both "max" and "min" are present, the max property value should be greater than min',
  MEMBER_MUST_BE_PROVIDED_FOR_ANONYMOUS_GROUPS: '"member" property must be provided for Anonymous Groups.',
  MUST_BE_BOOLEAN_PRESENT: 'property was required to be a Boolean but was absent.',
  MUST_BE_BOOLEAN: 'property, if present, must be a Boolean.',
  MUST_BE_IRI_STRING: 'property, if present, should be a IRI-like absolute URI per RFC 3987.',
  MUST_BE_NUMBER_PRESENT: 'property was required to be a Number but was absent.',
  MUST_BE_NUMBER: 'property, if present, must be a Number.',
  MUST_BE_PRESENT: 'property was required to be a string but was absent.',
  MUST_BE_STRING: 'property, if present, must be a string.',
  MUST_BE_URI_PRESENT: 'property was required to be a URI string but was absent.',
  MUST_BE_URI_STRING: 'property, if present, must be a URI string.',
  OBJECT_MUST_BE_DEFINED: '"object" property must be provided.',
  OBJECT_MUST_BE_NON_NULL_MAP_OBJECT: '"object" property must be a non-null map object.',
  OBJECT_TYPE_MUST_BE_STATEMENT_REF: '"objectType" property value must be "StatementRef" for statement reference objects.',
  OBJECT_TYPE_MUST_BE_VALID_OPTION: 'object\'s "objectType" did not match a valid option',
  RAW_MUST_BE_GREATER_THAN_MIN: 'If both "raw" and "min" are present, the raw property value should be greater than min',
  RAW_MUST_BE_LESS_THAN_MAX: 'If both "raw" and "max" are present, the raw property value should be less than max',
  REGISTRATION_MUST_BE_UUID_STRING: 'If present, the registration property must be a UUID string.',
  RESULT_MUST_BE_MAP_OBJECT: 'If present, the result must be a map object',
  REVISION_MUST_BE_AGENT_OR_GROUP: 'The revision property must not be used if the Statement\'s Object is an Agent or Group.',
  SCALED_MUST_BE_BETWEEN_0_1: 'If present, the scaled property value must be between 0 and 1',
  SHA2_MUST_BE_PROVIDED_ON_ATTACHMENT_OBJECTS: '"sha2" property must be provided on attachment objects',
  SHA2_MUST_CONTAIN_BASE_64_STRING: '"sha2" property must contain a string with base64 contents',
  STATEMENT_ARGUMENT_IS_NOT_VALID: 'Statement argument provided was not a valid object or a valid JSON string.',
  STATEMENT_ARGUMENT_MUST_BE_PROVIDED: 'No statement argument provided.',
  STATEMENT_MUST_BE_PARSED_CORRECTLY: 'Null or non-object statement value parsed from provided statment JSON.',
  STATEMENT_MUST_NOT_BE_NULL: 'Null statement argument provided.',
  STATEMENT_REF_MUST_NOT_BE_NULL_MAP_OBJECTS: 'StatementRef instances must be non-null map objects',
  SUB_STATEMENT_MUST_NOT_CONTAIN_SUB_STATEMENT: 'A SubStatement must not contain a SubStatement',
  UNEXPECTED: 'Unexpected property not permitted',
  VERB_MUST_BE_PROVIDED: 'Verb must be provided',
  VERB_MUST_NOT_BE_NULL: 'Verb property value must a non-null map object.',
  VERSION_MUST_COMPLY_SEMANTIC_VERSIONING: '"version" must be a non-null string that complies with Semantic Versioning 1.0.0'
});

exports.xapiErrorLevels = xapiErrorLevels;
exports.xapiValidationErrors = xapiValidationErrors;

},{}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var xapiGeneral = Object.freeze({
  FIRST_REPORT_VERSTION: '1.0.0',
  GROUP_AUTHORITY_AGENT_MEMBERS: 2,
  INTERACTION_DEFINITION_TYPE: 'http://adlnet.gov/expapi/activities/cmi.interaction',
  MAX_SCALED_VALUE: 1,
  MIN_SCALED_VALUE: 0,
  NO_INDEX_FOUND: -1,
  NUMER_OF_SPECIFIED_IFI_PROPERTIES: 1
});

exports.xapiGeneral = xapiGeneral;

},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var interactionTypes = exports.interactionTypes = Object.freeze({
  CHOICE: 'choice',
  FILL_IN: 'fill-in',
  LIKERT: 'likert',
  LONG_FILL_IN: 'long-fill-in',
  MATCHING: 'matching',
  NUMERIC: 'numeric',
  OTHER: 'other',
  PERFORMANCE: 'performance',
  SEQUENCING: 'sequencing',
  TRUE_FALSE: 'true-false'
});

var xapiValidationInteractionTypes = exports.xapiValidationInteractionTypes = Object.freeze([interactionTypes.CHOICE, interactionTypes.FILL_IN, interactionTypes.LIKERT, interactionTypes.LONG_FILL_IN, interactionTypes.MATCHING, interactionTypes.NUMERIC, interactionTypes.OTHER, interactionTypes.PERFORMANCE, interactionTypes.SEQUENCING, interactionTypes.TRUE_FALSE]);

},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var properties = Object.freeze({
  ACCOUNT: 'account',
  ACTIVITY: 'activity',
  ACTOR: 'actor',
  AGENT: 'agent',
  ATTACHMENT: 'attachment',
  ATTACHMENTS: 'attachments',
  AUTHORITY: 'authority',
  CATEGORY: 'category',
  CHOICE: 'choice',
  CHOICES: 'choices',
  COMPLETION: 'completion',
  CONTENT_TYPE: 'contentType',
  CONTEXT_ACTIVITIES: 'contextActivities',
  CONTEXT: 'context',
  CORRECT_RESPONSES_PATTERN: 'correctResponsesPattern',
  DATE_TIME: 'dateTime',
  DEFINITION: 'definition',
  DESCRIPTION: 'description',
  DISPLAY: 'display',
  DURATION: 'duration',
  EXTENSIONS: 'extensions',
  FILE_URL: 'fileUrl',
  GROUP: 'group',
  GROUPING: 'grouping',
  HOME_PAGE: 'homePage',
  ID: 'id',
  INSTRUCTOR: 'instructor',
  INTERACTION_COMPONENTS: 'interactionComponents',
  INTERACTION_TYPE: 'interactionType',
  LANGUAGE_MAP: 'languageMap',
  LANGUAGE: 'language',
  LENGTH: 'length',
  LIKERT: 'likert',
  MATCHING: 'matching',
  MAX: 'max',
  MBOX_SHA_1_SUM: 'mbox_sha1sum',
  MBOX: 'mbox',
  MEMBER: 'member',
  MIN: 'min',
  MORE_INFO: 'moreInfo',
  NAME: 'name',
  OBJECT_TYPE: 'objectType',
  OBJECT: 'object',
  OPEN_ID: 'openID',
  OTHER: 'other',
  PARENT: 'parent',
  PERFORMANCE: 'performance',
  PLATFORM: 'platform',
  RAW: 'raw',
  REGISTRATION: 'registration',
  RESPONSE: 'response',
  RESULT: 'result',
  REVISION: 'revision',
  SCALE: 'scale',
  SCALED: 'scaled',
  SCORE: 'score',
  SEQUENCING: 'sequencing',
  SHA2: 'sha2',
  SOURCE: 'source',
  STATEMENT_REF: 'statementRef',
  STATEMENT: 'statement',
  STEPS: 'steps',
  STORED: 'stored',
  SUB_CONTEXT: 'subContext',
  SUCCESS: 'success',
  TARGET: 'target',
  TEAM: 'team',
  TIMESTAMP: 'timestamp',
  TYPE: 'type',
  USAGE_TYPE: 'usageType',
  VERB: 'verb',
  VERSION: 'version'
});

var objectTypes = Object.freeze({
  GROUP: 'Group',
  AGENT: 'Agent',
  ACTIVITY: 'Activity',
  STATEMENT_REF: 'StatementRef',
  SUB_STATEMENT: 'SubStatement'
});

var xapiValidationIfiPropertyNames = Object.freeze([properties.ACCOUNT, properties.MBOX_SHA_1_SUM, properties.MBOX, properties.OPEN_ID]);

var xApiValidObjectTypes = Object.freeze([objectTypes.GROUP, objectTypes.AGENT, objectTypes.ACTIVITY, objectTypes.STATEMENT_REF, objectTypes.SUB_STATEMENT]);

var xapiWhiteListProperties = Object.freeze({
  IFI: [properties.HOME_PAGE, properties.NAME],
  URI: [properties.ID, properties.DISPLAY],
  COMPONENT_ARRAY: [properties.ID, properties.DESCRIPTION],
  ACTIVITY_DEFINITION: [properties.NAME, properties.DESCRIPTION, properties.TYPE, properties.MORE_INFO, properties.EXTENSIONS, properties.INTERACTION_TYPE, properties.CORRECT_RESPONSES_PATTERN, properties.CHOICES, properties.SCALE, properties.SOURCE, properties.TARGET, properties.STEPS],
  ACTIVITY: [properties.OBJECT_TYPE, properties.ID, properties.DEFINITION],
  STATEMENT_REF: [properties.ID, properties.OBJECT_TYPE],
  SCORE: [properties.SCALED, properties.RAW, properties.MIN, properties.MAX],
  RESULT: [properties.SCORE, properties.SUCCESS, properties.COMPLETION, properties.RESPONSE, properties.DURATION, properties.EXTENSIONS],
  ATTACHMENT: [properties.USAGE_TYPE, properties.DISPLAY, properties.DESCRIPTION, properties.CONTENT_TYPE, properties.LENGTH, properties.SHA2, properties.FILE_URL],
  AGENT: [properties.OBJECT_TYPE, properties.NAME, properties.ACCOUNT, properties.MBOX_SHA_1_SUM, properties.MBOX, properties.OPEN_ID],
  GROUP: [properties.OBJECT_TYPE, properties.NAME, properties.MEMBER, properties.ACCOUNT, properties.MBOX_SHA_1_SUM, properties.MBOX, properties.OPEN_ID],
  CONTEXT_ACTIVITIES: [properties.PARENT, properties.GROUPING, properties.CATEGORY, properties.OTHER],
  STATEMENT: [properties.ID, properties.ACTOR, properties.VERB, properties.OBJECT, properties.RESULT, properties.CONTEXT, properties.TIMESTAMP, properties.STORED, properties.AUTHORITY, properties.VERSION, properties.ATTACHMENTS],
  SUB_STATEMENT: [properties.ACTOR, properties.VERB, properties.OBJECT, properties.RESULT, properties.CONTEXT, properties.TIMESTAMP, properties.ATTACHMENTS, properties.OBJECT_TYPE],
  EXTENSIONS: [properties.REGISTRATION, properties.INSTRUCTOR, properties.TEAM, properties.CONTEXT_ACTIVITIES, properties.REVISION, properties.PLATFORM, properties.LANGUAGE, properties.STATEMENT, properties.EXTENSIONS]
});

exports.properties = properties;
exports.objectTypes = objectTypes;
exports.xapiValidationIfiPropertyNames = xapiValidationIfiPropertyNames;
exports.xApiValidObjectTypes = xApiValidObjectTypes;
exports.xapiWhiteListProperties = xapiWhiteListProperties;

},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var xapiValidationRegex = Object.freeze({
  UUID: /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,
  ISO_8601_DURATION: /^P((\d+([\.,]\d+)?Y)?(\d+([\.,]\d+)?M)?(\d+([\.,]\d+)?W)?(\d+([\.,]\d+)?D)?)?(T(\d+([\.,]\d+)?H)?(\d+([\.,]\d+)?M)?(\d+([\.,]\d+)?S)?)?$/,
  ISO_8601_DATE_TIME: /^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,
  MAILTO_URI: /^mailto:/,
  CONTAINS_WHITESPACE: /\s/g,
  SEMVER_1_P_0_P_0: /^((\d+)\.(\d+)\.(\d+))(?:-([\dA-Za-z\-]+))?$/,
  BASE_64: /^(?:[A-Za-z0-9\+\/]{4})*(?:[A-Za-z0-9\+\/]{2}==|[A-Za-z0-9\+\/]{3}=|[A-Za-z0-9\+\/]{4})$/,
  IRI: /^[a-z](?:[\-a-z0-9\+\.])*:(?:\/\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:])*@)?(?:\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4}:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+[\-a-z0-9\._~!\$&'\(\)\*\+,;=:]+)\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}|(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=@])*)(?::[0-9]*)?(?:\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))*)*|\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))*)*)?|(?:(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@])))(?:\?(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@])|[\uE000-\uF8FF\uF0000-\uFFFFD|\u100000-\u10FFFD\/\?])*)?(?:\#(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@])|[\/\?])*)?$/i,
  BCP_47: /^(?:(en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))|(art-lojban|cel-gaulish|no-(?:bok|nyn)|zh-(?:guoyu|hakka|min|min-nan|xiang)))$|^(x(?:-[0-9a-z]{1,8})+)$|^(?:((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|[0-9]{3}))?((?:-(?:[a-z0-9]{5,8}|[0-9][a-z0-9]{3}))*)?((?:-[0-9a-wy-z](?:-[a-z0-9]{2,8}){1,})*)?(-x(?:-[0-9a-z]{1,8})+)?)$/i
});

var dateFormatRegexPositions = Object.freeze({
  YEAR: 1,
  MONTH: 2,
  DAY: 3,
  HOUR: 4,
  MINUTE: 5,
  SECOND: 6,
  MSECOND: 7,
  ZONE: 8,
  RELATIVE_TIME: 9,
  TIME_ZONE_HOUR: 10,
  TIME_ZONE_MINUTE: 11
});

exports.xapiValidationRegex = xapiValidationRegex;
exports.dateFormatRegexPositions = dateFormatRegexPositions;

},{}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var IS_STRING = '[object String]',
    IS_ARRAY = '[object Array]',
    IS_BOOLEAN = '[object Boolean]',
    IS_NUMBER = '[object Number]';

var toString = Object.prototype.toString;
var xapiValidationUtils;

exports.xapiValidationUtils = xapiValidationUtils = {
  isString: function isString(obj) {
    return toString.call(obj) === IS_STRING;
  },
  isObject: function isObject(obj) {
    return obj === Object(obj);
  },


  isArray: Array.isArray || function (obj) {
    return toString.call(obj) === IS_ARRAY;
  },

  isBoolean: function isBoolean(obj) {
    return obj === true || obj === false || toString.call(obj) === IS_BOOLEAN;
  },
  isNumber: function isNumber(obj) {
    return toString.call(obj) === IS_NUMBER;
  },
  isDefined: function isDefined(obj) {
    return obj !== null || obj !== undefined;
  },
  isNonNullMapObject: function isNonNullMapObject(target) {
    return this.isDefined(target) && this.isObject(target) && !this.isArray(target);
  },
  isValidLanguageTag: function isValidLanguageTag(target, validLanguageRegex) {
    // TODO - use more precise 5646 handling, rather than this simplified BCP 47 regex, which combines RFC 5646 and RFC 4647.
    // return this.isDefined(target) && this.isString(target) && xapiValidationRegex.BCP_47.test(target);
    return this.isDefined(target) && this.isString(target) && validLanguageRegex.test(target);
  },
  addPropToTrace: function addPropToTrace(trace, addendum) {
    return this.isDefined(addendum) ? trace + '.' + addendum : trace;
  },
  addLookupToTrace: function addLookupToTrace(trace, key) {
    return !this.isDefined(key) ? trace : this.isNumber(key) ? trace + '[' + key + ']' : trace + '["' + key + '"]';
  },
  localTraceToString: function localTraceToString(trace, addendum) {
    return this.addPropToTrace(trace, addendum);
  },
  isGroup: function isGroup(actorOrGroup, groupType) {
    // return (actorOrGroup.member !== null && actorOrGroup.member !== undefined) || actorOrGroup.objectType === objectTypes.GROUP;
    return actorOrGroup.member !== null && actorOrGroup.member !== undefined || actorOrGroup.objectType === groupType;
  }
};

exports.xapiValidationUtils = xapiValidationUtils;

},{}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.validateStatement = undefined;

var _properties = require('./constants/properties');

var _errors = require('./constants/errors');

var _interactionTypes = require('./constants/interaction-types');

var _regex = require('./constants/regex');

var _general = require('./constants/general');

var _utils = require('./utils/utils');

function makeV1Report(instance, errors) {
  var version;

  instance = instance || null;
  errors = errors || null;
  version = _general.xapiGeneral.FIRST_REPORT_VERSTION;
  return { instance: instance, errors: errors, version: version };
}

function makeV1SingleErrorReport(instance, error) {
  return makeV1Report(instance, error === null || error === undefined ? [] : [error]);
}

function validateAbsenceOfNonWhitelistedProperties(target, allowedProperties, trace, errors) {
  var localErrors, localTrace, propertyName;

  localErrors = errors || [];
  localTrace = trace || '';

  for (propertyName in target) {
    if (target.hasOwnProperty(propertyName) && allowedProperties.indexOf(propertyName) === _general.xapiGeneral.NO_INDEX_FOUND) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, propertyName),
        message: _errors.xapiValidationErrors.UNEXPECTED,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  return localErrors;
}

function validatePropertyIsString(parent, propertyName, trace, errors, isRequired, violationType) {
  var localErrors, localTrace, propValue, localViolationType;

  localErrors = errors || [];
  localTrace = trace || '';
  propValue = parent[propertyName], localViolationType = violationType || _errors.xapiErrorLevels.MUST_VIOLATION;

  if (propValue !== undefined) {
    if (propValue === null || !_utils.xapiValidationUtils.isString(propValue)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_STRING,
        level: localViolationType
      });
    }
  } else if (isRequired) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_PRESENT,
      level: localViolationType
    });
  }

  return localErrors;
}

function validatePropertyIsUri(target, propertyName, trace, errors, isRequired) {
  var localErrors, localTrace, propValue;

  localErrors = errors || [];
  localTrace = trace || '';
  propValue = target[propertyName];

  if (propValue !== undefined) {
    if (propValue === null || !_utils.xapiValidationUtils.isString(propValue)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_URI_STRING,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    } else if (!_regex.xapiValidationRegex.IRI.test(propValue)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_IRI_STRING,
        level: _errors.xapiErrorLevels.SHOULD_VIOLATION
      });
    }
  } else if (isRequired) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_URI_PRESENT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }
  return localErrors;
}

function validatePropertyIsUrl(target, propertyName, trace, errors, isRequired) {
  // TODO - check whether a formal URL format definition is recommended/enforced for xAPI
  return validatePropertyIsString(target, propertyName, trace, errors, isRequired);
}

function validatePropertyIsBoolean(parent, propertyName, trace, errors, isRequired) {
  var localErrors, localTrace, propValue;

  localErrors = errors || [];
  localTrace = trace || '';
  propValue = parent[propertyName];

  if (propValue !== undefined) {
    if (propValue === null || !_utils.xapiValidationUtils.isBoolean(propValue)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_BOOLEAN,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  } else if (isRequired) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_BOOLEAN_PRESENT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }
  return localErrors;
}

function validatePropertyIsNumber(parent, propertyName, trace, errors, isRequired) {
  var localErrors, localTrace, propValue;

  localErrors = errors || [];
  localTrace = trace || '';
  propValue = parent[propertyName];

  if (propValue !== undefined) {
    if (propValue === null || !_utils.xapiValidationUtils.isNumber(propValue)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_NUMBER,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  } else if (isRequired) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_NUMBER_PRESENT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }
  return localErrors;
}

function validateIFIProperties(target, trace, errors) {
  var localErrors, localTrace, accountTrace;

  localErrors = errors || [];
  localTrace = trace || '';

  if (target.mbox !== undefined && target.mbox !== null) {
    if (!_utils.xapiValidationUtils.isString(target.mbox)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.MBOX),
        message: _errors.xapiValidationErrors.IFI_MUST_BE_MBOX_URI,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    } else if (!_regex.xapiValidationRegex.MAILTO_URI.test(target.mbox)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.MBOX),
        message: _errors.xapiValidationErrors.IFI_MUST_BE_VALID_MBOX_FORMAT,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  validatePropertyIsString(target, _properties.properties.MBOX_SHA_1_SUM, localTrace, localErrors, /*isRequired*/false);
  validatePropertyIsUri(target, _properties.properties.OPEN_ID, localTrace, localErrors, /*isRequired*/false);

  if (target.account !== undefined && target.account !== null) {
    accountTrace = _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.ACCOUNT);
    validatePropertyIsUri(target.account, _properties.properties.HOME_PAGE, accountTrace, localErrors, /*isRequired*/true);
    validatePropertyIsString(target.account, _properties.properties.NAME, accountTrace, localErrors, /*isRequired*/true);
    validateAbsenceOfNonWhitelistedProperties(target.account, _properties.xapiWhiteListProperties.IFI, accountTrace, localErrors);
  }

  return localErrors;
}

function getIFIs(target) {
  var ifis;

  if (target === null || target === undefined) {
    return [];
  }

  ifis = _properties.xapiValidationIfiPropertyNames.filter(function (name) {
    if (target[name] !== undefined && target[name] !== null) {
      return { key: name, value: target[name] };
    }
  });

  return ifis;
}

function getIFICount(target) {
  return getIFIs(target).length;
}

function validateExtensions(extensions, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [], localTrace = trace || _properties.properties.EXTENSIONS;

  if (extensions === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(extensions)) {
    localErrors.push({
      trace: localTrace,
      message: _errors.xapiValidationErrors.EXTENSIONS_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }
  // TODO - double-check what further enforceable constraints exist on extension object properties
  return localErrors;
}

function validateLanguageMap(languageMap, trace, errors) {
  var localErrors, localTrace, propName, mappedValue;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.LANGUAGE_MAP;

  if (languageMap === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(languageMap)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace),
      message: _errors.xapiValidationErrors.LANGUAGE_MAPS_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  for (propName in languageMap) {

    if (languageMap.hasOwnProperty(propName)) {
      if (!_utils.xapiValidationUtils.isValidLanguageTag(propName, _regex.xapiValidationRegex.BCP_47)) {
        localErrors.push({
          trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, propName),
          message: propName + ' ' + _errors.xapiValidationErrors.LANGUAGE_MAP_KEY_INVALID,
          level: _errors.xapiErrorLevels.MUST_VIOLATION
        });
      }

      mappedValue = languageMap[propName];

      if (mappedValue === null || mappedValue === undefined || !_utils.xapiValidationUtils.isString(mappedValue)) {
        localErrors.push({
          trace: _utils.xapiValidationUtils.addLookupToTrace(localTrace, propName),
          message: propName + ' ' + _errors.xapiValidationErrors.LANGUAGE_MAP_KEY_MUST_BE_STRING,
          level: _errors.xapiErrorLevels.MUST_VIOLATION
        });
      }
    }
  }

  return localErrors;
}

function validateVerb(verb, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.VERB;

  if (verb === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.VERB_MUST_BE_PROVIDED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(verb)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.VERB_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  validatePropertyIsUri(verb, _properties.properties.ID, localTrace, localErrors, /*isRequired*/true);

  if (verb.display === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DISPLAY),
      message: _errors.xapiValidationErrors.DISPLAY_SHOULD_BE_PROVIDED,
      level: _errors.xapiErrorLevels.SHOULD_VIOLATION
    });
  } else {
    validateLanguageMap(verb.display, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DISPLAY), localErrors);
  }

  validateAbsenceOfNonWhitelistedProperties(verb, _properties.xapiWhiteListProperties.URI, localTrace, localErrors);

  return localErrors;
}

function validateInteractionComponentArray(components, interactionType, allowedInteractionTypes, trace, errors) {
  var localErrors, localTrace, isAllowedComponentType, ids, perComponentTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.INTERACTION_COMPONENTS;
  isAllowedComponentType = allowedInteractionTypes.indexOf(interactionType) !== _general.xapiGeneral.NO_INDEX_FOUND;
  ids = [];

  if (isAllowedComponentType && components !== undefined) {
    if (components === null || !_utils.xapiValidationUtils.isArray(components)) {
      localErrors.push({
        trace: localTrace,
        message: _errors.xapiValidationErrors.INTERACTION_COMPONENT_SHOULD_BE_ARRAY,
        level: _errors.xapiErrorLevels.SHOULD_VIOLATION
      });
    } else {
      components.forEach(function (interactionComponent, i) {
        perComponentTrace = _utils.xapiValidationUtils.addLookupToTrace(localTrace, i);

        if (!_utils.xapiValidationUtils.isNonNullMapObject(interactionComponent)) {
          localErrors.push({
            trace: perComponentTrace,
            message: _errors.xapiValidationErrors.INTERACTION_COMPONENT_MUST_NOT_BE_NULL,
            level: _errors.xapiErrorLevels.MUST_VIOLATION
          });
        } else {
          validatePropertyIsString(interactionComponent, _properties.properties.ID, perComponentTrace, localErrors, /*isRequired*/true, _errors.xapiErrorLevels.MUST_VIOLATION);
          if (ids.indexOf(interactionComponent.id) !== _general.xapiGeneral.NO_INDEX_FOUND) {
            localErrors.push({
              trace: _utils.xapiValidationUtils.addPropToTrace(perComponentTrace, _properties.properties.ID),
              message: _errors.xapiValidationErrors.ID_MUST_BE_UNIQUE,
              level: _errors.xapiErrorLevels.MUST_VIOLATION
            });
          } else {
            ids.push(interactionComponent.id);
          }

          if (interactionComponent.id && _regex.xapiValidationRegex.CONTAINS_WHITESPACE.test(interactionComponent.id)) {
            localErrors.push({
              trace: _utils.xapiValidationUtils.addPropToTrace(perComponentTrace, _properties.properties.ID),
              message: _errors.xapiValidationErrors.ID_SHOULD_NOT_CONTAIN_WHITESPACES,
              level: _errors.xapiErrorLevels.SHOULD_VIOLATION
            });
          }

          validateLanguageMap(interactionComponent.description, _utils.xapiValidationUtils.addPropToTrace(perComponentTrace, _properties.properties.DESCRIPTION), localErrors);
          validateAbsenceOfNonWhitelistedProperties(interactionComponent, _properties.xapiWhiteListProperties.COMPONENT_ARRAY, perComponentTrace, localErrors);
        }
      });
    }
  } else if (interactionType && components) {
    localErrors.push({
      trace: localTrace,
      message: _errors.xapiValidationErrors.INTERACTION_TYPE_MUST_BE_VALID + ' ' + interactionType,
      level: _errors.xapiErrorLevels.SHOULD_VIOLATION
    });
  }

  return localErrors;
}

function validateActivityDefintion(definition, trace, errors) {
  var localErrors, localTrace, correctResponsesPatternTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.DEFINITION;
  correctResponsesPatternTrace = _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.CORRECT_RESPONSES_PATTERN);

  if (!_utils.xapiValidationUtils.isNonNullMapObject(definition)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace),
      message: _errors.xapiValidationErrors.DEFINITIONS_MUST_BE_OBJECTS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  validateLanguageMap(definition.name, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.NAME), localErrors);
  validateLanguageMap(definition.description, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DESCRIPTION), localErrors);

  validatePropertyIsUri(definition, _properties.properties.TYPE, localTrace, localErrors, /*isRequired*/false);
  validatePropertyIsUrl(definition, _properties.properties.MORE_INFO, localTrace, localErrors, /*isRequired*/false);
  validateExtensions(definition.extensions, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.EXTENSIONS), localErrors);

  if (definition.interactionType !== undefined) {
    if (definition.type !== _general.xapiGeneral.INTERACTION_DEFINITION_TYPE) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.TYPE),
        message: _errors.xapiValidationErrors.INTERACTION_ACTIVITY_SHOULD_HAVE + ' "' + _general.xapiGeneral.INTERACTION_DEFINITION_TYPE + '"',
        level: _errors.xapiErrorLevels.SHOULD_VIOLATION
      });
    }

    if (_interactionTypes.xapiValidationInteractionTypes.indexOf(definition.interactionType) === _general.xapiGeneral.NO_INDEX_FOUND) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.INTERACTION_TYPE),
        message: _errors.xapiValidationErrors.INTERACTION_TYPE_MUST_BE_CMI,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  if (definition.correctResponsesPattern !== undefined) {
    if (!_utils.xapiValidationUtils.isArray(definition.correctResponsesPattern)) {
      localErrors.push({
        trace: correctResponsesPatternTrace,
        message: _errors.xapiValidationErrors.CORRECT_RESPONSES_PATTERN_MUST_BE_ARRAY,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    } else {
      definition.correctResponsesPattern.forEach(function (response, i) {
        if (response === null || response === undefined || !_utils.xapiValidationUtils.isString(response)) {
          localErrors.push({
            trace: _utils.xapiValidationUtils.addLookupToTrace(correctResponsesPatternTrace, i),
            message: _errors.xapiValidationErrors.CORRECT_RESPONSES_PATTERN_MUST_BE_STRINGS,
            level: _errors.xapiErrorLevels.MUST_VIOLATION
          });
        }
      });
    }
  }

  validateInteractionComponentArray(definition.choices, definition.interactionType, [_properties.properties.CHOICE, _properties.properties.SEQUENCING], _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.CHOICES), localErrors);

  validateInteractionComponentArray(definition.scale, definition.interactionType, [_properties.properties.LIKERT], _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.SCALE), localErrors);

  validateInteractionComponentArray(definition.source, definition.interactionType, [_properties.properties.MATCHING], _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.SOURCE), localErrors);

  validateInteractionComponentArray(definition.target, definition.interactionType, [_properties.properties.MATCHING], _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.TARGET), localErrors);

  validateInteractionComponentArray(definition.steps, definition.interactionType, [_properties.properties.PERFORMANCE], _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.STEPS), localErrors);

  validateAbsenceOfNonWhitelistedProperties(definition, _properties.xapiWhiteListProperties.ACTIVITY_DEFINITION, localTrace, localErrors);
  return localErrors;
}

function validateActivity(activity, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.ACTIVITY;

  if (!_utils.xapiValidationUtils.isNonNullMapObject(activity)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.ACTIVITIES_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  validatePropertyIsUri(activity, _properties.properties.ID, localTrace, localErrors, /*isRequired*/true);

  if (activity.definition !== undefined) {
    validateActivityDefintion(activity.definition, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DEFINITION), localErrors);
  }

  validateAbsenceOfNonWhitelistedProperties(activity, _properties.xapiWhiteListProperties.ACTIVITY, localTrace, localErrors);

  return localErrors;
}

function validateStatementRef(statementRef, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.STATEMENT_REF;

  if (!_utils.xapiValidationUtils.isNonNullMapObject(statementRef)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.STATEMENT_REF_MUST_NOT_BE_NULL_MAP_OBJECTS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
    return localErrors;
  }

  if (statementRef.objectType !== _properties.objectTypes.STATEMENT_REF) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.OBJECT_TYPE),
      message: _errors.xapiValidationErrors.OBJECT_TYPE_MUST_BE_STATEMENT_REF,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (!statementRef.id || !_regex.xapiValidationRegex.UUID.test(statementRef.id)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.ID),
      message: _errors.xapiValidationErrors.ID_MUST_BE_VALID_UUID_REF,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  validateAbsenceOfNonWhitelistedProperties(statementRef, _properties.xapiWhiteListProperties.STATEMENT_REF, localTrace, localErrors);

  return localErrors;
}

function validateScore(score, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.SCORE;

  if (score === undefined) {
    return localErrors;
  }

  validatePropertyIsNumber(score, _properties.properties.SCALED, localTrace, localErrors, /*isRequired*/false);

  if (score.scaled !== undefined) {
    if (score.scaled < _general.xapiGeneral.MIN_SCALED_VALUE || score.scaled > _general.xapiGeneral.MAX_SCALED_VALUE) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.SCALED),
        message: _errors.xapiValidationErrors.SCALED_MUST_BE_BETWEEN_0_1,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  if (score.min !== undefined) {
    validatePropertyIsNumber(score, _properties.properties.MIN, localTrace, localErrors, /*isRequired*/false);

    if (score.raw !== undefined && score.raw < score.min) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.RAW),
        message: _errors.xapiValidationErrors.RAW_MUST_BE_GREATER_THAN_MIN,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }

    if (score.max !== undefined && score.max < score.min) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.MAX),
        message: _errors.xapiValidationErrors.MAX_MUST_BE_GREATER_THAN_MIN,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  if (score.max !== undefined) {
    validatePropertyIsNumber(score, _properties.properties.MAX, localTrace, localErrors, /*isRequired*/false);

    if (score.raw !== undefined && score.raw > score.max) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.RAW),
        message: _errors.xapiValidationErrors.RAW_MUST_BE_LESS_THAN_MAX,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  validatePropertyIsNumber(score, _properties.properties.RAW, localTrace, localErrors, /*isRequired*/false);
  validateAbsenceOfNonWhitelistedProperties(score, _properties.xapiWhiteListProperties.SCORE, localTrace, localErrors);

  return localErrors;
}

function validateResult(result, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.RESULT;

  if (result === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(result)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace),
      message: _errors.xapiValidationErrors.RESULT_MUST_BE_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  validateScore(result.score, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.SCORE), localErrors);
  validatePropertyIsBoolean(result, _properties.properties.SUCCESS, localTrace, localErrors, /*isRequired*/false);
  validatePropertyIsBoolean(result, _properties.properties.COMPLETION, localTrace, localErrors, /*isRequired*/false);
  validatePropertyIsString(result, _properties.properties.RESPONSE, localTrace, localErrors, /*isRequired*/false);
  validateExtensions(result.extensions, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.EXTENSIONS), localErrors);

  if (result.duration !== undefined && (result.duration === null || !_utils.xapiValidationUtils.isString(result.duration) || !_regex.xapiValidationRegex.ISO_8601_DURATION.test(result.duration))) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DURATION),
      message: _errors.xapiValidationErrors.DURATION_MUST_BE_VALID,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  validateAbsenceOfNonWhitelistedProperties(result, _properties.xapiWhiteListProperties.RESULT, localTrace, localErrors);

  return localErrors;
}

function validatePropertyIsISO8601String(parent, propertyName, trace, errors) {
  var localErrors, localTrace, matched, datetime;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.DATE_TIME;
  datetime = parent[propertyName];

  if (datetime === undefined) {
    return localErrors;
  }

  if (datetime === null || !_utils.xapiValidationUtils.isString(datetime)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_STRING,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  matched = _regex.xapiValidationRegex.ISO_8601_DATE_TIME.exec(datetime);

  if (matched) {
    if (!dateIncludesZoneInformation(matched)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: _errors.xapiValidationErrors.DATE_SHOULD_INCLUDE_ZONE_INFORMATION,
        level: _errors.xapiErrorLevels.SHOULD_VIOLATION
      });
    }
  } else {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: _errors.xapiValidationErrors.DATE_MUST_BE_VALID,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  return localErrors;
}

function validateVersion(version, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.VERSION;

  if (version === undefined) {
    return localErrors;
  }

  if (version === null || !_utils.xapiValidationUtils.isString(version) || !_regex.xapiValidationRegex.SEMVER_1_P_0_P_0.test(version)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.VERSION_MUST_COMPLY_SEMANTIC_VERSIONING,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  return localErrors;
}

function validateAttachmentObject(attachment, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.ATTACHMENT;

  if (!_utils.xapiValidationUtils.isNonNullMapObject(attachment)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.ATTACHMENTS_MUST_NOT_BE_NULL_MAP_OBJECTS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (attachment.display === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.DISPLAY),
      message: _errors.xapiValidationErrors.DISPLAY_SHOULD_BE_PROVIDED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  } else {
    validateLanguageMap(attachment.display, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DISPLAY), localErrors);
  }

  validateLanguageMap(attachment.description, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DESCRIPTION), localErrors);
  validatePropertyIsUri(attachment, _properties.properties.USAGE_TYPE, localTrace, localErrors, /*isRequired*/true, _errors.xapiErrorLevels.MUST_VIOLATION);
  validatePropertyIsUri(attachment, _properties.properties.FILE_URL, localTrace, localErrors, /*isRequired*/false, _errors.xapiErrorLevels.MUST_VIOLATION);

  // TODO - more complete validation for Internet Media Type via RFC 2046
  validatePropertyIsString(attachment, _properties.properties.CONTENT_TYPE, localTrace, localErrors, /*isRequired*/true, _errors.xapiErrorLevels.MUST_VIOLATION);

  if (attachment.length === undefined || attachment.length === null || !_utils.xapiValidationUtils.isNumber(attachment.length) || attachment.length % 1 !== 0) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.LENGTH),
      message: _errors.xapiValidationErrors.LENGTH_MUST_BE_INTEGER,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (attachment.sha2 === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.SHA2),
      message: _errors.xapiValidationErrors.SHA2_MUST_BE_PROVIDED_ON_ATTACHMENT_OBJECTS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  } else if (attachment.sha2 === null || !_utils.xapiValidationUtils.isString(attachment.sha2) || !_regex.xapiValidationRegex.BASE_64.test(attachment.sha2)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.SHA2),
      message: _errors.xapiValidationErrors.SHA2_MUST_CONTAIN_BASE_64_STRING,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  validateAbsenceOfNonWhitelistedProperties(attachment, _properties.xapiWhiteListProperties.ATTACHMENT, localTrace, localErrors);
  return localErrors;
}

function validateAttachments(attachments, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.ATTACHMENTS;

  if (attachments === undefined) {
    return localErrors;
  }

  if (attachments === null || !_utils.xapiValidationUtils.isArray(attachments)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.ATTACHMENTS_MUST_BE_NOT_NULL_ARRAY,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  attachments.forEach(function (attachment, i) {
    validateAttachmentObject(attachment, _utils.xapiValidationUtils.addLookupToTrace(localTrace, i), localErrors);
  });

  return localErrors;
}

function validateAgent(agent, trace, errors) {
  var localErrors, localTrace, ifiCount;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.AGENT;

  if (!_utils.xapiValidationUtils.isNonNullMapObject(agent)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.AGENT_MUST_BE_NON_NULL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
    return localErrors;
  }

  ifiCount = getIFICount(agent);

  if (ifiCount !== _general.xapiGeneral.NUMER_OF_SPECIFIED_IFI_PROPERTIES) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.AGENT_IFI_PROPERTIES_MUST_BE_SPECIFIED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (agent.objectType === _properties.objectTypes.GROUP) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.AGENT_MUST_NOT_HAVE_GROUP_CHARACTERISTICS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  validateIFIProperties(agent, localTrace, localErrors);
  validatePropertyIsString(agent, _properties.properties.NAME, localTrace, localErrors, /*isRequired*/false);

  validateAbsenceOfNonWhitelistedProperties(agent, _properties.xapiWhiteListProperties.AGENT, localTrace, localErrors);

  return localErrors;
}

function validateGroup(group, trace, errors) {
  var localErrors, localTrace, memberTrace, ifiCount;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.GROUP;
  memberTrace = _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.MEMBER);

  if (!_utils.xapiValidationUtils.isNonNullMapObject(group)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.GROUP_MUST_BE_NON_NULL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  ifiCount = getIFICount(group);

  if (ifiCount === 0) {
    if (group.member === null || group.member === undefined) {
      localErrors.push({
        trace: memberTrace,
        message: _errors.xapiValidationErrors.MEMBER_MUST_BE_PROVIDED_FOR_ANONYMOUS_GROUPS,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  } else if (ifiCount > _general.xapiGeneral.NUMER_OF_SPECIFIED_IFI_PROPERTIES) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.GROUP_IFI_PROPERTIES_MUST_BE_SPECIFIED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  validateIFIProperties(group, localTrace, localErrors);

  validatePropertyIsString(group, _properties.properties.NAME, localTrace, localErrors, /*isRequired*/false);

  if (group.member !== undefined) {
    if (group.member === null || !_utils.xapiValidationUtils.isArray(group.member)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.MEMBER),
        message: _errors.xapiValidationErrors.GROUP_MEMBER_MUST_BE_ARRAY,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    } else {
      group.member.forEach(function (member, i) {
        validateAgent(member, _utils.xapiValidationUtils.addLookupToTrace(memberTrace, i), localErrors);
      });
    }
  }

  validateAbsenceOfNonWhitelistedProperties(group, _properties.xapiWhiteListProperties.GROUP, localTrace, localErrors);

  return localErrors;
}

function validateActor(actor, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.ACTOR;

  if (actor === null || actor === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.ACTOR_MUST_BE_PROVIDED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (_utils.xapiValidationUtils.isGroup(actor, _properties.objectTypes.GROUP)) {
    validateGroup(actor, localTrace, localErrors);
  } else {
    validateAgent(actor, localTrace, localErrors);
  }

  return localErrors;
}

function validateAuthority(authority, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.AUTHORITY;

  if (authority === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(authority)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.AUTHORITY_MUST_BE_NON_NULL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }
  if (_utils.xapiValidationUtils.isGroup(authority, _properties.objectTypes.GROUP)) {
    validateGroup(authority, localTrace, localErrors);
    if (!authority.member || !authority.member.length || authority.member.length !== _general.xapiGeneral.GROUP_AUTHORITY_AGENT_MEMBERS) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.MEMBER),
        message: _errors.xapiValidationErrors.GROUP_AUTHORITY_AGENT_MEMBERS_MUST_BE_TWO,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  } else {
    validateAgent(authority, localTrace, localErrors);
  }

  return localErrors;
}

function validateContextActivitySubContext(subContext, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.SUB_CONTEXT;

  if (subContext === undefined) {
    return localErrors;
  }

  if (subContext === null) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.CONTEXT_ACTIVITIES_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  } else if (_utils.xapiValidationUtils.isArray(subContext)) {
    subContext.forEach(function (activity, i) {
      validateActivity(activity, _utils.xapiValidationUtils.addLookupToTrace(localTrace, i), localErrors);
    });
  } else if (_utils.xapiValidationUtils.isObject(subContext)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.CONTEXT_ACTIVITIES_SHOULD_BE_AN_ARRAY,
      level: _errors.xapiErrorLevels.SHOULD_VIOLATION
    });

    validateActivity(subContext, localTrace, localErrors);
  } else {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.CONTEXT_ACTIVITIES_MUST_BE_ARRAY_OR_ACTIVITY_OBJ,
      level: _errors.xapiErrorLevels.MUST_VIOLATION });
  }
  return localErrors;
}

function validateContextActivities(contextActivities, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.CONTEXT_ACTIVITIES;

  if (contextActivities === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(contextActivities)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.CONTEXT_ACTIVITIES_MUST_BE_NON_NULL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
    return localErrors;
  }

  validateContextActivitySubContext(contextActivities.parent, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.PARENT), localErrors);
  validateContextActivitySubContext(contextActivities.grouping, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.GROUPING), localErrors);
  validateContextActivitySubContext(contextActivities.category, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.CATEGORY), localErrors);
  validateContextActivitySubContext(contextActivities.other, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.OTHER), localErrors);

  validateAbsenceOfNonWhitelistedProperties(contextActivities, _properties.xapiWhiteListProperties.CONTEXT_ACTIVITIES, localTrace, localErrors);

  return localErrors;
}

function validateContext(context, trace, errors, statementObjectObjectType) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.CONTEXT;

  if (context === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(context)) {
    localErrors.push({
      trace: localTrace,
      message: _errors.xapiValidationErrors.CONTEXT_MUST_BE_NON_NUL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (context.registration !== undefined && (context.registration === null || !_utils.xapiValidationUtils.isString(context.registration) || !_regex.xapiValidationRegex.UUID.test(context.registration))) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.REGISTRATION),
      message: _errors.xapiValidationErrors.REGISTRATION_MUST_BE_UUID_STRING,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if ([_properties.objectTypes.GROUP, _properties.objectTypes.AGENT].indexOf(statementObjectObjectType) !== _general.xapiGeneral.NO_INDEX_FOUND) {
    if (context.revision !== undefined) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.REVISION),
        message: _errors.xapiValidationErrors.REVISION_MUST_BE_AGENT_OR_GROUP,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }

    if (context.platform !== undefined) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.PLATFORM),
        message: _errors.xapiValidationErrors.PLATFORM_MUST_NOT_BE_USED_WITH_REVISION_AGENT_OR_GROUP,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  validatePropertyIsString(context, _properties.properties.REVISION, localTrace, localErrors, /*isRequired*/false, _errors.xapiErrorLevels.MUST_VIOLATION);
  validatePropertyIsString(context, _properties.properties.PLATFORM, localTrace, localErrors, /*isRequired*/false, _errors.xapiErrorLevels.MUST_VIOLATION);

  if (context.team !== undefined) {
    validateGroup(context.team, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.TEAM), localErrors);
  }

  if (context.contextActivities !== undefined) {
    validateContextActivities(context.contextActivities, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.CONTEXT_ACTIVITIES), localErrors);
  }

  if (context.language !== undefined && !_utils.xapiValidationUtils.isValidLanguageTag(context.language, _regex.xapiValidationRegex.BCP_47)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.LANGUAGE),
      message: _errors.xapiValidationErrors.LANGUAGE_MUST_BE_STRING,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (context.statement !== undefined) {
    validateStatementRef(context.statement, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.STATEMENT), localErrors);
  }

  if (context.instructor !== undefined) {
    if (_utils.xapiValidationUtils.isGroup(context.instructor, _properties.objectTypes.GROUP)) {
      validateGroup(context.instructor, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.INSTRUCTOR), localErrors);
    } else {
      validateAgent(context.instructor, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.INSTRUCTOR), localErrors);
    }
  }

  validateExtensions(context.extensions, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.EXTENSIONS), localErrors);
  validateAbsenceOfNonWhitelistedProperties(context, _properties.xapiWhiteListProperties.EXTENSIONS, localTrace, localErrors);

  return localErrors;
}

function validateObject(object, trace, errors, isWithinSubStatement) {
  var localErrors, localTrace, objectType;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.OBJECT;

  if (object === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.OBJECT_MUST_BE_DEFINED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(object)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.OBJECT_MUST_BE_NON_NULL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  validatePropertyIsString(object, _properties.properties.OBJECT_TYPE, localTrace, localErrors, /*isRequired*/true, _errors.xapiErrorLevels.SHOULD_VIOLATION);

  objectType = object.objectType || _properties.objectTypes.ACTIVITY;

  switch (objectType) {
    case _properties.objectTypes.ACTIVITY:
      validateActivity(object, localTrace, localErrors);
      break;
    case _properties.objectTypes.AGENT:
      validateAgent(object, localTrace, localErrors);
      break;
    case _properties.objectTypes.GROUP:
      validateGroup(object, localTrace, localErrors);
      break;
    case _properties.objectTypes.STATEMENT_REF:
      validateStatementRef(object, localTrace, localErrors);
      break;
    case _properties.objectTypes.SUB_STATEMENT:
      if (isWithinSubStatement) {
        localErrors.push({
          trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.OBJECT_TYPE),
          message: _errors.xapiValidationErrors.SUB_STATEMENT_MUST_NOT_CONTAIN_SUB_STATEMENT,
          level: _errors.xapiErrorLevels.MUST_VIOLATION
        });
      }
      validate(object, localTrace, localErrors, /*isSubStatement*/true);
      break;
    default:
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.OBJECT_TYPE),
        message: _errors.xapiValidationErrors.OBJECT_TYPE_MUST_BE_VALID_OPTION + ' ' + _properties.xApiValidObjectTypes.toString(),
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
  }

  return localErrors;
}

function validate(statement, trace, errors, isSubStatement) {
  var localErrors, localTrace, statementObjectObjectType, whitelistedProperties;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.STATEMENT;

  whitelistedProperties = _properties.xapiWhiteListProperties.STATEMENT;

  if (!_utils.xapiValidationUtils.isNonNullMapObject(statement)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.STATEMENT_REF_MUST_NOT_BE_NULL_MAP_OBJECTS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (!isSubStatement) {
    if (statement.id === null || statement.id === undefined || !_utils.xapiValidationUtils.isString(statement.id)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.ID),
        message: _errors.xapiValidationErrors.IDS_SHOULD_BE_GENERATED_BY_LRS,
        level: _errors.xapiErrorLevels.SHOULD_VIOLATION
      });
    } else if (!_regex.xapiValidationRegex.UUID.test(statement.id)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.ID),
        message: _errors.xapiValidationErrors.ID_MUST_BE_VALID,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  } else {
    whitelistedProperties = _properties.xapiWhiteListProperties.SUB_STATEMENT;
  }

  validateActor(statement.actor, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.ACTOR), localErrors);
  validateVerb(statement.verb, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.VERB), localErrors);
  validateObject(statement.object, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.OBJECT), localErrors, isSubStatement);
  validateResult(statement.result, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.RESULT), localErrors);

  statementObjectObjectType = statement.object && statement.object.objectType ? statement.object.objectType : _properties.objectTypes.ACTIVITY;

  validateContext(statement.context, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.CONTEXT), localErrors, statementObjectObjectType);
  validatePropertyIsISO8601String(statement, _properties.properties.TIMESTAMP, localTrace, localErrors);
  validatePropertyIsISO8601String(statement, _properties.properties.STORED, localTrace, localErrors);

  validateAuthority(statement.authority, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.AUTHORITY), localErrors);
  validateVersion(statement.version, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.VERSION), localErrors);
  validateAttachments(statement.attachments, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.ATTACHMENTS), localErrors);

  validateAbsenceOfNonWhitelistedProperties(statement, whitelistedProperties, localTrace, localErrors);

  return localErrors;
}

function makeStatementReport(statement) {
  var localErrors;

  localErrors = [];
  validate(statement, _properties.properties.STATEMENT, localErrors, /*isRequired*/false);

  return makeV1Report(statement, localErrors);
}

function validateAmbiguousTypeStatement(statement) {
  var statementObject;

  if (statement === undefined) {
    return makeV1SingleErrorReport( /*instance*/null, {
      trace: _properties.properties.STATEMENT,
      message: _errors.xapiValidationErrors.STATEMENT_ARGUMENT_MUST_BE_PROVIDED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (statement === null) {
    return makeV1SingleErrorReport( /*instance*/null, {
      trace: _properties.properties.STATEMENT,
      message: _errors.xapiValidationErrors.STATEMENT_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (_utils.xapiValidationUtils.isString(statement)) {
    try {
      statementObject = JSON.parse(statement);
      if (statementObject === null || !_utils.xapiValidationUtils.isObject(statementObject) || _utils.xapiValidationUtils.isArray(statementObject)) {
        return makeV1SingleErrorReport(statementObject, {
          trace: _properties.properties.STATEMENT,
          message: _errors.xapiValidationErrors.STATEMENT_MUST_BE_PARSED_CORRECTLY,
          level: _errors.xapiErrorLevels.MUST_VIOLATION
        });
      }
    } catch (e) {
      return makeV1SingleErrorReport(statementObject, {
        trace: _properties.properties.STATEMENT,
        message: _errors.xapiValidationErrors.INVALID_JSON + ': ' + e.message,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }

    return makeStatementReport(statementObject);
  }

  if (_utils.xapiValidationUtils.isObject(statement) && !_utils.xapiValidationUtils.isArray(statement)) {
    return makeStatementReport(statement);
  }

  return makeV1SingleErrorReport( /*instance*/null, {
    trace: _properties.properties.STATEMENT,
    message: _errors.xapiValidationErrors.STATEMENT_ARGUMENT_IS_NOT_VALID,
    level: _errors.xapiErrorLevels.MUST_VIOLATION
  });
}

function dateIncludesZoneInformation(matched) {
  return matched[_regex.dateFormatRegexPositions.ZONE] || matched[_regex.dateFormatRegexPositions.RELATIVE_TIME] && matched[_regex.dateFormatRegexPositions.TIME_ZONE_HOUR];
}

var validateStatement = exports.validateStatement = validateAmbiguousTypeStatement;

},{"./constants/errors":1,"./constants/general":2,"./constants/interaction-types":3,"./constants/properties":4,"./constants/regex":5,"./utils/utils":6}]},{},[7])(7)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29uc3RhbnRzL2Vycm9ycy5qcyIsInNyYy9jb25zdGFudHMvZ2VuZXJhbC5qcyIsInNyYy9jb25zdGFudHMvaW50ZXJhY3Rpb24tdHlwZXMuanMiLCJzcmMvY29uc3RhbnRzL3Byb3BlcnRpZXMuanMiLCJzcmMvY29uc3RhbnRzL3JlZ2V4LmpzIiwic3JjL3V0aWxzL3V0aWxzLmpzIiwic3JjL3hhcGlWYWxpZGF0b3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7Ozs7QUFFQSxJQUFNLGtCQUFrQixPQUFPLE1BQVAsQ0FBYztBQUNwQyxpQkFBa0IsZUFEa0I7QUFFcEMsa0JBQWtCLGdCQUZrQjtBQUdwQyxvQkFBa0I7QUFIa0IsQ0FBZCxDQUF4Qjs7QUFNQSxJQUFNLHVCQUF1QixPQUFPLE1BQVAsQ0FBYztBQUN6QywyQ0FBa0QseUNBRFQ7QUFFekMsMEJBQWtELHlCQUZUO0FBR3pDLDBDQUFrRCxzRkFIVDtBQUl6QyxxQ0FBa0QsdUNBSlQ7QUFLekMsNkNBQWtELDRFQUxUO0FBTXpDLHNDQUFrRCx5Q0FOVDtBQU96Qyw0Q0FBa0Qsc0RBUFQ7QUFRekMseUNBQWtELHFFQVJUO0FBU3pDLG9EQUFrRCxzR0FUVDtBQVV6QyxrREFBa0QsaUVBVlQ7QUFXekMsdUNBQWtELHdEQVhUO0FBWXpDLHlDQUFrRCxxSEFaVDtBQWF6QyxzQ0FBa0QsbUVBYlQ7QUFjekMsMkNBQWtELDhFQWRUO0FBZXpDLDZDQUFrRCxrREFmVDtBQWdCekMsc0JBQWtELDRFQWhCVDtBQWlCekMsd0NBQWtELG1GQWpCVDtBQWtCekMsK0JBQWtELGtEQWxCVDtBQW1CekMsOEJBQWtELHdDQW5CVDtBQW9CekMsMEJBQWtELHdFQXBCVDtBQXFCekMsK0JBQWtELG9FQXJCVDtBQXNCekMsNkNBQWtELHNJQXRCVDtBQXVCekMsMENBQWtELHFGQXZCVDtBQXdCekMsOEJBQWtELDZEQXhCVDtBQXlCekMscUNBQWtELHVDQXpCVDtBQTBCekMscUJBQWtELHdFQTFCVDtBQTJCekMsNkJBQWtELGtGQTNCVDtBQTRCekMsb0JBQWtELHlCQTVCVDtBQTZCekMscUNBQWtELHlFQTdCVDtBQThCekMsa0NBQWtELG9GQTlCVDtBQStCekMsd0JBQWtELHFGQS9CVDtBQWdDekMsaUNBQWtELDZGQWhDVDtBQWlDekMsb0NBQWtELGlFQWpDVDtBQWtDekMsMENBQWtELDRFQWxDVDtBQW1DekMseUNBQWtELG9FQW5DVDtBQW9DekMsZ0NBQWtELGdGQXBDVDtBQXFDekMsa0NBQWtELHdHQXJDVDtBQXNDekMsZ0JBQWtELGtEQXRDVDtBQXVDekMsNEJBQWtELDRDQXZDVDtBQXdDekMsbUNBQWtELHlEQXhDVDtBQXlDekMsa0NBQWtELDJEQXpDVDtBQTBDekMsMkJBQWtELHFGQTFDVDtBQTJDekMsMEJBQWtELDBEQTNDVDtBQTRDekMsZ0NBQWtELHdGQTVDVDtBQTZDekMsZ0RBQWtELDBEQTdDVDtBQThDekMsMkJBQWtELHVEQTlDVDtBQStDekMsbUJBQWtELDBDQS9DVDtBQWdEekMsc0JBQWtELHVFQWhEVDtBQWlEekMsMEJBQWtELHNEQWpEVDtBQWtEekMsa0JBQWtELHlDQWxEVDtBQW1EekMsbUJBQWtELHNEQW5EVDtBQW9EekMsa0JBQWtELHlDQXBEVDtBQXFEekMsdUJBQWtELDBEQXJEVDtBQXNEekMsc0JBQWtELDZDQXREVDtBQXVEekMsMEJBQWtELHFDQXZEVDtBQXdEekMsc0NBQWtELGtEQXhEVDtBQXlEekMscUNBQWtELHFGQXpEVDtBQTBEekMsb0NBQWtELHFEQTFEVDtBQTJEekMsZ0NBQWtELHdGQTNEVDtBQTREekMsNkJBQWtELHFGQTVEVDtBQTZEekMsb0NBQWtELDhEQTdEVDtBQThEekMsNkJBQWtELDZDQTlEVDtBQStEekMsbUNBQWtELHlGQS9EVDtBQWdFekMsOEJBQWtELCtEQWhFVDtBQWlFekMsK0NBQWtELHdEQWpFVDtBQWtFekMsb0NBQWtELDREQWxFVDtBQW1FekMsbUNBQWtELDRFQW5F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LGdDQUF5QixhQUFqQyxLQUFtRCxRQUFRLGdDQUF5QixjQUFqQyxDQUQ1RDtBQUVEOztBQUVNLElBQUksZ0RBQW9CLDhCQUF4QiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHhhcGlFcnJvckxldmVscyA9IE9iamVjdC5mcmVlemUoe1xuICBNQVlfVklPTEFUSU9OOiAgICAnTUFZX1ZJT0xBVElPTicsXG4gIE1VU1RfVklPTEFUSU9OOiAgICdNVVNUX1ZJT0xBVElPTicsXG4gIFNIT1VMRF9WSU9MQVRJT046ICdTSE9VTERfVklPTEFUSU9OJ1xufSk7XG5cbmNvbnN0IHhhcGlWYWxpZGF0aW9uRXJyb3JzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIEFDVElWSVRJRVNfTVVTVF9OT1RfQkVfTlVMTF9NQVBfT0JKRUNUUzogICAgICAgICAgJ0FjdGl2aXRpZXMgbXVzdCBiZSBub24tbnVsbCBtYXAgb2JqZWN0cycsXG4gIEFDVE9SX01VU1RfQkVfUFJPVklERUQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FjdG9yIG11c3QgYmUgcHJvdmlkZWQuJyxcbiAgQUdFTlRfSUZJX1BST1BFUlRJRVNfTVVTVF9CRV9TUEVDSUZJRUQ6ICAgICAgICAgICAnRXhhY3RseSBvbmUgSW52ZXJzZSBGdW5jdGlvbmFsIElkZW50aWZpZXIgcHJvcGVydHkgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIGFuIFwiYWdlbnRcIi4nLFxuICBBR0VOVF9NVVNUX0JFX05PTl9OVUxMX01BUF9PQkpFQ1Q6ICAgICAgICAgICAgICAgICdcImFnZW50XCIgbXVzdCBiZSBhIG5vbi1udWxsIG1hcCBvYmplY3QnLFxuICBBR0VOVF9NVVNUX05PVF9IQVZFX0dST1VQX0NIQVJBQ1RFUklTVElDUzogICAgICAgICdJbnZhbGlkIG9iamVjdCB3aXRoIGNoYXJhY3RlcmlzdGljcyBvZiBhIEdyb3VwIHdoZW4gYW4gQWdlbnQgd2FzIGV4cGVjdGVkLicsXG4gIEFUVEFDSE1FTlRTX01VU1RfQkVfTk9UX05VTExfQVJSQVk6ICAgICAgICAgICAgICAgJ1wiYXR0YWNobWVudHNcIiBtdXN0IGJlIGEgbm9uLW51bGwgQXJyYXkuJyxcbiAgQVRUQUNITUVOVFNfTVVTVF9OT1RfQkVfTlVMTF9NQVBfT0JKRUNUUzogICAgICAgICAnXCJhdHRhY2htZW50XCIgaW5zdGFuY2VzIG11c3QgYmUgbm9uLW51bGwgbWFwIG9iamVjdHMuJyxcbiAgQVVUSE9SSVRZX01VU1RfQkVfTk9OX05VTExfTUFQX09CSkVDVDogICAgICAgICAgICAnSWYgcHJlc2VudCwgdGhlIFwiYXV0aG9yaXR5XCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbi1udWxsIG1hcCBvYmplY3QuJyxcbiAgQ09OVEVYVF9BQ1RJVklUSUVTX01VU1RfQkVfQVJSQVlfT1JfQUNUSVZJVFlfT0JKOiAnQ29udGV4dCBBY3Rpdml0aWVzIHByb3BlcnR5IHZhbHVlcyBtdXN0IGJlIGFuIGFycmF5IG9mIEFjdGl2aXR5IE9iamVjdHMgb3IgYSBzaW5nbGUgQWN0aXZpdHkgT2JqZWN0LicsXG4gIENPTlRFWFRfQUNUSVZJVElFU19NVVNUX0JFX05PTl9OVUxMX01BUF9PQkpFQ1Q6ICAgJ1RoZSBDb250ZXh0IEFjdGl2aXRpZXMgaW5zdGFuY2VzIG11c3QgYmUgYSBub24tbnVsbCBtYXAgb2JqZWN0LicsXG4gIENPTlRFWFRfQUNUSVZJVElFU19NVVNUX05PVF9CRV9OVUxMOiAgICAgICAgICAgICAgJ1wiQ29udGV4dCBBY3Rpdml0aWVzXCIgcHJvcGVydHkgdmFsdWVzIG11c3Qgbm90IGJlIG51bGwuJyxcbiAgQ09OVEVYVF9BQ1RJVklUSUVTX1NIT1VMRF9CRV9BTl9BUlJBWTogICAgICAgICAgICAnQ29udGV4dCBBY3Rpdml0aWVzIHByb3BlcnR5IHZhbHVlcyBzaG91bGQgcHJlZmVyIHRvIGJlIGFuIGFycmF5IG9mIEFjdGl2aXRpZXMgcmF0aGVyIHRoYW4gYSBzaW5nbGUgQWN0aXZpdHkgb2JqZWN0LicsXG4gIENPTlRFWFRfTVVTVF9CRV9OT05fTlVMX01BUF9PQkpFQ1Q6ICAgICAgICAgICAgICAgJ0lmIHByZXNlbnQsIHRoZSBcImNvbnRleHRcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uLW51bGwgbWFwIG9iamVjdC4nLFxuICBDT1JSRUNUX1JFU1BPTlNFU19QQVRURVJOX01VU1RfQkVfQVJSQVk6ICAgICAgICAgICdJZiBwcmVzZW50LCB0aGUgXCJjb3JyZWN0UmVzcG9uc2VzUGF0dGVyblwiIHZhbHVlIG11c3QgYmUgYW4gQXJyYXkgb2Ygc3RyaW5ncy4nLFxuICBDT1JSRUNUX1JFU1BPTlNFU19QQVRURVJOX01VU1RfQkVfU1RSSU5HUzogICAgICAgICdcImNvcnJlY3RSZXNwb25zZXNQYXR0ZXJuXCIgaXRlbXMgbXVzdCBiZSBzdHJpbmdzLicsXG4gIERBVEVfTVVTVF9CRV9WQUxJRDogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoaXMgcHJvcGVydHlzIHN0cmluZyB2YWx1ZSBtdXN0IGJlIGNvbmZvcm1hbnQgdG8gSVNPIDg2MDEgZm9yIERhdGUgVGltZXMuJyxcbiAgREFURV9TSE9VTERfSU5DTFVERV9aT05FX0lORk9STUFUSU9OOiAgICAgICAgICAgICAnSVNPIDg2MDEgZGF0ZSB0aW1lIHN0cmluZ3MgdXNlZCBpbiB0aGUgeEFQSSBzaG91bGQgaW5jbHVkZSB0aW1lIHpvbmUgaW5mb3JtYXRpb24uJyxcbiAgREVGSU5JVElPTlNfTVVTVF9CRV9PQkpFQ1RTOiAgICAgICAgICAgICAgICAgICAgICAnXCJkZWZpbml0aW9uc1wiLCB3aGVuIHByZXNlbnQsIG11c3QgYmUgbWFwIG9iamVjdHMnLFxuICBESVNQTEFZX1NIT1VMRF9CRV9QUk9WSURFRDogICAgICAgICAgICAgICAgICAgICAgICdcImRpc3BsYXlcIiBwcm9wZXJ0eSBzaG91bGQgYmUgcHJvdmlkZWQuJyxcbiAgRFVSQVRJT05fTVVTVF9CRV9WQUxJRDogICAgICAgICAgICAgICAgICAgICAgICAgICAnSWYgcHJlc2VudCwgdGhlIFwiZHVyYXRpb25cIiBwcm9wZXJ0eSB2YWx1ZSBtdXN0IGJlIGFuIElTTyA4NjAxIGR1cmF0aW9uJyxcbiAgRVhURU5TSU9OU19NVVNUX05PVF9CRV9OVUxMOiAgICAgICAgICAgICAgICAgICAgICAnSWYgcHJlc2VudCwgdGhlIGV4dGVuc2lvbnMgcHJvcGVydHkgbXVzdCBiZSBhIG5vbi1udWxsIG1hcCBvYmplY3QuJyxcbiAgR1JPVVBfQVVUSE9SSVRZX0FHRU5UX01FTUJFUlNfTVVTVF9CRV9UV086ICAgICAgICAnSWYgdXNlZCBhcyBhIEdyb3VwLCB0aGUgXCJhdXRob3JpdHlcIiBwcm9wZXJ0eSBtdXN0IGNvbnRhaW4gYSBcIm1lbWJlclwiIHByb3BlcnR5IHRoYXQgaXMgYW4gYXJyYXkgY29udGFpbmluZyBleGFjdGx5IHR3byBBZ2VudCBvYmplY3RzLicsXG4gIEdST1VQX0lGSV9QUk9QRVJUSUVTX01VU1RfQkVfU1BFQ0lGSUVEOiAgICAgICAgICAgJ0V4YWN0bHkgb25lIEludmVyc2UgRnVuY3Rpb25hbCBJZGVudGlmaWVyIHByb3BlcnR5IG11c3QgYmUgc3BlY2lmaWVkIGZvciBhIFwiZ3JvdXBcIi4nLFxuICBHUk9VUF9NRU1CRVJfTVVTVF9CRV9BUlJBWTogICAgICAgICAgICAgICAgICAgICAgICdJZiBwcmVzZW50LCB0aGUgbWVtYmVyIHByb3BlcnR5IG9mIGEgR3JvdXAgbXVzdCBiZSBhbiBBcnJheScsXG4gIEdST1VQX01VU1RfQkVfTk9OX05VTExfTUFQX09CSkVDVDogICAgICAgICAgICAgICAgJ1wiZ3JvdXBcIiBtdXN0IGJlIGEgbm9uLW51bGwgbWFwIG9iamVjdCcsXG4gIElEX01VU1RfQkVfVU5JUVVFOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wiaWRcIiBwcm9wZXJ0aWVzIG11c3QgYmUgdW5pcXVlIHdpdGhpbiBlYWNoIGludGVyYWN0aW9uIGNvbXBvbmVudCBhcnJheScsXG4gIElEX01VU1RfQkVfVkFMSURfVVVJRF9SRUY6ICAgICAgICAgICAgICAgICAgICAgICAgJ1wiaWRcIiBwcm9wZXJ0eSB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgVVVJRCBzdHJpbmcgZm9yIHN0YXRlbWVudCByZWZlcmVuY2Ugb2JqZWN0cy4nLFxuICBJRF9NVVNUX0JFX1ZBTElEOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdJZCB3YXMgbm90IGEgdmFsaWQgVVVJRCcsXG4gIElEX1NIT1VMRF9OT1RfQ09OVEFJTl9XSElURVNQQUNFUzogICAgICAgICAgICAgICAgJ1wiaWRcIiBwcm9wZXJ0aWVzIG9uIGludGVyYWN0aW9uIGNvbXBvbmVudHMgc2hvdWxkIG5vdCBjb250YWluIHdoaXRlc3BhY2UnLFxuICBJRFNfU0hPVUxEX0JFX0dFTkVSQVRFRF9CWV9MUlM6ICAgICAgICAgICAgICAgICAgICdJZHMgc2hvdWxkIGJlIGdlbmVyYXRlZCBieSB0aGUgQWN0aXZpdHkgUHJvdmlkZXIsIGFuZCBtdXN0IGJlIGdlbmVyYXRlZCBieSB0aGUgTFJTJyxcbiAgSUZJX01VU1RfQkVfTUJPWF9VUkk6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCJtYm94XCIgcHJvcGVydHkgd2FzIHJlcXVpcmVkIHRvIGJlIGEgbWFpbHRvIFVSSSBzdHJpbmcgYnV0IHdhcyBub3QgYSBzdHJpbmcgYXQgYWxsLicsXG4gIElGSV9NVVNUX0JFX1ZBTElEX01CT1hfRk9STUFUOiAgICAgICAgICAgICAgICAgICAgJ1wibWJveFwiIHByb3BlcnR5IHdhcyByZXF1aXJlZCB0byBiZSBhIG1haWx0byBVUkkgc3RyaW5nIGJ1dCBkaWQgbm90IG1hdGNoIHRoZSBtYWlsdG8gZm9ybWF0LicsXG4gIElOVEVSQUNUSU9OX0FDVElWSVRZX1NIT1VMRF9IQVZFOiAgICAgICAgICAgICAgICAgJ0ludGVyYWN0aW9uIEFjdGl2aXR5IERlZmluaXRpb25zIHNob3VsZCBoYXZlIGEgdHlwZSBwcm9wZXJ0eSBvZicsXG4gIElOVEVSQUNUSU9OX0NPTVBPTkVOVF9NVVNUX05PVF9CRV9OVUxMOiAgICAgICAgICAgJ1RoaXMgaW50ZXJhY3Rpb24gY29tcG9uZW50IGNvbGxlY3Rpb24gbWVtYmVyIG11c3QgYmUgYSBub24tbnVsbCBtYXAgb2JqZWN0JyxcbiAgSU5URVJBQ1RJT05fQ09NUE9ORU5UX1NIT1VMRF9CRV9BUlJBWTogICAgICAgICAgICAnVGhpcyBpbnRlcmFjdGlvbiBjb21wb25lbnQgY29sbGVjdGlvbiBwcm9wZXJ0eSBzaG91bGQgYmUgYW4gYXJyYXkuJyxcbiAgSU5URVJBQ1RJT05fVFlQRV9NVVNUX0JFX0NNSTogICAgICAgICAgICAgICAgICAgICAnSWYgcHJlc2VudCwgdGhlIFwiaW50ZXJhY3Rpb25UeXBlXCIgdmFsdWUgbXVzdCBiZSBhIENNSSBpbnRlcmFjdGlvbiB0eXBlIG9wdGlvbi4nLFxuICBJTlRFUkFDVElPTl9UWVBFX01VU1RfQkVfVkFMSUQ6ICAgICAgICAgICAgICAgICAgICdUaGlzIGludGVyYWN0aW9uIGNvbXBvbmVudCBjb2xsZWN0aW9uIHByb3BlcnR5IGlzIG5vdCBhc3NvY2lhdGVkIHdpdGggdGhlIHByZXNlbnQgaW50ZXJhY3Rpb25UeXBlIG9mOiAnLFxuICBJTlZBTElEX0pTT046ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdJbnZhbGlkIEpTT04uIFRoZSBzdGF0ZW1lbnQgY291bGQgbm90IGJlIHBhcnNlZC4nLFxuICBMQU5HVUFHRV9NQVBfS0VZX0lOVkFMSUQ6ICAgICAgICAgICAgICAgICAgICAgICAgICdrZXksIExhbmd1YWdlIGRvZXMgbm90IGNvbmZvcm0gdG8gUkZDIDU2NDYnLFxuICBMQU5HVUFHRV9NQVBfS0VZX01VU1RfQkVfU1RSSU5HOiAgICAgICAgICAgICAgICAgICdrZXk6IExhbmd1YWdlIE1hcCB2YWx1ZSBzaG91bGQgYmUgYSBTdHJpbmcsIGJ1dCB3YXMgbm90JyxcbiAgTEFOR1VBR0VfTUFQU19NVVNUX05PVF9CRV9OVUxMOiAgICAgICAgICAgICAgICAgICAnTGFuZ3VhZ2UgTWFwcywgd2hlbiBwcmVzZW50LCBtdXN0IGJlIG5vbi1udWxsIG1hcCBvYmplY3RzJyxcbiAgTEFOR1VBR0VfTVVTVF9CRV9TVFJJTkc6ICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIGxhbmd1YWdlIHByb3BlcnR5IG11c3QgYmUgZW5jb2RlZCBhcyBhbiBSRkMgNTY0NiBjb21wbGlhbnQgc3RyaW5nLCBidXQgd2FzIG5vdC4nLFxuICBMRU5HVEhfTVVTVF9CRV9JTlRFR0VSOiAgICAgICAgICAgICAgICAgICAgICAgICAgICdcImxlbmd0aFwiIHByb3BlcnR5IG11c3QgYmUgcHJvdmlkZWQgd2l0aCBhbiBpbnRlZ2VyIHZhbHVlJyxcbiAgTUFYX01VU1RfQkVfR1JFQVRFUl9USEFOX01JTjogICAgICAgICAgICAgICAgICAgICAnSWYgYm90aCBcIm1heFwiIGFuZCBcIm1pblwiIGFyZSBwcmVzZW50LCB0aGUgbWF4IHByb3BlcnR5IHZhbHVlIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gbWluJyxcbiAgTUVNQkVSX01VU1RfQkVfUFJPVklERURfRk9SX0FOT05ZTU9VU19HUk9VUFM6ICAgICAnXCJtZW1iZXJcIiBwcm9wZXJ0eSBtdXN0IGJlIHByb3ZpZGVkIGZvciBBbm9ueW1vdXMgR3JvdXBzLicsXG4gIE1VU1RfQkVfQk9PTEVBTl9QUkVTRU5UOiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5IHdhcyByZXF1aXJlZCB0byBiZSBhIEJvb2xlYW4gYnV0IHdhcyBhYnNlbnQuJyxcbiAgTVVTVF9CRV9CT09MRUFOOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvcGVydHksIGlmIHByZXNlbnQsIG11c3QgYmUgYSBCb29sZWFuLicsXG4gIE1VU1RfQkVfSVJJX1NUUklORzogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5LCBpZiBwcmVzZW50LCBzaG91bGQgYmUgYSBJUkktbGlrZSBhYnNvbHV0ZSBVUkkgcGVyIFJGQyAzOTg3LicsXG4gIE1VU1RfQkVfTlVNQkVSX1BSRVNFTlQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5IHdhcyByZXF1aXJlZCB0byBiZSBhIE51bWJlciBidXQgd2FzIGFic2VudC4nLFxuICBNVVNUX0JFX05VTUJFUjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eSwgaWYgcHJlc2VudCwgbXVzdCBiZSBhIE51bWJlci4nLFxuICBNVVNUX0JFX1BSRVNFTlQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eSB3YXMgcmVxdWlyZWQgdG8gYmUgYSBzdHJpbmcgYnV0IHdhcyBhYnNlbnQuJyxcbiAgTVVTVF9CRV9TVFJJTkc6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvcGVydHksIGlmIHByZXNlbnQsIG11c3QgYmUgYSBzdHJpbmcuJyxcbiAgTVVTVF9CRV9VUklfUFJFU0VOVDogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvcGVydHkgd2FzIHJlcXVpcmVkIHRvIGJlIGEgVVJJIHN0cmluZyBidXQgd2FzIGFic2VudC4nLFxuICBNVVNUX0JFX1VSSV9TVFJJTkc6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eSwgaWYgcHJlc2VudCwgbXVzdCBiZSBhIFVSSSBzdHJpbmcuJyxcbiAgT0JKRUNUX01VU1RfQkVfREVGSU5FRDogICAgICAgICAgICAgICAgICAgICAgICAgICAnXCJvYmplY3RcIiBwcm9wZXJ0eSBtdXN0IGJlIHByb3ZpZGVkLicsXG4gIE9CSkVDVF9NVVNUX0JFX05PTl9OVUxMX01BUF9PQkpFQ1Q6ICAgICAgICAgICAgICAgJ1wib2JqZWN0XCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbi1udWxsIG1hcCBvYmplY3QuJyxcbiAgT0JKRUNUX1RZUEVfTVVTVF9CRV9TVEFURU1FTlRfUkVGOiAgICAgICAgICAgICAgICAnXCJvYmplY3RUeXBlXCIgcHJvcGVydHkgdmFsdWUgbXVzdCBiZSBcIlN0YXRlbWVudFJlZlwiIGZvciBzdGF0ZW1lbnQgcmVmZXJlbmNlIG9iamVjdHMuJyxcbiAgT0JKRUNUX1RZUEVfTVVTVF9CRV9WQUxJRF9PUFRJT046ICAgICAgICAgICAgICAgICAnb2JqZWN0XFwncyBcIm9iamVjdFR5cGVcIiBkaWQgbm90IG1hdGNoIGEgdmFsaWQgb3B0aW9uJyxcbiAgUkFXX01VU1RfQkVfR1JFQVRFUl9USEFOX01JTjogICAgICAgICAgICAgICAgICAgICAnSWYgYm90aCBcInJhd1wiIGFuZCBcIm1pblwiIGFyZSBwcmVzZW50LCB0aGUgcmF3IHByb3BlcnR5IHZhbHVlIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gbWluJyxcbiAgUkFXX01VU1RfQkVfTEVTU19USEFOX01BWDogICAgICAgICAgICAgICAgICAgICAgICAnSWYgYm90aCBcInJhd1wiIGFuZCBcIm1heFwiIGFyZSBwcmVzZW50LCB0aGUgcmF3IHByb3BlcnR5IHZhbHVlIHNob3VsZCBiZSBsZXNzIHRoYW4gbWF4JyxcbiAgUkVHSVNUUkFUSU9OX01VU1RfQkVfVVVJRF9TVFJJTkc6ICAgICAgICAgICAgICAgICAnSWYgcHJlc2VudCwgdGhlIHJlZ2lzdHJhdGlvbiBwcm9wZXJ0eSBtdXN0IGJlIGEgVVVJRCBzdHJpbmcuJyxcbiAgUkVTVUxUX01VU1RfQkVfTUFQX09CSkVDVDogICAgICAgICAgICAgICAgICAgICAgICAnSWYgcHJlc2VudCwgdGhlIHJlc3VsdCBtdXN0IGJlIGEgbWFwIG9iamVjdCcsXG4gIFJFVklTSU9OX01VU1RfQkVfQUdFTlRfT1JfR1JPVVA6ICAgICAgICAgICAgICAgICAgJ1RoZSByZXZpc2lvbiBwcm9wZXJ0eSBtdXN0IG5vdCBiZSB1c2VkIGlmIHRoZSBTdGF0ZW1lbnRcXCdzIE9iamVjdCBpcyBhbiBBZ2VudCBvciBHcm91cC4nLFxuICBTQ0FMRURfTVVTVF9CRV9CRVRXRUVOXzBfMTogICAgICAgICAgICAgICAgICAgICAgICdJZiBwcmVzZW50LCB0aGUgc2NhbGVkIHByb3BlcnR5IHZhbHVlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxJyxcbiAgU0hBMl9NVVNUX0JFX1BST1ZJREVEX09OX0FUVEFDSE1FTlRfT0JKRUNUUzogICAgICAnXCJzaGEyXCIgcHJvcGVydHkgbXVzdCBiZSBwcm92aWRlZCBvbiBhdHRhY2htZW50IG9iamVjdHMnLFxuICBTSEEyX01VU1RfQ09OVEFJTl9CQVNFXzY0X1NUUklORzogICAgICAgICAgICAgICAgICdcInNoYTJcIiBwcm9wZXJ0eSBtdXN0IGNvbnRhaW4gYSBzdHJpbmcgd2l0aCBiYXNlNjQgY29udGVudHMnLFxuICBTVEFURU1FTlRfQVJHVU1FTlRfSVNfTk9UX1ZBTElEOiAgICAgICAgICAgICAgICAgICdTdGF0ZW1lbnQgYXJndW1lbnQgcHJvdmlkZWQgd2FzIG5vdCBhIHZhbGlkIG9iamVjdCBvciBhIHZhbGlkIEpTT04gc3RyaW5nLicsXG4gIFNUQVRFTUVOVF9BUkdVTUVOVF9NVVNUX0JFX1BST1ZJREVEOiAgICAgICAgICAgICAgJ05vIHN0YXRlbWVudCBhcmd1bWVudCBwcm92aWRlZC4nLFxuICBTVEFURU1FTlRfTVVTVF9CRV9QQVJTRURfQ09SUkVDVExZOiAgICAgICAgICAgICAgICdOdWxsIG9yIG5vbi1vYmplY3Qgc3RhdGVtZW50IHZhbHVlIHBhcnNlZCBmcm9tIHByb3ZpZGVkIHN0YXRtZW50IEpTT04uJyxcbiAgU1RBVEVNRU5UX01VU1RfTk9UX0JFX05VTEw6ICAgICAgICAgICAgICAgICAgICAgICAnTnVsbCBzdGF0ZW1lbnQgYXJndW1lbnQgcHJvdmlkZWQuJyxcbiAgU1RBVEVNRU5UX1JFRl9NVVNUX05PVF9CRV9OVUxMX01BUF9PQkpFQ1RTOiAgICAgICAnU3RhdGVtZW50UmVmIGluc3RhbmNlcyBtdXN0IGJlIG5vbi1udWxsIG1hcCBvYmplY3RzJyxcbiAgU1VCX1NUQVRFTUVOVF9NVVNUX05PVF9DT05UQUlOX1NVQl9TVEFURU1FTlQ6ICAgICAnQSBTdWJTdGF0ZW1lbnQgbXVzdCBub3QgY29udGFpbiBhIFN1YlN0YXRlbWVudCcsXG4gIFVORVhQRUNURUQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VuZXhwZWN0ZWQgcHJvcGVydHkgbm90IHBlcm1pdHRlZCcsXG4gIFZFUkJfTVVTVF9CRV9QUk9WSURFRDogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZlcmIgbXVzdCBiZSBwcm92aWRlZCcsXG4gIFZFUkJfTVVTVF9OT1RfQkVfTlVMTDogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZlcmIgcHJvcGVydHkgdmFsdWUgbXVzdCBhIG5vbi1udWxsIG1hcCBvYmplY3QuJyxcbiAgVkVSU0lPTl9NVVNUX0NPTVBMWV9TRU1BTlRJQ19WRVJTSU9OSU5HOiAgICAgICAgICAnXCJ2ZXJzaW9uXCIgbXVzdCBiZSBhIG5vbi1udWxsIHN0cmluZyB0aGF0IGNvbXBsaWVzIHdpdGggU2VtYW50aWMgVmVyc2lvbmluZyAxLjAuMCdcbn0pO1xuXG5leHBvcnQge3hhcGlFcnJvckxldmVsc307XG5leHBvcnQge3hhcGlWYWxpZGF0aW9uRXJyb3JzfTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgeGFwaUdlbmVyYWwgPSBPYmplY3QuZnJlZXplKHtcbiAgRklSU1RfUkVQT1JUX1ZFUlNUSU9OICAgICAgICAgICAgIDogJzEuMC4wJyxcbiAgR1JPVVBfQVVUSE9SSVRZX0FHRU5UX01FTUJFUlMgICAgIDogMixcbiAgSU5URVJBQ1RJT05fREVGSU5JVElPTl9UWVBFICAgICAgIDogJ2h0dHA6Ly9hZGxuZXQuZ292L2V4cGFwaS9hY3Rpdml0aWVzL2NtaS5pbnRlcmFjdGlvbicsXG4gIE1BWF9TQ0FMRURfVkFMVUUgICAgICAgICAgICAgICAgICA6IDEsXG4gIE1JTl9TQ0FMRURfVkFMVUUgICAgICAgICAgICAgICAgICA6IDAsXG4gIE5PX0lOREVYX0ZPVU5EICAgICAgICAgICAgICAgICAgICA6IC0xLFxuICBOVU1FUl9PRl9TUEVDSUZJRURfSUZJX1BST1BFUlRJRVMgOiAxXG59KTtcblxuZXhwb3J0IHt4YXBpR2VuZXJhbH07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBjb25zdCBpbnRlcmFjdGlvblR5cGVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIENIT0lDRTogICAgICAgJ2Nob2ljZScsXG4gIEZJTExfSU46ICAgICAgJ2ZpbGwtaW4nLFxuICBMSUtFUlQ6ICAgICAgICdsaWtlcnQnLFxuICBMT05HX0ZJTExfSU46ICdsb25nLWZpbGwtaW4nLFxuICBNQVRDSElORzogICAgICdtYXRjaGluZycsXG4gIE5VTUVSSUM6ICAgICAgJ251bWVyaWMnLFxuICBPVEhFUjogICAgICAgICdvdGhlcicsXG4gIFBFUkZPUk1BTkNFOiAgJ3BlcmZvcm1hbmNlJyxcbiAgU0VRVUVOQ0lORzogICAnc2VxdWVuY2luZycsXG4gIFRSVUVfRkFMU0U6ICAgJ3RydWUtZmFsc2UnXG59KTtcblxuZXhwb3J0IGNvbnN0IHhhcGlWYWxpZGF0aW9uSW50ZXJhY3Rpb25UeXBlcyA9IE9iamVjdC5mcmVlemUoW1xuICBpbnRlcmFjdGlvblR5cGVzLkNIT0lDRSxcbiAgaW50ZXJhY3Rpb25UeXBlcy5GSUxMX0lOLFxuICBpbnRlcmFjdGlvblR5cGVzLkxJS0VSVCxcbiAgaW50ZXJhY3Rpb25UeXBlcy5MT05HX0ZJTExfSU4sXG4gIGludGVyYWN0aW9uVHlwZXMuTUFUQ0hJTkcsXG4gIGludGVyYWN0aW9uVHlwZXMuTlVNRVJJQyxcbiAgaW50ZXJhY3Rpb25UeXBlcy5PVEhFUixcbiAgaW50ZXJhY3Rpb25UeXBlcy5QRVJGT1JNQU5DRSxcbiAgaW50ZXJhY3Rpb25UeXBlcy5TRVFVRU5DSU5HLFxuICBpbnRlcmFjdGlvblR5cGVzLlRSVUVfRkFMU0Vcbl0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwcm9wZXJ0aWVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIEFDQ09VTlQ6ICAgICAgICAgICAgICAgICAgICdhY2NvdW50JyxcbiAgQUNUSVZJVFk6ICAgICAgICAgICAgICAgICAgJ2FjdGl2aXR5JyxcbiAgQUNUT1I6ICAgICAgICAgICAgICAgICAgICAgJ2FjdG9yJyxcbiAgQUdFTlQ6ICAgICAgICAgICAgICAgICAgICAgJ2FnZW50JyxcbiAgQVRUQUNITUVOVDogICAgICAgICAgICAgICAgJ2F0dGFjaG1lbnQnLFxuICBBVFRBQ0hNRU5UUzogICAgICAgICAgICAgICAnYXR0YWNobWVudHMnLFxuICBBVVRIT1JJVFk6ICAgICAgICAgICAgICAgICAnYXV0aG9yaXR5JyxcbiAgQ0FURUdPUlk6ICAgICAgICAgICAgICAgICAgJ2NhdGVnb3J5JyxcbiAgQ0hPSUNFOiAgICAgICAgICAgICAgICAgICAgJ2Nob2ljZScsXG4gIENIT0lDRVM6ICAgICAgICAgICAgICAgICAgICdjaG9pY2VzJyxcbiAgQ09NUExFVElPTjogICAgICAgICAgICAgICAgJ2NvbXBsZXRpb24nLFxuICBDT05URU5UX1RZUEU6ICAgICAgICAgICAgICAnY29udGVudFR5cGUnLFxuICBDT05URVhUX0FDVElWSVRJRVM6ICAgICAgICAnY29udGV4dEFjdGl2aXRpZXMnLFxuICBDT05URVhUOiAgICAgICAgICAgICAgICAgICAnY29udGV4dCcsXG4gIENPUlJFQ1RfUkVTUE9OU0VTX1BBVFRFUk46ICdjb3JyZWN0UmVzcG9uc2VzUGF0dGVybicsXG4gIERBVEVfVElNRTogICAgICAgICAgICAgICAgICdkYXRlVGltZScsXG4gIERFRklOSVRJT046ICAgICAgICAgICAgICAgICdkZWZpbml0aW9uJyxcbiAgREVTQ1JJUFRJT046ICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJyxcbiAgRElTUExBWTogICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXknLFxuICBEVVJBVElPTjogICAgICAgICAgICAgICAgICAnZHVyYXRpb24nLFxuICBFWFRFTlNJT05TOiAgICAgICAgICAgICAgICAnZXh0ZW5zaW9ucycsXG4gIEZJTEVfVVJMOiAgICAgICAgICAgICAgICAgICdmaWxlVXJsJyxcbiAgR1JPVVA6ICAgICAgICAgICAgICAgICAgICAgJ2dyb3VwJyxcbiAgR1JPVVBJTkc6ICAgICAgICAgICAgICAgICAgJ2dyb3VwaW5nJyxcbiAgSE9NRV9QQUdFOiAgICAgICAgICAgICAgICAgJ2hvbWVQYWdlJyxcbiAgSUQ6ICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJyxcbiAgSU5TVFJVQ1RPUjogICAgICAgICAgICAgICAgJ2luc3RydWN0b3InLFxuICBJTlRFUkFDVElPTl9DT01QT05FTlRTOiAgICAnaW50ZXJhY3Rpb25Db21wb25lbnRzJyxcbiAgSU5URVJBQ1RJT05fVFlQRTogICAgICAgICAgJ2ludGVyYWN0aW9uVHlwZScsXG4gIExBTkdVQUdFX01BUDogICAgICAgICAgICAgICdsYW5ndWFnZU1hcCcsXG4gIExBTkdVQUdFOiAgICAgICAgICAgICAgICAgICdsYW5ndWFnZScsXG4gIExFTkdUSDogICAgICAgICAgICAgICAgICAgICdsZW5ndGgnLFxuICBMSUtFUlQ6ICAgICAgICAgICAgICAgICAgICAnbGlrZXJ0JyxcbiAgTUFUQ0hJTkc6ICAgICAgICAgICAgICAgICAgJ21hdGNoaW5nJyxcbiAgTUFYOiAgICAgICAgICAgICAgICAgICAgICAgJ21heCcsXG4gIE1CT1hfU0hBXzFfU1VNOiAgICAgICAgICAgICdtYm94X3NoYTFzdW0nLFxuICBNQk9YOiAgICAgICAgICAgICAgICAgICAgICAnbWJveCcsXG4gIE1FTUJFUjogICAgICAgICAgICAgICAgICAgICdtZW1iZXInLFxuICBNSU46ICAgICAgICAgICAgICAgICAgICAgICAnbWluJyxcbiAgTU9SRV9JTkZPOiAgICAgICAgICAgICAgICAgJ21vcmVJbmZvJyxcbiAgTkFNRTogICAgICAgICAgICAgICAgICAgICAgJ25hbWUnLFxuICBPQkpFQ1RfVFlQRTogICAgICAgICAgICAgICAnb2JqZWN0VHlwZScsXG4gIE9CSkVDVDogICAgICAgICAgICAgICAgICAgICdvYmplY3QnLFxuICBPUEVOX0lEOiAgICAgICAgICAgICAgICAgICAnb3BlbklEJyxcbiAgT1RIRVI6ICAgICAgICAgICAgICAgICAgICAgJ290aGVyJyxcbiAgUEFSRU5UOiAgICAgICAgICAgICAgICAgICAgJ3BhcmVudCcsXG4gIFBFUkZPUk1BTkNFOiAgICAgICAgICAgICAgICdwZXJmb3JtYW5jZScsXG4gIFBMQVRGT1JNOiAgICAgICAgICAgICAgICAgICdwbGF0Zm9ybScsXG4gIFJBVzogICAgICAgICAgICAgICAgICAgICAgICdyYXcnLFxuICBSRUdJU1RSQVRJT046ICAgICAgICAgICAgICAncmVnaXN0cmF0aW9uJyxcbiAgUkVTUE9OU0U6ICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlJyxcbiAgUkVTVUxUOiAgICAgICAgICAgICAgICAgICAgJ3Jlc3VsdCcsXG4gIFJFVklTSU9OOiAgICAgICAgICAgICAgICAgICdyZXZpc2lvbicsXG4gIFNDQUxFOiAgICAgICAgICAgICAgICAgICAgICdzY2FsZScsXG4gIFNDQUxFRDogICAgICAgICAgICAgICAgICAgICdzY2FsZWQnLFxuICBTQ09SRTogICAgICAgICAgICAgICAgICAgICAnc2NvcmUnLFxuICBTRVFVRU5DSU5HOiAgICAgICAgICAgICAgICAnc2VxdWVuY2luZycsXG4gIFNIQTI6ICAgICAgICAgICAgICAgICAgICAgICdzaGEyJyxcbiAgU09VUkNFOiAgICAgICAgICAgICAgICAgICAgJ3NvdXJjZScsXG4gIFNUQVRFTUVOVF9SRUY6ICAgICAgICAgICAgICdzdGF0ZW1lbnRSZWYnLFxuICBTVEFURU1FTlQ6ICAgICAgICAgICAgICAgICAnc3RhdGVtZW50JyxcbiAgU1RFUFM6ICAgICAgICAgICAgICAgICAgICAgJ3N0ZXBzJyxcbiAgU1RPUkVEOiAgICAgICAgICAgICAgICAgICAgJ3N0b3JlZCcsXG4gIFNVQl9DT05URVhUOiAgICAgICAgICAgICAgICdzdWJDb250ZXh0JyxcbiAgU1VDQ0VTUzogICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnLFxuICBUQVJHRVQ6ICAgICAgICAgICAgICAgICAgICAndGFyZ2V0JyxcbiAgVEVBTTogICAgICAgICAgICAgICAgICAgICAgJ3RlYW0nLFxuICBUSU1FU1RBTVA6ICAgICAgICAgICAgICAgICAndGltZXN0YW1wJyxcbiAgVFlQRTogICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnLFxuICBVU0FHRV9UWVBFOiAgICAgICAgICAgICAgICAndXNhZ2VUeXBlJyxcbiAgVkVSQjogICAgICAgICAgICAgICAgICAgICAgJ3ZlcmInLFxuICBWRVJTSU9OOiAgICAgICAgICAgICAgICAgICAndmVyc2lvbidcbn0pO1xuXG5jb25zdCBvYmplY3RUeXBlcyA9IE9iamVjdC5mcmVlemUoe1xuICBHUk9VUDogICAgICAgICAnR3JvdXAnLFxuICBBR0VOVDogICAgICAgICAnQWdlbnQnLFxuICBBQ1RJVklUWTogICAgICAnQWN0aXZpdHknLFxuICBTVEFURU1FTlRfUkVGOiAnU3RhdGVtZW50UmVmJyxcbiAgU1VCX1NUQVRFTUVOVDogJ1N1YlN0YXRlbWVudCdcbn0pO1xuXG5jb25zdCB4YXBpVmFsaWRhdGlvbklmaVByb3BlcnR5TmFtZXMgPSBPYmplY3QuZnJlZXplKFtcbiAgcHJvcGVydGllcy5BQ0NPVU5ULFxuICBwcm9wZXJ0aWVzLk1CT1hfU0hBXzFfU1VNLFxuICBwcm9wZXJ0aWVzLk1CT1gsXG4gIHByb3BlcnRpZXMuT1BFTl9JRFxuXSk7XG5cbmNvbnN0IHhBcGlWYWxpZE9iamVjdFR5cGVzID0gT2JqZWN0LmZyZWV6ZShbXG4gIG9iamVjdFR5cGVzLkdST1VQLFxuICBvYmplY3RUeXBlcy5BR0VOVCxcbiAgb2JqZWN0VHlwZXMuQUNUSVZJVFksXG4gIG9iamVjdFR5cGVzLlNUQVRFTUVOVF9SRUYsXG4gIG9iamVjdFR5cGVzLlNVQl9TVEFURU1FTlRcbl0pO1xuXG5jb25zdCB4YXBpV2hpdGVMaXN0UHJvcGVydGllcyA9IE9iamVjdC5mcmVlemUoe1xuICBJRkk6IFtcbiAgICBwcm9wZXJ0aWVzLkhPTUVfUEFHRSxcbiAgICBwcm9wZXJ0aWVzLk5BTUVcbiAgXSxcbiAgVVJJOiBbXG4gICAgcHJvcGVydGllcy5JRCxcbiAgICBwcm9wZXJ0aWVzLkRJU1BMQVlcbiAgXSxcbiAgQ09NUE9ORU5UX0FSUkFZOiBbXG4gICAgcHJvcGVydGllcy5JRCxcbiAgICBwcm9wZXJ0aWVzLkRFU0NSSVBUSU9OXG4gIF0sXG4gIEFDVElWSVRZX0RFRklOSVRJT046IFtcbiAgICBwcm9wZXJ0aWVzLk5BTUUsXG4gICAgcHJvcGVydGllcy5ERVNDUklQVElPTixcbiAgICBwcm9wZXJ0aWVzLlRZUEUsXG4gICAgcHJvcGVydGllcy5NT1JFX0lORk8sXG4gICAgcHJvcGVydGllcy5FWFRFTlNJT05TLFxuICAgIHByb3BlcnRpZXMuSU5URVJBQ1RJT05fVFlQRSxcbiAgICBwcm9wZXJ0aWVzLkNPUlJFQ1RfUkVTUE9OU0VTX1BBVFRFUk4sXG4gICAgcHJvcGVydGllcy5DSE9JQ0VTLFxuICAgIHByb3BlcnRpZXMuU0NBTEUsXG4gICAgcHJvcGVydGllcy5TT1VSQ0UsXG4gICAgcHJvcGVydGllcy5UQVJHRVQsXG4gICAgcHJvcGVydGllcy5TVEVQU1xuICBdLFxuICBBQ1RJVklUWTogW1xuICAgIHByb3BlcnRpZXMuT0JKRUNUX1RZUEUsXG4gICAgcHJvcGVydGllcy5JRCxcbiAgICBwcm9wZXJ0aWVzLkRFRklOSVRJT05cbiAgXSxcbiAgU1RBVEVNRU5UX1JFRjogW1xuICAgIHByb3BlcnRpZXMuSUQsXG4gICAgcHJvcGVydGllcy5PQkpFQ1RfVFlQRVxuICBdLFxuICBTQ09SRTogW1xuICAgIHByb3BlcnRpZXMuU0NBTEVELFxuICAgIHByb3BlcnRpZXMuUkFXLFxuICAgIHByb3BlcnRpZXMuTUlOLFxuICAgIHByb3BlcnRpZXMuTUFYXG4gIF0sXG4gIFJFU1VMVDogW1xuICAgIHByb3BlcnRpZXMuU0NPUkUsXG4gICAgcHJvcGVydGllcy5TVUNDRVNTLFxuICAgIHByb3BlcnRpZXMuQ09NUExFVElPTixcbiAgICBwcm9wZXJ0aWVzLlJFU1BPTlNFLFxuICAgIHByb3BlcnRpZXMuRFVSQVRJT04sXG4gICAgcHJvcGVydGllcy5FWFRFTlNJT05TXG4gIF0sXG4gIEFUVEFDSE1FTlQ6IFtcbiAgICBwcm9wZXJ0aWVzLlVTQUdFX1RZUEUsXG4gICAgcHJvcGVydGllcy5ESVNQTEFZLFxuICAgIHByb3BlcnRpZXMuREVTQ1JJUFRJT04sXG4gICAgcHJvcGVydGllcy5DT05URU5UX1RZUEUsXG4gICAgcHJvcGVydGllcy5MRU5HVEgsXG4gICAgcHJvcGVydGllcy5TSEEyLFxuICAgIHByb3BlcnRpZXMuRklMRV9VUkxcbiAgXSxcbiBBR0VOVDogW1xuICAgcHJvcGVydGllcy5PQkpFQ1RfVFlQRSxcbiAgIHByb3BlcnRpZXMuTkFNRSxcbiAgIHByb3BlcnRpZXMuQUNDT1VOVCxcbiAgIHByb3BlcnRpZXMuTUJPWF9TSEFfMV9TVU0sXG4gICBwcm9wZXJ0aWVzLk1CT1gsXG4gICBwcm9wZXJ0aWVzLk9QRU5fSURcbiBdLFxuIEdST1VQOiBbXG4gICBwcm9wZXJ0aWVzLk9CSkVDVF9UWVBFLFxuICAgcHJvcGVydGllcy5OQU1FLFxuICAgcHJvcGVydGllcy5NRU1CRVIsXG4gICBwcm9wZXJ0aWVzLkFDQ09VTlQsXG4gICBwcm9wZXJ0aWVzLk1CT1hfU0hBXzFfU1VNLFxuICAgcHJvcGVydGllcy5NQk9YLFxuICAgcHJvcGVydGllcy5PUEVOX0lEXG4gXSxcbiBDT05URVhUX0FDVElWSVRJRVM6IFtcbiAgIHByb3BlcnRpZXMuUEFSRU5ULFxuICAgcHJvcGVydGllcy5HUk9VUElORyxcbiAgIHByb3BlcnRpZXMuQ0FURUdPUlksXG4gICBwcm9wZXJ0aWVzLk9USEVSXG4gXSxcbiBTVEFURU1FTlQ6IFtcbiAgIHByb3BlcnRpZXMuSUQsXG4gICBwcm9wZXJ0aWVzLkFDVE9SLFxuICAgcHJvcGVydGllcy5WRVJCLFxuICAgcHJvcGVydGllcy5PQkpFQ1QsXG4gICBwcm9wZXJ0aWVzLlJFU1VMVCxcbiAgIHByb3BlcnRpZXMuQ09OVEVYVCxcbiAgIHByb3BlcnRpZXMuVElNRVNUQU1QLFxuICAgcHJvcGVydGllcy5TVE9SRUQsXG4gICBwcm9wZXJ0aWVzLkFVVEhPUklUWSxcbiAgIHByb3BlcnRpZXMuVkVSU0lPTixcbiAgIHByb3BlcnRpZXMuQVRUQUNITUVOVFNcbiBdLFxuIFNVQl9TVEFURU1FTlQ6IFtcbiAgIHByb3BlcnRpZXMuQUNUT1IsXG4gICBwcm9wZXJ0aWVzLlZFUkIsXG4gICBwcm9wZXJ0aWVzLk9CSkVDVCxcbiAgIHByb3BlcnRpZXMuUkVTVUxULFxuICAgcHJvcGVydGllcy5DT05URVhULFxuICAgcHJvcGVydGllcy5USU1FU1RBTVAsXG4gICBwcm9wZXJ0aWVzLkFUVEFDSE1FTlRTLFxuICAgcHJvcGVydGllcy5PQkpFQ1RfVFlQRVxuIF0sXG4gRVhURU5TSU9OUzogW1xuICAgcHJvcGVydGllcy5SRUdJU1RSQVRJT04sXG4gICBwcm9wZXJ0aWVzLklOU1RSVUNUT1IsXG4gICBwcm9wZXJ0aWVzLlRFQU0sXG4gICBwcm9wZXJ0aWVzLkNPTlRFWFRfQUNUSVZJVElFUyxcbiAgIHByb3BlcnRpZXMuUkVWSVNJT04sXG4gICBwcm9wZXJ0aWVzLlBMQVRGT1JNLFxuICAgcHJvcGVydGllcy5MQU5HVUFHRSxcbiAgIHByb3BlcnRpZXMuU1RBVEVNRU5ULFxuICAgcHJvcGVydGllcy5FWFRFTlNJT05TXG4gXVxufSk7XG5cbmV4cG9ydCB7cHJvcGVydGllc307XG5leHBvcnQge29iamVjdFR5cGVzfTtcbmV4cG9ydCB7eGFwaVZhbGlkYXRpb25JZmlQcm9wZXJ0eU5hbWVzfTtcbmV4cG9ydCB7eEFwaVZhbGlkT2JqZWN0VHlwZXN9O1xuZXhwb3J0IHt4YXBpV2hpdGVMaXN0UHJvcGVydGllc307XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHhhcGlWYWxpZGF0aW9uUmVnZXggPSBPYmplY3QuZnJlZXplKHtcbiAgVVVJRDogICAgICAgICAgICAgICAgL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXsxMn0kL2ksXG4gIElTT184NjAxX0RVUkFUSU9OOiAgIC9eUCgoXFxkKyhbXFwuLF1cXGQrKT9ZKT8oXFxkKyhbXFwuLF1cXGQrKT9NKT8oXFxkKyhbXFwuLF1cXGQrKT9XKT8oXFxkKyhbXFwuLF1cXGQrKT9EKT8pPyhUKFxcZCsoW1xcLixdXFxkKyk/SCk/KFxcZCsoW1xcLixdXFxkKyk/TSk/KFxcZCsoW1xcLixdXFxkKyk/Uyk/KT8kLyxcbiAgSVNPXzg2MDFfREFURV9USU1FOiAgL14oXFxkezR9fFsrXFwtXVxcZHs2fSkoPzotKFxcZHsyfSkoPzotKFxcZHsyfSkpPyk/KD86VChcXGR7Mn0pOihcXGR7Mn0pKD86OihcXGR7Mn0pKD86XFwuKFxcZHszfSkpPyk/KD86KFopfChbK1xcLV0pKFxcZHsyfSkoPzo6KFxcZHsyfSkpPyk/KT8kLyxcbiAgTUFJTFRPX1VSSTogICAgICAgICAgL15tYWlsdG86LyxcbiAgQ09OVEFJTlNfV0hJVEVTUEFDRTogL1xccy9nLFxuICBTRU1WRVJfMV9QXzBfUF8wOiAgICAvXigoXFxkKylcXC4oXFxkKylcXC4oXFxkKykpKD86LShbXFxkQS1aYS16XFwtXSspKT8kLyxcbiAgQkFTRV82NDogICAgICAgICAgICAgL14oPzpbQS1aYS16MC05XFwrXFwvXXs0fSkqKD86W0EtWmEtejAtOVxcK1xcL117Mn09PXxbQS1aYS16MC05XFwrXFwvXXszfT18W0EtWmEtejAtOVxcK1xcL117NH0pJC8sXG4gIElSSTogICAgICAgICAgICAgICAgIC9eW2Etel0oPzpbXFwtYS16MC05XFwrXFwuXSkqOig/OlxcL1xcLyg/Oig/OiVbMC05YS1mXVswLTlhLWZdfFtcXC1hLXowLTlcXC5fflxcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRlxcdTEwMDAwLVxcdTFGRkZEXFx1MjAwMDAtXFx1MkZGRkRcXHUzMDAwMC1cXHUzRkZGRFxcdTQwMDAwLVxcdTRGRkZEXFx1NTAwMDAtXFx1NUZGRkRcXHU2MDAwMC1cXHU2RkZGRFxcdTcwMDAwLVxcdTdGRkZEXFx1ODAwMDAtXFx1OEZGRkRcXHU5MDAwMC1cXHU5RkZGRFxcdUEwMDAwLVxcdUFGRkZEXFx1QjAwMDAtXFx1QkZGRkRcXHVDMDAwMC1cXHVDRkZGRFxcdUQwMDAwLVxcdURGRkZEXFx1RTEwMDAtXFx1RUZGRkQhXFwkJidcXChcXClcXCpcXCssOz06XSkqQCk/KD86XFxbKD86KD86KD86WzAtOWEtZl17MSw0fTopezZ9KD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkoPzpcXC4oPzpbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pKXszfSl8OjooPzpbMC05YS1mXXsxLDR9Oil7NX0oPzpbMC05YS1mXXsxLDR9OlswLTlhLWZdezEsNH18KD86WzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKSg/OlxcLig/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkpezN9KXwoPzpbMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXs0fSg/OlswLTlhLWZdezEsNH06WzAtOWEtZl17MSw0fXwoPzpbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pKD86XFwuKD86WzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKSl7M30pfCg/OlswLTlhLWZdezEsNH06WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7M30oPzpbMC05YS1mXXsxLDR9OlswLTlhLWZdezEsNH18KD86WzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKSg/OlxcLig/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkpezN9KXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwyfVswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezJ9KD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkoPzpcXC4oPzpbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pKXszfSl8KD86KD86WzAtOWEtZl17MSw0fTopezAsM31bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH06KD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkoPzpcXC4oPzpbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pKXszfSl8KD86KD86WzAtOWEtZl17MSw0fTopezAsNH1bMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06WzAtOWEtZl17MSw0fXwoPzpbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pKD86XFwuKD86WzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKSl7M30pfCg/Oig/OlswLTlhLWZdezEsNH06KXswLDV9WzAtOWEtZl17MSw0fSk/OjpbMC05YS1mXXsxLDR9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDZ9WzAtOWEtZl17MSw0fSk/OjopfHZbMC05YS1mXStbXFwtYS16MC05XFwuX34hXFwkJidcXChcXClcXCpcXCssOz06XSspXFxdfCg/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkoPzpcXC4oPzpbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pKXszfXwoPzolWzAtOWEtZl1bMC05YS1mXXxbXFwtYS16MC05XFwuX35cXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZcXHUxMDAwMC1cXHUxRkZGRFxcdTIwMDAwLVxcdTJGRkZEXFx1MzAwMDAtXFx1M0ZGRkRcXHU0MDAwMC1cXHU0RkZGRFxcdTUwMDAwLVxcdTVGRkZEXFx1NjAwMDAtXFx1NkZGRkRcXHU3MDAwMC1cXHU3RkZGRFxcdTgwMDAwLVxcdThGRkZEXFx1OTAwMDAtXFx1OUZGRkRcXHVBMDAwMC1cXHVBRkZGRFxcdUIwMDAwLVxcdUJGRkZEXFx1QzAwMDAtXFx1Q0ZGRkRcXHVEMDAwMC1cXHVERkZGRFxcdUUxMDAwLVxcdUVGRkZEIVxcJCYnXFwoXFwpXFwqXFwrLDs9QF0pKikoPzo6WzAtOV0qKT8oPzpcXC8oPzooPzolWzAtOWEtZl1bMC05YS1mXXxbXFwtYS16MC05XFwuX35cXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZcXHUxMDAwMC1cXHUxRkZGRFxcdTIwMDAwLVxcdTJGRkZEXFx1MzAwMDAtXFx1M0ZGRkRcXHU0MDAwMC1cXHU0RkZGRFxcdTUwMDAwLVxcdTVGRkZEXFx1NjAwMDAtXFx1NkZGRkRcXHU3MDAwMC1cXHU3RkZGRFxcdTgwMDAwLVxcdThGRkZEXFx1OTAwMDAtXFx1OUZGRkRcXHVBMDAwMC1cXHVBRkZGRFxcdUIwMDAwLVxcdUJGRkZEXFx1QzAwMDAtXFx1Q0ZGRkRcXHVEMDAwMC1cXHVERkZGRFxcdUUxMDAwLVxcdUVGRkZEIVxcJCYnXFwoXFwpXFwqXFwrLDs9OkBdKSkqKSp8XFwvKD86KD86KD86KD86JVswLTlhLWZdWzAtOWEtZl18W1xcLWEtejAtOVxcLl9+XFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXFx1MTAwMDAtXFx1MUZGRkRcXHUyMDAwMC1cXHUyRkZGRFxcdTMwMDAwLVxcdTNGRkZEXFx1NDAwMDAtXFx1NEZGRkRcXHU1MDAwMC1cXHU1RkZGRFxcdTYwMDAwLVxcdTZGRkZEXFx1NzAwMDAtXFx1N0ZGRkRcXHU4MDAwMC1cXHU4RkZGRFxcdTkwMDAwLVxcdTlGRkZEXFx1QTAwMDAtXFx1QUZGRkRcXHVCMDAwMC1cXHVCRkZGRFxcdUMwMDAwLVxcdUNGRkZEXFx1RDAwMDAtXFx1REZGRkRcXHVFMTAwMC1cXHVFRkZGRCFcXCQmJ1xcKFxcKVxcKlxcKyw7PTpAXSkpKykoPzpcXC8oPzooPzolWzAtOWEtZl1bMC05YS1mXXxbXFwtYS16MC05XFwuX35cXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZcXHUxMDAwMC1cXHUxRkZGRFxcdTIwMDAwLVxcdTJGRkZEXFx1MzAwMDAtXFx1M0ZGRkRcXHU0MDAwMC1cXHU0RkZGRFxcdTUwMDAwLVxcdTVGRkZEXFx1NjAwMDAtXFx1NkZGRkRcXHU3MDAwMC1cXHU3RkZGRFxcdTgwMDAwLVxcdThGRkZEXFx1OTAwMDAtXFx1OUZGRkRcXHVBMDAwMC1cXHVBRkZGRFxcdUIwMDAwLVxcdUJGRkZEXFx1QzAwMDAtXFx1Q0ZGRkRcXHVEMDAwMC1cXHVERkZGRFxcdUUxMDAwLVxcdUVGRkZEIVxcJCYnXFwoXFwpXFwqXFwrLDs9OkBdKSkqKSopP3woPzooPzooPzolWzAtOWEtZl1bMC05YS1mXXxbXFwtYS16MC05XFwuX35cXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZcXHUxMDAwMC1cXHUxRkZGRFxcdTIwMDAwLVxcdTJGRkZEXFx1MzAwMDAtXFx1M0ZGRkRcXHU0MDAwMC1cXHU0RkZGRFxcdTUwMDAwLVxcdTVGRkZEXFx1NjAwMDAtXFx1NkZGRkRcXHU3MDAwMC1cXHU3RkZGRFxcdTgwMDAwLVxcdThGRkZEXFx1OTAwMDAtXFx1OUZGRkRcXHVBMDAwMC1cXHVBRkZGRFxcdUIwMDAwLVxcdUJGRkZEXFx1QzAwMDAtXFx1Q0ZGRkRcXHVEMDAwMC1cXHVERkZGRFxcdUUxMDAwLVxcdUVGRkZEIVxcJCYnXFwoXFwpXFwqXFwrLDs9OkBdKSkrKSg/OlxcLyg/Oig/OiVbMC05YS1mXVswLTlhLWZdfFtcXC1hLXowLTlcXC5fflxcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRlxcdTEwMDAwLVxcdTFGRkZEXFx1MjAwMDAtXFx1MkZGRkRcXHUzMDAwMC1cXHUzRkZGRFxcdTQwMDAwLVxcdTRGRkZEXFx1NTAwMDAtXFx1NUZGRkRcXHU2MDAwMC1cXHU2RkZGRFxcdTcwMDAwLVxcdTdGRkZEXFx1ODAwMDAtXFx1OEZGRkRcXHU5MDAwMC1cXHU5RkZGRFxcdUEwMDAwLVxcdUFGRkZEXFx1QjAwMDAtXFx1QkZGRkRcXHVDMDAwMC1cXHVDRkZGRFxcdUQwMDAwLVxcdURGRkZEXFx1RTEwMDAtXFx1RUZGRkQhXFwkJidcXChcXClcXCpcXCssOz06QF0pKSopKnwoPyEoPzolWzAtOWEtZl1bMC05YS1mXXxbXFwtYS16MC05XFwuX35cXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZcXHUxMDAwMC1cXHUxRkZGRFxcdTIwMDAwLVxcdTJGRkZEXFx1MzAwMDAtXFx1M0ZGRkRcXHU0MDAwMC1cXHU0RkZGRFxcdTUwMDAwLVxcdTVGRkZEXFx1NjAwMDAtXFx1NkZGRkRcXHU3MDAwMC1cXHU3RkZGRFxcdTgwMDAwLVxcdThGRkZEXFx1OTAwMDAtXFx1OUZGRkRcXHVBMDAwMC1cXHVBRkZGRFxcdUIwMDAwLVxcdUJGRkZEXFx1QzAwMDAtXFx1Q0ZGRkRcXHVEMDAwMC1cXHVERkZGRFxcdUUxMDAwLVxcdUVGRkZEIVxcJCYnXFwoXFwpXFwqXFwrLDs9OkBdKSkpKD86XFw/KD86KD86JVswLTlhLWZdWzAtOWEtZl18W1xcLWEtejAtOVxcLl9+XFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXFx1MTAwMDAtXFx1MUZGRkRcXHUyMDAwMC1cXHUyRkZGRFxcdTMwMDAwLVxcdTNGRkZEXFx1NDAwMDAtXFx1NEZGRkRcXHU1MDAwMC1cXHU1RkZGRFxcdTYwMDAwLVxcdTZGRkZEXFx1NzAwMDAtXFx1N0ZGRkRcXHU4MDAwMC1cXHU4RkZGRFxcdTkwMDAwLVxcdTlGRkZEXFx1QTAwMDAtXFx1QUZGRkRcXHVCMDAwMC1cXHVCRkZGRFxcdUMwMDAwLVxcdUNGRkZEXFx1RDAwMDAtXFx1REZGRkRcXHVFMTAwMC1cXHVFRkZGRCFcXCQmJ1xcKFxcKVxcKlxcKyw7PTpAXSl8W1xcdUUwMDAtXFx1RjhGRlxcdUYwMDAwLVxcdUZGRkZEfFxcdTEwMDAwMC1cXHUxMEZGRkRcXC9cXD9dKSopPyg/OlxcIyg/Oig/OiVbMC05YS1mXVswLTlhLWZdfFtcXC1hLXowLTlcXC5fflxcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRlxcdTEwMDAwLVxcdTFGRkZEXFx1MjAwMDAtXFx1MkZGRkRcXHUzMDAwMC1cXHUzRkZGRFxcdTQwMDAwLVxcdTRGRkZEXFx1NTAwMDAtXFx1NUZGRkRcXHU2MDAwMC1cXHU2RkZGRFxcdTcwMDAwLVxcdTdGRkZEXFx1ODAwMDAtXFx1OEZGRkRcXHU5MDAwMC1cXHU5RkZGRFxcdUEwMDAwLVxcdUFGRkZEXFx1QjAwMDAtXFx1QkZGRkRcXHVDMDAwMC1cXHVDRkZGRFxcdUQwMDAwLVxcdURGRkZEXFx1RTEwMDAtXFx1RUZGRkQhXFwkJidcXChcXClcXCpcXCssOz06QF0pfFtcXC9cXD9dKSopPyQvaSxcbiAgQkNQXzQ3OiAgICAgICAgICAgICAgL14oPzooZW4tR0Itb2VkfGktKD86YW1pfGJubnxkZWZhdWx0fGVub2NoaWFufGhha3xrbGluZ29ufGx1eHxtaW5nb3xuYXZham98cHdufHRhb3x0YXl8dHN1KXxzZ24tKD86QkUtRlJ8QkUtTkx8Q0gtREUpKXwoYXJ0LWxvamJhbnxjZWwtZ2F1bGlzaHxuby0oPzpib2t8bnluKXx6aC0oPzpndW95dXxoYWtrYXxtaW58bWluLW5hbnx4aWFuZykpKSR8Xih4KD86LVswLTlhLXpdezEsOH0pKykkfF4oPzooKD86W2Etel17MiwzfSg/Oig/Oi1bYS16XXszfSl7MSwzfSk/KXxbYS16XXs0fXxbYS16XXs1LDh9KSg/Oi0oW2Etel17NH0pKT8oPzotKFthLXpdezJ9fFswLTldezN9KSk/KCg/Oi0oPzpbYS16MC05XXs1LDh9fFswLTldW2EtejAtOV17M30pKSopPygoPzotWzAtOWEtd3ktel0oPzotW2EtejAtOV17Miw4fSl7MSx9KSopPygteCg/Oi1bMC05YS16XXsxLDh9KSspPykkL2lcbn0pO1xuXG5jb25zdCBkYXRlRm9ybWF0UmVnZXhQb3NpdGlvbnMgPSBPYmplY3QuZnJlZXplKHtcbiAgWUVBUjogICAgICAgICAgICAgMSxcbiAgTU9OVEg6ICAgICAgICAgICAgMixcbiAgREFZOiAgICAgICAgICAgICAgMyxcbiAgSE9VUjogICAgICAgICAgICAgNCxcbiAgTUlOVVRFOiAgICAgICAgICAgNSxcbiAgU0VDT05EOiAgICAgICAgICAgNixcbiAgTVNFQ09ORDogICAgICAgICAgNyxcbiAgWk9ORTogICAgICAgICAgICAgOCxcbiAgUkVMQVRJVkVfVElNRTogICAgOSxcbiAgVElNRV9aT05FX0hPVVI6ICAgMTAsXG4gIFRJTUVfWk9ORV9NSU5VVEU6IDExXG59KTtcblxuZXhwb3J0IHt4YXBpVmFsaWRhdGlvblJlZ2V4fTtcbmV4cG9ydCB7ZGF0ZUZvcm1hdFJlZ2V4UG9zaXRpb25zfTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3RcbiAgSVNfU1RSSU5HICA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICBJU19BUlJBWSAgID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgSVNfQk9PTEVBTiA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgSVNfTlVNQkVSICA9ICdbb2JqZWN0IE51bWJlcl0nXG47XG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgeGFwaVZhbGlkYXRpb25VdGlscztcblxueGFwaVZhbGlkYXRpb25VdGlscyA9IHtcbiAgaXNTdHJpbmcob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gSVNfU1RSSU5HO1xuICB9LFxuXG4gIGlzT2JqZWN0KG9iaikge1xuICAgIHJldHVybiBvYmogPT09IE9iamVjdChvYmopO1xuICB9LFxuXG4gIGlzQXJyYXk6IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gSVNfQVJSQVk7XG4gIH0sXG5cbiAgaXNCb29sZWFuKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHRydWUgfHwgb2JqID09PSBmYWxzZSB8fCB0b1N0cmluZy5jYWxsKG9iaikgPT09IElTX0JPT0xFQU47XG4gIH0sXG5cbiAgaXNOdW1iZXIob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gSVNfTlVNQkVSO1xuICB9LFxuXG4gIGlzRGVmaW5lZChvYmopIHtcbiAgICByZXR1cm4gKG9iaiAhPT0gbnVsbCB8fCBvYmogIT09IHVuZGVmaW5lZCk7XG4gIH0sXG5cbiAgaXNOb25OdWxsTWFwT2JqZWN0KHRhcmdldCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNEZWZpbmVkKHRhcmdldCkgJiYgdGhpcy5pc09iamVjdCh0YXJnZXQpICYmICF0aGlzLmlzQXJyYXkodGFyZ2V0KTtcbiAgfSxcblxuICBpc1ZhbGlkTGFuZ3VhZ2VUYWcodGFyZ2V0LCB2YWxpZExhbmd1YWdlUmVnZXgpIHtcbiAgICAvLyBUT0RPIC0gdXNlIG1vcmUgcHJlY2lzZSA1NjQ2IGhhbmRsaW5nLCByYXRoZXIgdGhhbiB0aGlzIHNpbXBsaWZpZWQgQkNQIDQ3IHJlZ2V4LCB3aGljaCBjb21iaW5lcyBSRkMgNTY0NiBhbmQgUkZDIDQ2NDcuXG4gICAgLy8gcmV0dXJuIHRoaXMuaXNEZWZpbmVkKHRhcmdldCkgJiYgdGhpcy5pc1N0cmluZyh0YXJnZXQpICYmIHhhcGlWYWxpZGF0aW9uUmVnZXguQkNQXzQ3LnRlc3QodGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5pc0RlZmluZWQodGFyZ2V0KSAmJiB0aGlzLmlzU3RyaW5nKHRhcmdldCkgJiYgdmFsaWRMYW5ndWFnZVJlZ2V4LnRlc3QodGFyZ2V0KTtcbiAgfSxcblxuICBhZGRQcm9wVG9UcmFjZSh0cmFjZSwgYWRkZW5kdW0pIHtcbiAgICByZXR1cm4gdGhpcy5pc0RlZmluZWQoYWRkZW5kdW0pID8gYCR7dHJhY2V9LiR7YWRkZW5kdW19YCA6IHRyYWNlO1xuICB9LFxuXG4gIGFkZExvb2t1cFRvVHJhY2UodHJhY2UsIGtleSkge1xuICAgIHJldHVybiAoIXRoaXMuaXNEZWZpbmVkKGtleSkpID8gdHJhY2UgOiAodGhpcy5pc051bWJlcihrZXkpID8gYCR7dHJhY2V9WyR7a2V5fV1gIDogYCR7dHJhY2V9W1wiJHtrZXl9XCJdYCk7XG4gIH0sXG5cbiAgbG9jYWxUcmFjZVRvU3RyaW5nKHRyYWNlLCBhZGRlbmR1bSkge1xuICAgIHJldHVybiB0aGlzLmFkZFByb3BUb1RyYWNlKHRyYWNlLCBhZGRlbmR1bSk7XG4gIH0sXG5cbiAgaXNHcm91cChhY3Rvck9yR3JvdXAsIGdyb3VwVHlwZSkge1xuICAgIC8vIHJldHVybiAoYWN0b3JPckdyb3VwLm1lbWJlciAhPT0gbnVsbCAmJiBhY3Rvck9yR3JvdXAubWVtYmVyICE9PSB1bmRlZmluZWQpIHx8IGFjdG9yT3JHcm91cC5vYmplY3RUeXBlID09PSBvYmplY3RUeXBlcy5HUk9VUDtcbiAgICByZXR1cm4gKGFjdG9yT3JHcm91cC5tZW1iZXIgIT09IG51bGwgJiYgYWN0b3JPckdyb3VwLm1lbWJlciAhPT0gdW5kZWZpbmVkKSB8fCBhY3Rvck9yR3JvdXAub2JqZWN0VHlwZSA9PT0gZ3JvdXBUeXBlO1xuICB9XG59O1xuXG5leHBvcnQge3hhcGlWYWxpZGF0aW9uVXRpbHN9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge3Byb3BlcnRpZXMsIG9iamVjdFR5cGVzLCB4YXBpVmFsaWRhdGlvbklmaVByb3BlcnR5TmFtZXMsIHhBcGlWYWxpZE9iamVjdFR5cGVzLCB4YXBpV2hpdGVMaXN0UHJvcGVydGllc30gZnJvbSAnLi9jb25zdGFudHMvcHJvcGVydGllcyc7XG5pbXBvcnQge3hhcGlFcnJvckxldmVscywgeGFwaVZhbGlkYXRpb25FcnJvcnN9IGZyb20gJy4vY29uc3RhbnRzL2Vycm9ycyc7XG5pbXBvcnQge3hhcGlWYWxpZGF0aW9uSW50ZXJhY3Rpb25UeXBlc30gZnJvbSAnLi9jb25zdGFudHMvaW50ZXJhY3Rpb24tdHlwZXMnO1xuaW1wb3J0IHt4YXBpVmFsaWRhdGlvblJlZ2V4LCBkYXRlRm9ybWF0UmVnZXhQb3NpdGlvbnN9IGZyb20gJy4vY29uc3RhbnRzL3JlZ2V4JztcbmltcG9ydCB7eGFwaUdlbmVyYWx9IGZyb20gJy4vY29uc3RhbnRzL2dlbmVyYWwnO1xuaW1wb3J0IHt4YXBpVmFsaWRhdGlvblV0aWxzfSBmcm9tICcuL3V0aWxzL3V0aWxzJztcblxuZnVuY3Rpb24gbWFrZVYxUmVwb3J0KGluc3RhbmNlLCBlcnJvcnMpIHtcbiAgdmFyIHZlcnNpb247XG5cbiAgaW5zdGFuY2UgPSBpbnN0YW5jZSB8fCBudWxsO1xuICBlcnJvcnMgICA9IGVycm9ycyAgIHx8IG51bGw7XG4gIHZlcnNpb24gID0geGFwaUdlbmVyYWwuRklSU1RfUkVQT1JUX1ZFUlNUSU9OO1xuICByZXR1cm4ge2luc3RhbmNlLCBlcnJvcnMsIHZlcnNpb259O1xufVxuXG5mdW5jdGlvbiBtYWtlVjFTaW5nbGVFcnJvclJlcG9ydChpbnN0YW5jZSwgZXJyb3IpIHtcbiAgcmV0dXJuIG1ha2VWMVJlcG9ydChpbnN0YW5jZSwgZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHVuZGVmaW5lZCA/IFtdIDogW2Vycm9yXSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQWJzZW5jZU9mTm9uV2hpdGVsaXN0ZWRQcm9wZXJ0aWVzKHRhcmdldCwgYWxsb3dlZFByb3BlcnRpZXMsIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlLCBwcm9wZXJ0eU5hbWU7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8ICcnO1xuXG4gIGZvciAocHJvcGVydHlOYW1lIGluIHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSAmJiBhbGxvd2VkUHJvcGVydGllcy5pbmRleE9mKHByb3BlcnR5TmFtZSkgPT09IHhhcGlHZW5lcmFsLk5PX0lOREVYX0ZPVU5EKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5VTkVYUEVDVEVELFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eUlzU3RyaW5nKHBhcmVudCwgcHJvcGVydHlOYW1lLCB0cmFjZSwgZXJyb3JzLCBpc1JlcXVpcmVkLCB2aW9sYXRpb25UeXBlKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZSwgcHJvcFZhbHVlLCBsb2NhbFZpb2xhdGlvblR5cGU7XG5cbiAgbG9jYWxFcnJvcnMgICAgICAgID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICAgICAgICAgPSB0cmFjZSAgfHwgJyc7XG4gIHByb3BWYWx1ZSAgICAgICAgICA9IHBhcmVudFtwcm9wZXJ0eU5hbWVdLFxuICBsb2NhbFZpb2xhdGlvblR5cGUgPSB2aW9sYXRpb25UeXBlIHx8IHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTjtcblxuICBpZiAocHJvcFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzU3RyaW5nKHByb3BWYWx1ZSkpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgICBtZXNzYWdlOiBgJHtwcm9wZXJ0eU5hbWV9ICR7eGFwaVZhbGlkYXRpb25FcnJvcnMuTVVTVF9CRV9TVFJJTkd9YCxcbiAgICAgICAgbGV2ZWw6ICAgbG9jYWxWaW9sYXRpb25UeXBlXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNSZXF1aXJlZCkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydHlOYW1lKSxcbiAgICAgIG1lc3NhZ2U6IGAke3Byb3BlcnR5TmFtZX0gJHt4YXBpVmFsaWRhdGlvbkVycm9ycy5NVVNUX0JFX1BSRVNFTlR9YCxcbiAgICAgIGxldmVsOiAgIGxvY2FsVmlvbGF0aW9uVHlwZVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5SXNVcmkodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIHRyYWNlLCBlcnJvcnMsIGlzUmVxdWlyZWQpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlLCBwcm9wVmFsdWU7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8ICcnO1xuICBwcm9wVmFsdWUgICA9IHRhcmdldFtwcm9wZXJ0eU5hbWVdO1xuXG4gIGlmIChwcm9wVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChwcm9wVmFsdWUgPT09IG51bGwgfHwgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNTdHJpbmcocHJvcFZhbHVlKSkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnR5TmFtZSksXG4gICAgICAgIG1lc3NhZ2U6IGAke3Byb3BlcnR5TmFtZX0gJHt4YXBpVmFsaWRhdGlvbkVycm9ycy5NVVNUX0JFX1VSSV9TVFJJTkd9YCxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCF4YXBpVmFsaWRhdGlvblJlZ2V4LklSSS50ZXN0KHByb3BWYWx1ZSkpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnR5TmFtZSksXG4gICAgICAgIG1lc3NhZ2U6IGAke3Byb3BlcnR5TmFtZX0gJHt4YXBpVmFsaWRhdGlvbkVycm9ycy5NVVNUX0JFX0lSSV9TVFJJTkd9YCxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLlNIT1VMRF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgbWVzc2FnZTogYCR7cHJvcGVydHlOYW1lfSAke3hhcGlWYWxpZGF0aW9uRXJyb3JzLk1VU1RfQkVfVVJJX1BSRVNFTlR9YCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eUlzVXJsKHRhcmdldCwgcHJvcGVydHlOYW1lLCB0cmFjZSwgZXJyb3JzLCBpc1JlcXVpcmVkKSB7XG4gIC8vIFRPRE8gLSBjaGVjayB3aGV0aGVyIGEgZm9ybWFsIFVSTCBmb3JtYXQgZGVmaW5pdGlvbiBpcyByZWNvbW1lbmRlZC9lbmZvcmNlZCBmb3IgeEFQSVxuICByZXR1cm4gdmFsaWRhdGVQcm9wZXJ0eUlzU3RyaW5nKHRhcmdldCwgcHJvcGVydHlOYW1lLCB0cmFjZSwgZXJyb3JzLCBpc1JlcXVpcmVkKTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eUlzQm9vbGVhbihwYXJlbnQsIHByb3BlcnR5TmFtZSwgdHJhY2UsIGVycm9ycywgaXNSZXF1aXJlZCkge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2UsIHByb3BWYWx1ZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgJyc7XG4gIHByb3BWYWx1ZSAgID0gcGFyZW50W3Byb3BlcnR5TmFtZV07XG5cbiAgaWYgKHByb3BWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCAheGFwaVZhbGlkYXRpb25VdGlscy5pc0Jvb2xlYW4ocHJvcFZhbHVlKSkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnR5TmFtZSksXG4gICAgICAgIG1lc3NhZ2U6IGAke3Byb3BlcnR5TmFtZX0gJHt4YXBpVmFsaWRhdGlvbkVycm9ycy5NVVNUX0JFX0JPT0xFQU59YCxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNSZXF1aXJlZCkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydHlOYW1lKSxcbiAgICAgIG1lc3NhZ2U6IGAke3Byb3BlcnR5TmFtZX0gJHt4YXBpVmFsaWRhdGlvbkVycm9ycy5NVVNUX0JFX0JPT0xFQU5fUFJFU0VOVH1gLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5SXNOdW1iZXIocGFyZW50LCBwcm9wZXJ0eU5hbWUsIHRyYWNlLCBlcnJvcnMsIGlzUmVxdWlyZWQpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlLCBwcm9wVmFsdWU7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8ICcnO1xuICBwcm9wVmFsdWUgICA9IHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuXG4gICAgaWYgKHByb3BWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTnVtYmVyKHByb3BWYWx1ZSkpIHtcbiAgICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydHlOYW1lKSxcbiAgICAgICAgICBtZXNzYWdlOiBgJHtwcm9wZXJ0eU5hbWV9ICR7eGFwaVZhbGlkYXRpb25FcnJvcnMuTVVTVF9CRV9OVU1CRVJ9YCxcbiAgICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydHlOYW1lKSxcbiAgICAgICAgbWVzc2FnZTogYCR7cHJvcGVydHlOYW1lfSAke3hhcGlWYWxpZGF0aW9uRXJyb3JzLk1VU1RfQkVfTlVNQkVSX1BSRVNFTlR9YCxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUlGSVByb3BlcnRpZXModGFyZ2V0LCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZSwgYWNjb3VudFRyYWNlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCAnJztcblxuICBpZiAodGFyZ2V0Lm1ib3ggIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQubWJveCAhPT0gbnVsbCkge1xuICAgIGlmICgheGFwaVZhbGlkYXRpb25VdGlscy5pc1N0cmluZyh0YXJnZXQubWJveCkpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydGllcy5NQk9YKSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuSUZJX01VU1RfQkVfTUJPWF9VUkksXG4gICAgICAgIGxldmVsOiB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIXhhcGlWYWxpZGF0aW9uUmVnZXguTUFJTFRPX1VSSS50ZXN0KHRhcmdldC5tYm94KSkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuTUJPWCksXG4gICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLklGSV9NVVNUX0JFX1ZBTElEX01CT1hfRk9STUFULFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlUHJvcGVydHlJc1N0cmluZyh0YXJnZXQsIHByb3BlcnRpZXMuTUJPWF9TSEFfMV9TVU0sIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi9mYWxzZSk7XG4gIHZhbGlkYXRlUHJvcGVydHlJc1VyaSh0YXJnZXQsIHByb3BlcnRpZXMuT1BFTl9JRCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMsIC8qaXNSZXF1aXJlZCovZmFsc2UpO1xuXG4gIGlmICh0YXJnZXQuYWNjb3VudCAhPT0gdW5kZWZpbmVkICYmIHRhcmdldC5hY2NvdW50ICE9PSBudWxsKSB7XG4gICAgYWNjb3VudFRyYWNlID0geGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkFDQ09VTlQpO1xuICAgIHZhbGlkYXRlUHJvcGVydHlJc1VyaSh0YXJnZXQuYWNjb3VudCwgcHJvcGVydGllcy5IT01FX1BBR0UsYWNjb3VudFRyYWNlLCBsb2NhbEVycm9ycywgLyppc1JlcXVpcmVkKi90cnVlKTtcbiAgICB2YWxpZGF0ZVByb3BlcnR5SXNTdHJpbmcodGFyZ2V0LmFjY291bnQsIHByb3BlcnRpZXMuTkFNRSwgYWNjb3VudFRyYWNlLCBsb2NhbEVycm9ycywgLyppc1JlcXVpcmVkKi90cnVlKTtcbiAgICB2YWxpZGF0ZUFic2VuY2VPZk5vbldoaXRlbGlzdGVkUHJvcGVydGllcyh0YXJnZXQuYWNjb3VudCwgeGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuSUZJLCBhY2NvdW50VHJhY2UsIGxvY2FsRXJyb3JzKTtcbiAgfVxuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gZ2V0SUZJcyh0YXJnZXQpIHtcbiAgdmFyIGlmaXM7XG5cbiAgaWYgKHRhcmdldCA9PT0gbnVsbCB8fCB0YXJnZXQgPT09IHVuZGVmaW5lZCkge3JldHVybiBbXTt9XG5cbiAgaWZpcyA9IHhhcGlWYWxpZGF0aW9uSWZpUHJvcGVydHlOYW1lcy5maWx0ZXIoKG5hbWUpID0+IHtcbiAgICBpZiAodGFyZ2V0W25hbWVdICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0W25hbWVdICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4ge2tleTogbmFtZSwgdmFsdWU6IHRhcmdldFtuYW1lXX07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWZpcztcbn1cblxuZnVuY3Rpb24gZ2V0SUZJQ291bnQodGFyZ2V0KSB7XG4gIHJldHVybiBnZXRJRklzKHRhcmdldCkubGVuZ3RoO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUV4dGVuc2lvbnMoZXh0ZW5zaW9ucywgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW10sXG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuRVhURU5TSU9OUztcblxuICBpZiAoZXh0ZW5zaW9ucyA9PT0gdW5kZWZpbmVkKSB7cmV0dXJuIGxvY2FsRXJyb3JzO31cblxuICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOb25OdWxsTWFwT2JqZWN0KGV4dGVuc2lvbnMpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICBsb2NhbFRyYWNlLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuRVhURU5TSU9OU19NVVNUX05PVF9CRV9OVUxMLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cbiAgLy8gVE9ETyAtIGRvdWJsZS1jaGVjayB3aGF0IGZ1cnRoZXIgZW5mb3JjZWFibGUgY29uc3RyYWludHMgZXhpc3Qgb24gZXh0ZW5zaW9uIG9iamVjdCBwcm9wZXJ0aWVzXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVMYW5ndWFnZU1hcChsYW5ndWFnZU1hcCwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2UsIHByb3BOYW1lLCBtYXBwZWRWYWx1ZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5MQU5HVUFHRV9NQVA7XG5cbiAgaWYgKGxhbmd1YWdlTWFwID09PSB1bmRlZmluZWQpIHtyZXR1cm4gbG9jYWxFcnJvcnM7fVxuXG4gIGlmICgheGFwaVZhbGlkYXRpb25VdGlscy5pc05vbk51bGxNYXBPYmplY3QobGFuZ3VhZ2VNYXApKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuTEFOR1VBR0VfTUFQU19NVVNUX05PVF9CRV9OVUxMLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICBmb3IgKHByb3BOYW1lIGluIGxhbmd1YWdlTWFwKSB7XG5cbiAgICBpZiAobGFuZ3VhZ2VNYXAuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNWYWxpZExhbmd1YWdlVGFnKHByb3BOYW1lLCB4YXBpVmFsaWRhdGlvblJlZ2V4LkJDUF80NykpIHtcbiAgICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wTmFtZSksXG4gICAgICAgICAgbWVzc2FnZTogYCR7cHJvcE5hbWV9ICR7eGFwaVZhbGlkYXRpb25FcnJvcnMuTEFOR1VBR0VfTUFQX0tFWV9JTlZBTElEfWAsXG4gICAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBtYXBwZWRWYWx1ZSA9IGxhbmd1YWdlTWFwW3Byb3BOYW1lXTtcblxuICAgICAgaWYgKG1hcHBlZFZhbHVlID09PSBudWxsIHx8IG1hcHBlZFZhbHVlID09PSB1bmRlZmluZWQgfHwgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNTdHJpbmcobWFwcGVkVmFsdWUpKSB7XG4gICAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkTG9va3VwVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wTmFtZSksXG4gICAgICAgICAgbWVzc2FnZTogYCR7cHJvcE5hbWV9ICR7eGFwaVZhbGlkYXRpb25FcnJvcnMuTEFOR1VBR0VfTUFQX0tFWV9NVVNUX0JFX1NUUklOR31gLFxuICAgICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlVmVyYih2ZXJiLCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5WRVJCO1xuXG4gIGlmICh2ZXJiID09PSB1bmRlZmluZWQpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuVkVSQl9NVVNUX0JFX1BST1ZJREVELFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOb25OdWxsTWFwT2JqZWN0KHZlcmIpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLlZFUkJfTVVTVF9OT1RfQkVfTlVMTCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgdmFsaWRhdGVQcm9wZXJ0eUlzVXJpKHZlcmIsIHByb3BlcnRpZXMuSUQsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi90cnVlKTtcblxuICBpZiAodmVyYi5kaXNwbGF5ID09PSB1bmRlZmluZWQpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5ESVNQTEFZKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkRJU1BMQVlfU0hPVUxEX0JFX1BST1ZJREVELFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLlNIT1VMRF9WSU9MQVRJT05cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZGF0ZUxhbmd1YWdlTWFwKHZlcmIuZGlzcGxheSwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkRJU1BMQVkpLCBsb2NhbEVycm9ycyk7XG4gIH1cblxuICB2YWxpZGF0ZUFic2VuY2VPZk5vbldoaXRlbGlzdGVkUHJvcGVydGllcyh2ZXJiLCB4YXBpV2hpdGVMaXN0UHJvcGVydGllcy5VUkksIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlSW50ZXJhY3Rpb25Db21wb25lbnRBcnJheShjb21wb25lbnRzLCBpbnRlcmFjdGlvblR5cGUsIGFsbG93ZWRJbnRlcmFjdGlvblR5cGVzLCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZSwgaXNBbGxvd2VkQ29tcG9uZW50VHlwZSwgaWRzLCBwZXJDb21wb25lbnRUcmFjZTtcblxuICBsb2NhbEVycm9ycyAgICAgICAgICAgID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICAgICAgICAgICAgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuSU5URVJBQ1RJT05fQ09NUE9ORU5UUztcbiAgaXNBbGxvd2VkQ29tcG9uZW50VHlwZSA9IGFsbG93ZWRJbnRlcmFjdGlvblR5cGVzLmluZGV4T2YoaW50ZXJhY3Rpb25UeXBlKSAhPT0geGFwaUdlbmVyYWwuTk9fSU5ERVhfRk9VTkQ7XG4gIGlkcyAgICAgICAgICAgICAgICAgICAgPSBbXTtcblxuICBpZiAoaXNBbGxvd2VkQ29tcG9uZW50VHlwZSAmJiBjb21wb25lbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoY29tcG9uZW50cyA9PT0gbnVsbCB8fCAheGFwaVZhbGlkYXRpb25VdGlscy5pc0FycmF5KGNvbXBvbmVudHMpKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgbG9jYWxUcmFjZSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuSU5URVJBQ1RJT05fQ09NUE9ORU5UX1NIT1VMRF9CRV9BUlJBWSxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLlNIT1VMRF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21wb25lbnRzLmZvckVhY2goKGludGVyYWN0aW9uQ29tcG9uZW50LCBpKSA9PiB7XG4gICAgICAgIHBlckNvbXBvbmVudFRyYWNlID0geGFwaVZhbGlkYXRpb25VdGlscy5hZGRMb29rdXBUb1RyYWNlKGxvY2FsVHJhY2UsIGkpO1xuXG4gICAgICAgIGlmICgheGFwaVZhbGlkYXRpb25VdGlscy5pc05vbk51bGxNYXBPYmplY3QoaW50ZXJhY3Rpb25Db21wb25lbnQpKSB7XG4gICAgICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgICAgICB0cmFjZTogICBwZXJDb21wb25lbnRUcmFjZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLklOVEVSQUNUSU9OX0NPTVBPTkVOVF9NVVNUX05PVF9CRV9OVUxMLFxuICAgICAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsaWRhdGVQcm9wZXJ0eUlzU3RyaW5nKGludGVyYWN0aW9uQ29tcG9uZW50LCBwcm9wZXJ0aWVzLklELCBwZXJDb21wb25lbnRUcmFjZSwgbG9jYWxFcnJvcnMsIC8qaXNSZXF1aXJlZCovdHJ1ZSwgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OKTtcbiAgICAgICAgICBpZiAoaWRzLmluZGV4T2YoaW50ZXJhY3Rpb25Db21wb25lbnQuaWQpICE9PSB4YXBpR2VuZXJhbC5OT19JTkRFWF9GT1VORCkge1xuICAgICAgICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UocGVyQ29tcG9uZW50VHJhY2UsIHByb3BlcnRpZXMuSUQpLFxuICAgICAgICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5JRF9NVVNUX0JFX1VOSVFVRSxcbiAgICAgICAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWRzLnB1c2goaW50ZXJhY3Rpb25Db21wb25lbnQuaWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkNvbXBvbmVudC5pZCAmJiB4YXBpVmFsaWRhdGlvblJlZ2V4LkNPTlRBSU5TX1dISVRFU1BBQ0UudGVzdChpbnRlcmFjdGlvbkNvbXBvbmVudC5pZCkpIHtcbiAgICAgICAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKHBlckNvbXBvbmVudFRyYWNlLCBwcm9wZXJ0aWVzLklEKSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuSURfU0hPVUxEX05PVF9DT05UQUlOX1dISVRFU1BBQ0VTLFxuICAgICAgICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuU0hPVUxEX1ZJT0xBVElPTlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFsaWRhdGVMYW5ndWFnZU1hcChpbnRlcmFjdGlvbkNvbXBvbmVudC5kZXNjcmlwdGlvbiwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShwZXJDb21wb25lbnRUcmFjZSwgcHJvcGVydGllcy5ERVNDUklQVElPTiksIGxvY2FsRXJyb3JzKTtcbiAgICAgICAgICB2YWxpZGF0ZUFic2VuY2VPZk5vbldoaXRlbGlzdGVkUHJvcGVydGllcyhpbnRlcmFjdGlvbkNvbXBvbmVudCwgeGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuQ09NUE9ORU5UX0FSUkFZLCBwZXJDb21wb25lbnRUcmFjZSwgbG9jYWxFcnJvcnMpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIH1cbiAgfSBlbHNlIGlmIChpbnRlcmFjdGlvblR5cGUgJiYgY29tcG9uZW50cykge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgbG9jYWxUcmFjZSxcbiAgICAgIG1lc3NhZ2U6IGAke3hhcGlWYWxpZGF0aW9uRXJyb3JzLklOVEVSQUNUSU9OX1RZUEVfTVVTVF9CRV9WQUxJRH0gJHtpbnRlcmFjdGlvblR5cGV9YCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5TSE9VTERfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQWN0aXZpdHlEZWZpbnRpb24oZGVmaW5pdGlvbiwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2UsIGNvcnJlY3RSZXNwb25zZXNQYXR0ZXJuVHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgICAgICAgICAgICAgICAgICA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgICAgICAgICAgICAgICAgICA9IHRyYWNlICB8fCBwcm9wZXJ0aWVzLkRFRklOSVRJT047XG4gIGNvcnJlY3RSZXNwb25zZXNQYXR0ZXJuVHJhY2UgPSB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuQ09SUkVDVF9SRVNQT05TRVNfUEFUVEVSTik7XG5cbiAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTm9uTnVsbE1hcE9iamVjdChkZWZpbml0aW9uKSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkRFRklOSVRJT05TX01VU1RfQkVfT0JKRUNUUyxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgdmFsaWRhdGVMYW5ndWFnZU1hcChkZWZpbml0aW9uLm5hbWUsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5OQU1FKSwgbG9jYWxFcnJvcnMpO1xuICB2YWxpZGF0ZUxhbmd1YWdlTWFwKGRlZmluaXRpb24uZGVzY3JpcHRpb24sIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5ERVNDUklQVElPTiksIGxvY2FsRXJyb3JzKTtcblxuICB2YWxpZGF0ZVByb3BlcnR5SXNVcmkoZGVmaW5pdGlvbiwgcHJvcGVydGllcy5UWVBFLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovZmFsc2UpO1xuICB2YWxpZGF0ZVByb3BlcnR5SXNVcmwoZGVmaW5pdGlvbiwgcHJvcGVydGllcy5NT1JFX0lORk8sIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi9mYWxzZSk7XG4gIHZhbGlkYXRlRXh0ZW5zaW9ucyhkZWZpbml0aW9uLmV4dGVuc2lvbnMsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5FWFRFTlNJT05TKSwgbG9jYWxFcnJvcnMpO1xuXG4gIGlmIChkZWZpbml0aW9uLmludGVyYWN0aW9uVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGRlZmluaXRpb24udHlwZSAhPT0geGFwaUdlbmVyYWwuSU5URVJBQ1RJT05fREVGSU5JVElPTl9UWVBFKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydGllcy5UWVBFKSxcbiAgICAgICAgbWVzc2FnZTogYCR7eGFwaVZhbGlkYXRpb25FcnJvcnMuSU5URVJBQ1RJT05fQUNUSVZJVFlfU0hPVUxEX0hBVkV9IFwiJHt4YXBpR2VuZXJhbC5JTlRFUkFDVElPTl9ERUZJTklUSU9OX1RZUEV9XCJgLFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuU0hPVUxEX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHhhcGlWYWxpZGF0aW9uSW50ZXJhY3Rpb25UeXBlcy5pbmRleE9mKGRlZmluaXRpb24uaW50ZXJhY3Rpb25UeXBlKSA9PT0geGFwaUdlbmVyYWwuTk9fSU5ERVhfRk9VTkQpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLklOVEVSQUNUSU9OX1RZUEUpLFxuICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5JTlRFUkFDVElPTl9UWVBFX01VU1RfQkVfQ01JLFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkZWZpbml0aW9uLmNvcnJlY3RSZXNwb25zZXNQYXR0ZXJuICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNBcnJheShkZWZpbml0aW9uLmNvcnJlY3RSZXNwb25zZXNQYXR0ZXJuKSkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIGNvcnJlY3RSZXNwb25zZXNQYXR0ZXJuVHJhY2UsXG4gICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkNPUlJFQ1RfUkVTUE9OU0VTX1BBVFRFUk5fTVVTVF9CRV9BUlJBWSxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmaW5pdGlvbi5jb3JyZWN0UmVzcG9uc2VzUGF0dGVybi5mb3JFYWNoKChyZXNwb25zZSwgaSkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHVuZGVmaW5lZCB8fCAheGFwaVZhbGlkYXRpb25VdGlscy5pc1N0cmluZyhyZXNwb25zZSkpIHtcbiAgICAgICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkTG9va3VwVG9UcmFjZShjb3JyZWN0UmVzcG9uc2VzUGF0dGVyblRyYWNlLCBpKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkNPUlJFQ1RfUkVTUE9OU0VTX1BBVFRFUk5fTVVTVF9CRV9TVFJJTkdTLFxuICAgICAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlSW50ZXJhY3Rpb25Db21wb25lbnRBcnJheShcbiAgICBkZWZpbml0aW9uLmNob2ljZXMsXG4gICAgZGVmaW5pdGlvbi5pbnRlcmFjdGlvblR5cGUsXG4gICAgW3Byb3BlcnRpZXMuQ0hPSUNFLCBwcm9wZXJ0aWVzLlNFUVVFTkNJTkddLFxuICAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5DSE9JQ0VTKSxcbiAgICBsb2NhbEVycm9yc1xuICApO1xuXG4gIHZhbGlkYXRlSW50ZXJhY3Rpb25Db21wb25lbnRBcnJheShcbiAgICBkZWZpbml0aW9uLnNjYWxlLFxuICAgIGRlZmluaXRpb24uaW50ZXJhY3Rpb25UeXBlLFxuICAgIFtwcm9wZXJ0aWVzLkxJS0VSVF0sXG4gICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlNDQUxFKSxcbiAgICBsb2NhbEVycm9yc1xuICApO1xuXG4gIHZhbGlkYXRlSW50ZXJhY3Rpb25Db21wb25lbnRBcnJheShcbiAgICBkZWZpbml0aW9uLnNvdXJjZSxcbiAgICBkZWZpbml0aW9uLmludGVyYWN0aW9uVHlwZSxcbiAgICBbcHJvcGVydGllcy5NQVRDSElOR10sXG4gICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlNPVVJDRSksXG4gICAgbG9jYWxFcnJvcnNcbiAgKTtcblxuICB2YWxpZGF0ZUludGVyYWN0aW9uQ29tcG9uZW50QXJyYXkoXG4gICAgZGVmaW5pdGlvbi50YXJnZXQsXG4gICAgZGVmaW5pdGlvbi5pbnRlcmFjdGlvblR5cGUsXG4gICAgW3Byb3BlcnRpZXMuTUFUQ0hJTkddLFxuICAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5UQVJHRVQpLFxuICAgIGxvY2FsRXJyb3JzXG4gICk7XG5cbiAgdmFsaWRhdGVJbnRlcmFjdGlvbkNvbXBvbmVudEFycmF5KFxuICAgIGRlZmluaXRpb24uc3RlcHMsXG4gICAgZGVmaW5pdGlvbi5pbnRlcmFjdGlvblR5cGUsXG4gICAgW3Byb3BlcnRpZXMuUEVSRk9STUFOQ0VdLFxuICAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5TVEVQUyksXG4gICAgbG9jYWxFcnJvcnNcbiAgKTtcblxuICB2YWxpZGF0ZUFic2VuY2VPZk5vbldoaXRlbGlzdGVkUHJvcGVydGllcyhkZWZpbml0aW9uLCB4YXBpV2hpdGVMaXN0UHJvcGVydGllcy5BQ1RJVklUWV9ERUZJTklUSU9OLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVBY3Rpdml0eShhY3Rpdml0eSwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuQUNUSVZJVFk7XG5cbiAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTm9uTnVsbE1hcE9iamVjdChhY3Rpdml0eSkpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuQUNUSVZJVElFU19NVVNUX05PVF9CRV9OVUxMLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICB2YWxpZGF0ZVByb3BlcnR5SXNVcmkoYWN0aXZpdHksIHByb3BlcnRpZXMuSUQsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi90cnVlKTtcblxuICBpZiAoYWN0aXZpdHkuZGVmaW5pdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFsaWRhdGVBY3Rpdml0eURlZmludGlvbihcbiAgICAgIGFjdGl2aXR5LmRlZmluaXRpb24sXG4gICAgICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuREVGSU5JVElPTiksXG4gICAgICBsb2NhbEVycm9yc1xuICAgICk7XG4gIH1cblxuICB2YWxpZGF0ZUFic2VuY2VPZk5vbldoaXRlbGlzdGVkUHJvcGVydGllcyhhY3Rpdml0eSwgeGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuQUNUSVZJVFksIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlU3RhdGVtZW50UmVmKHN0YXRlbWVudFJlZiwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuU1RBVEVNRU5UX1JFRjtcblxuICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOb25OdWxsTWFwT2JqZWN0KHN0YXRlbWVudFJlZikpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuU1RBVEVNRU5UX1JFRl9NVVNUX05PVF9CRV9OVUxMX01BUF9PQkpFQ1RTLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cblxuICBpZiAoc3RhdGVtZW50UmVmLm9iamVjdFR5cGUgIT09IG9iamVjdFR5cGVzLlNUQVRFTUVOVF9SRUYpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5PQkpFQ1RfVFlQRSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5PQkpFQ1RfVFlQRV9NVVNUX0JFX1NUQVRFTUVOVF9SRUYsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcbiAgfVxuXG4gIGlmICghc3RhdGVtZW50UmVmLmlkIHx8ICF4YXBpVmFsaWRhdGlvblJlZ2V4LlVVSUQudGVzdChzdGF0ZW1lbnRSZWYuaWQpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuSUQpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuSURfTVVTVF9CRV9WQUxJRF9VVUlEX1JFRixcbiAgICAgIGxldmVsOiAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cblxuICB2YWxpZGF0ZUFic2VuY2VPZk5vbldoaXRlbGlzdGVkUHJvcGVydGllcyhzdGF0ZW1lbnRSZWYsIHhhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzLlNUQVRFTUVOVF9SRUYsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlU2NvcmUoc2NvcmUsIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCBwcm9wZXJ0aWVzLlNDT1JFO1xuXG4gIGlmIChzY29yZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICB2YWxpZGF0ZVByb3BlcnR5SXNOdW1iZXIoc2NvcmUsIHByb3BlcnRpZXMuU0NBTEVELCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovZmFsc2UpO1xuXG4gIGlmIChzY29yZS5zY2FsZWQgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChzY29yZS5zY2FsZWQgPCB4YXBpR2VuZXJhbC5NSU5fU0NBTEVEX1ZBTFVFIHx8IHNjb3JlLnNjYWxlZCA+IHhhcGlHZW5lcmFsLk1BWF9TQ0FMRURfVkFMVUUpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuU0NBTEVEKSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuU0NBTEVEX01VU1RfQkVfQkVUV0VFTl8wXzEsXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNjb3JlLm1pbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFsaWRhdGVQcm9wZXJ0eUlzTnVtYmVyKHNjb3JlLCBwcm9wZXJ0aWVzLk1JTiwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMsICAvKmlzUmVxdWlyZWQqL2ZhbHNlKTtcblxuICAgICAgaWYgKHNjb3JlLnJhdyAhPT0gdW5kZWZpbmVkICYmIHNjb3JlLnJhdyA8IHNjb3JlLm1pbikge1xuICAgICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuUkFXKSxcbiAgICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5SQVdfTVVTVF9CRV9HUkVBVEVSX1RIQU5fTUlOLFxuICAgICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjb3JlLm1heCAhPT0gdW5kZWZpbmVkICYmIHNjb3JlLm1heCA8IHNjb3JlLm1pbikge1xuICAgICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuTUFYKSxcbiAgICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5NQVhfTVVTVF9CRV9HUkVBVEVSX1RIQU5fTUlOLFxuICAgICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgfVxuXG4gIGlmIChzY29yZS5tYXggIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbGlkYXRlUHJvcGVydHlJc051bWJlcihzY29yZSwgcHJvcGVydGllcy5NQVgsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi9mYWxzZSk7XG5cbiAgICBpZiAoc2NvcmUucmF3ICE9PSB1bmRlZmluZWQgJiYgc2NvcmUucmF3ID4gc2NvcmUubWF4KSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlJBVyksXG4gICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLlJBV19NVVNUX0JFX0xFU1NfVEhBTl9NQVgsXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVQcm9wZXJ0eUlzTnVtYmVyKHNjb3JlLCBwcm9wZXJ0aWVzLlJBVywgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMsICAvKmlzUmVxdWlyZWQqL2ZhbHNlKTtcbiAgdmFsaWRhdGVBYnNlbmNlT2ZOb25XaGl0ZWxpc3RlZFByb3BlcnRpZXMoc2NvcmUsIHhhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzLlNDT1JFLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVJlc3VsdChyZXN1bHQsIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCBwcm9wZXJ0aWVzLlJFU1VMVDtcblxuICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtyZXR1cm4gbG9jYWxFcnJvcnM7fVxuXG4gIGlmICgheGFwaVZhbGlkYXRpb25VdGlscy5pc05vbk51bGxNYXBPYmplY3QocmVzdWx0KSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLlJFU1VMVF9NVVNUX0JFX01BUF9PQkpFQ1QsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIHZhbGlkYXRlU2NvcmUocmVzdWx0LnNjb3JlLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuU0NPUkUpLCBsb2NhbEVycm9ycyk7XG4gIHZhbGlkYXRlUHJvcGVydHlJc0Jvb2xlYW4ocmVzdWx0LCBwcm9wZXJ0aWVzLlNVQ0NFU1MsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi9mYWxzZSk7XG4gIHZhbGlkYXRlUHJvcGVydHlJc0Jvb2xlYW4ocmVzdWx0LCBwcm9wZXJ0aWVzLkNPTVBMRVRJT04sIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi9mYWxzZSk7XG4gIHZhbGlkYXRlUHJvcGVydHlJc1N0cmluZyhyZXN1bHQsIHByb3BlcnRpZXMuUkVTUE9OU0UsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi9mYWxzZSk7XG4gIHZhbGlkYXRlRXh0ZW5zaW9ucyhyZXN1bHQuZXh0ZW5zaW9ucywgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkVYVEVOU0lPTlMpLCBsb2NhbEVycm9ycyk7XG5cbiAgaWYgKHJlc3VsdC5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkICYmIChyZXN1bHQuZHVyYXRpb24gPT09IG51bGwgfHwgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNTdHJpbmcocmVzdWx0LmR1cmF0aW9uKSB8fCAheGFwaVZhbGlkYXRpb25SZWdleC5JU09fODYwMV9EVVJBVElPTi50ZXN0KHJlc3VsdC5kdXJhdGlvbikpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuRFVSQVRJT04pLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuRFVSQVRJT05fTVVTVF9CRV9WQUxJRCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgdmFsaWRhdGVBYnNlbmNlT2ZOb25XaGl0ZWxpc3RlZFByb3BlcnRpZXMocmVzdWx0LCB4YXBpV2hpdGVMaXN0UHJvcGVydGllcy5SRVNVTFQsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydHlJc0lTTzg2MDFTdHJpbmcocGFyZW50LCBwcm9wZXJ0eU5hbWUsIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlLCBtYXRjaGVkLCBkYXRldGltZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5EQVRFX1RJTUU7XG4gIGRhdGV0aW1lICAgID0gcGFyZW50W3Byb3BlcnR5TmFtZV07XG5cbiAgaWYgKGRhdGV0aW1lID09PSB1bmRlZmluZWQpIHtyZXR1cm4gbG9jYWxFcnJvcnM7fVxuXG4gIGlmIChkYXRldGltZSA9PT0gbnVsbCB8fCAheGFwaVZhbGlkYXRpb25VdGlscy5pc1N0cmluZyhkYXRldGltZSkpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnR5TmFtZSksXG4gICAgICBtZXNzYWdlOiBgJHtwcm9wZXJ0eU5hbWV9ICR7eGFwaVZhbGlkYXRpb25FcnJvcnMuTVVTVF9CRV9TVFJJTkd9YCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgbWF0Y2hlZCA9IHhhcGlWYWxpZGF0aW9uUmVnZXguSVNPXzg2MDFfREFURV9USU1FLmV4ZWMoZGF0ZXRpbWUpO1xuXG4gIGlmIChtYXRjaGVkKSB7XG4gICAgaWYgKCFkYXRlSW5jbHVkZXNab25lSW5mb3JtYXRpb24obWF0Y2hlZCkpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5EQVRFX1NIT1VMRF9JTkNMVURFX1pPTkVfSU5GT1JNQVRJT04sXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5TSE9VTERfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuREFURV9NVVNUX0JFX1ZBTElELFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlVmVyc2lvbih2ZXJzaW9uLCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5WRVJTSU9OO1xuXG4gIGlmICh2ZXJzaW9uID09PSB1bmRlZmluZWQpIHtyZXR1cm4gbG9jYWxFcnJvcnM7fVxuXG4gIGlmICh2ZXJzaW9uID09PSBudWxsIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzU3RyaW5nKHZlcnNpb24pIHx8ICF4YXBpVmFsaWRhdGlvblJlZ2V4LlNFTVZFUl8xX1BfMF9QXzAudGVzdCh2ZXJzaW9uKSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5WRVJTSU9OX01VU1RfQ09NUExZX1NFTUFOVElDX1ZFUlNJT05JTkcsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVBdHRhY2htZW50T2JqZWN0KGF0dGFjaG1lbnQsIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlIHx8IHByb3BlcnRpZXMuQVRUQUNITUVOVDtcblxuICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOb25OdWxsTWFwT2JqZWN0KGF0dGFjaG1lbnQpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkFUVEFDSE1FTlRTX01VU1RfTk9UX0JFX05VTExfTUFQX09CSkVDVFMsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIGlmIChhdHRhY2htZW50LmRpc3BsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydGllcy5ESVNQTEFZKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkRJU1BMQVlfU0hPVUxEX0JFX1BST1ZJREVELFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgfSBlbHNlIHtcbiAgICB2YWxpZGF0ZUxhbmd1YWdlTWFwKGF0dGFjaG1lbnQuZGlzcGxheSwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkRJU1BMQVkpLCBsb2NhbEVycm9ycyk7XG4gIH1cblxuICB2YWxpZGF0ZUxhbmd1YWdlTWFwKGF0dGFjaG1lbnQuZGVzY3JpcHRpb24sIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5ERVNDUklQVElPTiksIGxvY2FsRXJyb3JzKTtcbiAgdmFsaWRhdGVQcm9wZXJ0eUlzVXJpKGF0dGFjaG1lbnQsIHByb3BlcnRpZXMuVVNBR0VfVFlQRSwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMsIC8qaXNSZXF1aXJlZCovdHJ1ZSwgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OKTtcbiAgdmFsaWRhdGVQcm9wZXJ0eUlzVXJpKGF0dGFjaG1lbnQsIHByb3BlcnRpZXMuRklMRV9VUkwsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi9mYWxzZSwgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OKTtcblxuICAvLyBUT0RPIC0gbW9yZSBjb21wbGV0ZSB2YWxpZGF0aW9uIGZvciBJbnRlcm5ldCBNZWRpYSBUeXBlIHZpYSBSRkMgMjA0NlxuICB2YWxpZGF0ZVByb3BlcnR5SXNTdHJpbmcoYXR0YWNobWVudCwgcHJvcGVydGllcy5DT05URU5UX1RZUEUsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAvKmlzUmVxdWlyZWQqL3RydWUsIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTik7XG5cbiAgaWYgKGF0dGFjaG1lbnQubGVuZ3RoID09PSB1bmRlZmluZWQgfHwgYXR0YWNobWVudC5sZW5ndGggPT09IG51bGwgfHwgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOdW1iZXIoYXR0YWNobWVudC5sZW5ndGgpIHx8IChhdHRhY2htZW50Lmxlbmd0aCAlIDEgIT09IDApKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkxFTkdUSCksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5MRU5HVEhfTVVTVF9CRV9JTlRFR0VSLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cblxuICBpZiAoYXR0YWNobWVudC5zaGEyID09PSB1bmRlZmluZWQpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuU0hBMiksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5TSEEyX01VU1RfQkVfUFJPVklERURfT05fQVRUQUNITUVOVF9PQkpFQ1RTLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoYXR0YWNobWVudC5zaGEyID09PSBudWxsIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzU3RyaW5nKGF0dGFjaG1lbnQuc2hhMikgfHwgIXhhcGlWYWxpZGF0aW9uUmVnZXguQkFTRV82NC50ZXN0KGF0dGFjaG1lbnQuc2hhMikpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuU0hBMiksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5TSEEyX01VU1RfQ09OVEFJTl9CQVNFXzY0X1NUUklORyxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgdmFsaWRhdGVBYnNlbmNlT2ZOb25XaGl0ZWxpc3RlZFByb3BlcnRpZXMoYXR0YWNobWVudCwgeGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuQVRUQUNITUVOVCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQXR0YWNobWVudHMoYXR0YWNobWVudHMsIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCBwcm9wZXJ0aWVzLkFUVEFDSE1FTlRTO1xuXG4gIGlmIChhdHRhY2htZW50cyA9PT0gdW5kZWZpbmVkKSB7cmV0dXJuIGxvY2FsRXJyb3JzO31cblxuICBpZiAoYXR0YWNobWVudHMgPT09IG51bGwgfHwgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNBcnJheShhdHRhY2htZW50cykpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuQVRUQUNITUVOVFNfTVVTVF9CRV9OT1RfTlVMTF9BUlJBWSxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgYXR0YWNobWVudHMuZm9yRWFjaCgoYXR0YWNobWVudCwgaSkgPT4ge1xuICAgIHZhbGlkYXRlQXR0YWNobWVudE9iamVjdChhdHRhY2htZW50LCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZExvb2t1cFRvVHJhY2UobG9jYWxUcmFjZSwgaSksIGxvY2FsRXJyb3JzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUFnZW50KGFnZW50LCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZSwgaWZpQ291bnQ7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuQUdFTlQ7XG5cbiAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTm9uTnVsbE1hcE9iamVjdChhZ2VudCkpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuQUdFTlRfTVVTVF9CRV9OT05fTlVMTF9NQVBfT0JKRUNULFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgaWZpQ291bnQgPSBnZXRJRklDb3VudChhZ2VudCk7XG5cbiAgaWYgKGlmaUNvdW50ICE9PSB4YXBpR2VuZXJhbC5OVU1FUl9PRl9TUEVDSUZJRURfSUZJX1BST1BFUlRJRVMpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuQUdFTlRfSUZJX1BST1BFUlRJRVNfTVVTVF9CRV9TUEVDSUZJRUQsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChhZ2VudC5vYmplY3RUeXBlID09PSBvYmplY3RUeXBlcy5HUk9VUCkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5BR0VOVF9NVVNUX05PVF9IQVZFX0dST1VQX0NIQVJBQ1RFUklTVElDUyxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgdmFsaWRhdGVJRklQcm9wZXJ0aWVzKGFnZW50LCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG4gIHZhbGlkYXRlUHJvcGVydHlJc1N0cmluZyhhZ2VudCwgcHJvcGVydGllcy5OQU1FLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovZmFsc2UpO1xuXG4gIHZhbGlkYXRlQWJzZW5jZU9mTm9uV2hpdGVsaXN0ZWRQcm9wZXJ0aWVzKGFnZW50LCB4YXBpV2hpdGVMaXN0UHJvcGVydGllcy5BR0VOVCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVHcm91cChncm91cCwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2UsIG1lbWJlclRyYWNlLCBpZmlDb3VudDtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5HUk9VUDtcbiAgbWVtYmVyVHJhY2UgPSB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuTUVNQkVSKTtcblxuICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOb25OdWxsTWFwT2JqZWN0KGdyb3VwKSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5HUk9VUF9NVVNUX0JFX05PTl9OVUxMX01BUF9PQkpFQ1QsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIGlmaUNvdW50ID0gZ2V0SUZJQ291bnQoZ3JvdXApO1xuXG4gIGlmIChpZmlDb3VudCA9PT0gMCkge1xuICAgIGlmIChncm91cC5tZW1iZXIgPT09IG51bGwgfHwgZ3JvdXAubWVtYmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICBtZW1iZXJUcmFjZSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuTUVNQkVSX01VU1RfQkVfUFJPVklERURfRk9SX0FOT05ZTU9VU19HUk9VUFMsXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlmaUNvdW50ID4geGFwaUdlbmVyYWwuTlVNRVJfT0ZfU1BFQ0lGSUVEX0lGSV9QUk9QRVJUSUVTKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkdST1VQX0lGSV9QUk9QRVJUSUVTX01VU1RfQkVfU1BFQ0lGSUVELFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cblxuICB2YWxpZGF0ZUlGSVByb3BlcnRpZXMoZ3JvdXAsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcblxuICB2YWxpZGF0ZVByb3BlcnR5SXNTdHJpbmcoZ3JvdXAsIHByb3BlcnRpZXMuTkFNRSwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMsICAvKmlzUmVxdWlyZWQqL2ZhbHNlKTtcblxuICBpZiAoZ3JvdXAubWVtYmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoZ3JvdXAubWVtYmVyID09PSBudWxsIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzQXJyYXkoZ3JvdXAubWVtYmVyKSkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuTUVNQkVSKSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuR1JPVVBfTUVNQkVSX01VU1RfQkVfQVJSQVksXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdyb3VwLm1lbWJlci5mb3JFYWNoKChtZW1iZXIsIGkpID0+IHtcbiAgICAgICAgdmFsaWRhdGVBZ2VudChtZW1iZXIsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkTG9va3VwVG9UcmFjZShtZW1iZXJUcmFjZSwgaSksIGxvY2FsRXJyb3JzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlQWJzZW5jZU9mTm9uV2hpdGVsaXN0ZWRQcm9wZXJ0aWVzKGdyb3VwLCB4YXBpV2hpdGVMaXN0UHJvcGVydGllcy5HUk9VUCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVBY3RvcihhY3RvciwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuQUNUT1I7XG5cbiAgaWYgKGFjdG9yID09PSBudWxsIHx8IGFjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuQUNUT1JfTVVTVF9CRV9QUk9WSURFRCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgaWYgKHhhcGlWYWxpZGF0aW9uVXRpbHMuaXNHcm91cChhY3Rvciwgb2JqZWN0VHlwZXMuR1JPVVApKSB7XG4gICAgdmFsaWRhdGVHcm91cChhY3RvciwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuICB9IGVsc2Uge1xuICAgIHZhbGlkYXRlQWdlbnQoYWN0b3IsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcbiAgfVxuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVBdXRob3JpdHkoYXV0aG9yaXR5LCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5BVVRIT1JJVFk7XG5cbiAgaWYgKGF1dGhvcml0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTm9uTnVsbE1hcE9iamVjdChhdXRob3JpdHkpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkFVVEhPUklUWV9NVVNUX0JFX05PTl9OVUxMX01BUF9PQkpFQ1QsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuICBpZiAoeGFwaVZhbGlkYXRpb25VdGlscy5pc0dyb3VwKGF1dGhvcml0eSwgb2JqZWN0VHlwZXMuR1JPVVApKSB7XG4gICAgdmFsaWRhdGVHcm91cChhdXRob3JpdHksIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcbiAgICBpZiAoIWF1dGhvcml0eS5tZW1iZXIgfHwgIWF1dGhvcml0eS5tZW1iZXIubGVuZ3RoIHx8IGF1dGhvcml0eS5tZW1iZXIubGVuZ3RoICE9PSB4YXBpR2VuZXJhbC5HUk9VUF9BVVRIT1JJVFlfQUdFTlRfTUVNQkVSUykge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuTUVNQkVSKSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuR1JPVVBfQVVUSE9SSVRZX0FHRU5UX01FTUJFUlNfTVVTVF9CRV9UV08sXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhbGlkYXRlQWdlbnQoYXV0aG9yaXR5LCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG4gIH1cblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQ29udGV4dEFjdGl2aXR5U3ViQ29udGV4dChzdWJDb250ZXh0LCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5TVUJfQ09OVEVYVDtcblxuICBpZiAoc3ViQ29udGV4dCA9PT0gdW5kZWZpbmVkKSB7cmV0dXJuIGxvY2FsRXJyb3JzO31cblxuICBpZiAoc3ViQ29udGV4dCA9PT0gbnVsbCkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5DT05URVhUX0FDVElWSVRJRVNfTVVTVF9OT1RfQkVfTlVMTCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9IGVsc2UgaWYgKHhhcGlWYWxpZGF0aW9uVXRpbHMuaXNBcnJheShzdWJDb250ZXh0KSkge1xuICAgIHN1YkNvbnRleHQuZm9yRWFjaCgoYWN0aXZpdHksIGkpID0+IHtcbiAgICAgIHZhbGlkYXRlQWN0aXZpdHkoYWN0aXZpdHksIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkTG9va3VwVG9UcmFjZShsb2NhbFRyYWNlLCBpKSwgbG9jYWxFcnJvcnMpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHhhcGlWYWxpZGF0aW9uVXRpbHMuaXNPYmplY3Qoc3ViQ29udGV4dCkpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuQ09OVEVYVF9BQ1RJVklUSUVTX1NIT1VMRF9CRV9BTl9BUlJBWSxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5TSE9VTERfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0ZUFjdGl2aXR5KHN1YkNvbnRleHQsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuQ09OVEVYVF9BQ1RJVklUSUVTX01VU1RfQkVfQVJSQVlfT1JfQUNUSVZJVFlfT0JKLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OfSk7XG4gIH1cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHRBY3Rpdml0aWVzKGNvbnRleHRBY3Rpdml0aWVzLCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5DT05URVhUX0FDVElWSVRJRVM7XG5cbiAgaWYgKGNvbnRleHRBY3Rpdml0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOb25OdWxsTWFwT2JqZWN0KGNvbnRleHRBY3Rpdml0aWVzKSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5DT05URVhUX0FDVElWSVRJRVNfTVVTVF9CRV9OT05fTlVMTF9NQVBfT0JKRUNULFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgdmFsaWRhdGVDb250ZXh0QWN0aXZpdHlTdWJDb250ZXh0KGNvbnRleHRBY3Rpdml0aWVzLnBhcmVudCwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlBBUkVOVCksIGxvY2FsRXJyb3JzKTtcbiAgdmFsaWRhdGVDb250ZXh0QWN0aXZpdHlTdWJDb250ZXh0KGNvbnRleHRBY3Rpdml0aWVzLmdyb3VwaW5nLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuR1JPVVBJTkcpLCBsb2NhbEVycm9ycyk7XG4gIHZhbGlkYXRlQ29udGV4dEFjdGl2aXR5U3ViQ29udGV4dChjb250ZXh0QWN0aXZpdGllcy5jYXRlZ29yeSwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkNBVEVHT1JZKSwgbG9jYWxFcnJvcnMpO1xuICB2YWxpZGF0ZUNvbnRleHRBY3Rpdml0eVN1YkNvbnRleHQoY29udGV4dEFjdGl2aXRpZXMub3RoZXIsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5PVEhFUiksIGxvY2FsRXJyb3JzKTtcblxuICB2YWxpZGF0ZUFic2VuY2VPZk5vbldoaXRlbGlzdGVkUHJvcGVydGllcyhjb250ZXh0QWN0aXZpdGllcywgeGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuQ09OVEVYVF9BQ1RJVklUSUVTLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHQoY29udGV4dCwgdHJhY2UsIGVycm9ycywgc3RhdGVtZW50T2JqZWN0T2JqZWN0VHlwZSkge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgPSB0cmFjZSB8fCBwcm9wZXJ0aWVzLkNPTlRFWFQ7XG5cbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge3JldHVybiBsb2NhbEVycm9yczt9XG5cbiAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTm9uTnVsbE1hcE9iamVjdChjb250ZXh0KSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgbG9jYWxUcmFjZSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkNPTlRFWFRfTVVTVF9CRV9OT05fTlVMX01BUF9PQkpFQ1QsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIGlmIChjb250ZXh0LnJlZ2lzdHJhdGlvbiAhPT0gdW5kZWZpbmVkICYmIChjb250ZXh0LnJlZ2lzdHJhdGlvbiA9PT0gbnVsbCB8fCAheGFwaVZhbGlkYXRpb25VdGlscy5pc1N0cmluZyhjb250ZXh0LnJlZ2lzdHJhdGlvbikgfHwgIXhhcGlWYWxpZGF0aW9uUmVnZXguVVVJRC50ZXN0KGNvbnRleHQucmVnaXN0cmF0aW9uKSkpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuUkVHSVNUUkFUSU9OKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLlJFR0lTVFJBVElPTl9NVVNUX0JFX1VVSURfU1RSSU5HLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cblxuICBpZiAoW29iamVjdFR5cGVzLkdST1VQLCBvYmplY3RUeXBlcy5BR0VOVF0uaW5kZXhPZihzdGF0ZW1lbnRPYmplY3RPYmplY3RUeXBlKSAhPT0geGFwaUdlbmVyYWwuTk9fSU5ERVhfRk9VTkQpIHtcbiAgICBpZiAoY29udGV4dC5yZXZpc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydGllcy5SRVZJU0lPTiksXG4gICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLlJFVklTSU9OX01VU1RfQkVfQUdFTlRfT1JfR1JPVVAsXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQucGxhdGZvcm0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuUExBVEZPUk0pLFxuICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5QTEFURk9STV9NVVNUX05PVF9CRV9VU0VEX1dJVEhfUkVWSVNJT05fQUdFTlRfT1JfR1JPVVAsXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVQcm9wZXJ0eUlzU3RyaW5nKGNvbnRleHQsIHByb3BlcnRpZXMuUkVWSVNJT04sIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAvKmlzUmVxdWlyZWQqL2ZhbHNlLCB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT04pO1xuICB2YWxpZGF0ZVByb3BlcnR5SXNTdHJpbmcoY29udGV4dCwgcHJvcGVydGllcy5QTEFURk9STSwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMsIC8qaXNSZXF1aXJlZCovZmFsc2UsIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTik7XG5cbiAgaWYgKGNvbnRleHQudGVhbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWxpZGF0ZUdyb3VwKGNvbnRleHQudGVhbSwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlRFQU0pLCBsb2NhbEVycm9ycyk7XG4gIH1cblxuICBpZiAoY29udGV4dC5jb250ZXh0QWN0aXZpdGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFsaWRhdGVDb250ZXh0QWN0aXZpdGllcyhjb250ZXh0LmNvbnRleHRBY3Rpdml0aWVzLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuQ09OVEVYVF9BQ1RJVklUSUVTKSwgbG9jYWxFcnJvcnMpO1xuICB9XG5cbiAgaWYgKGNvbnRleHQubGFuZ3VhZ2UgIT09IHVuZGVmaW5lZCAmJiAheGFwaVZhbGlkYXRpb25VdGlscy5pc1ZhbGlkTGFuZ3VhZ2VUYWcoY29udGV4dC5sYW5ndWFnZSwgeGFwaVZhbGlkYXRpb25SZWdleC5CQ1BfNDcpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkxBTkdVQUdFKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkxBTkdVQUdFX01VU1RfQkVfU1RSSU5HLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cblxuICBpZiAoY29udGV4dC5zdGF0ZW1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbGlkYXRlU3RhdGVtZW50UmVmKGNvbnRleHQuc3RhdGVtZW50LCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuU1RBVEVNRU5UKSwgbG9jYWxFcnJvcnMpO1xuICB9XG5cbiAgaWYgKGNvbnRleHQuaW5zdHJ1Y3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHhhcGlWYWxpZGF0aW9uVXRpbHMuaXNHcm91cChjb250ZXh0Lmluc3RydWN0b3IsIG9iamVjdFR5cGVzLkdST1VQKSkge1xuICAgICAgdmFsaWRhdGVHcm91cChjb250ZXh0Lmluc3RydWN0b3IsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5JTlNUUlVDVE9SKSwgbG9jYWxFcnJvcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWxpZGF0ZUFnZW50KGNvbnRleHQuaW5zdHJ1Y3RvciwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLklOU1RSVUNUT1IpLCBsb2NhbEVycm9ycyk7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVFeHRlbnNpb25zKGNvbnRleHQuZXh0ZW5zaW9ucywgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkVYVEVOU0lPTlMpLCBsb2NhbEVycm9ycyk7XG4gIHZhbGlkYXRlQWJzZW5jZU9mTm9uV2hpdGVsaXN0ZWRQcm9wZXJ0aWVzKGNvbnRleHQsIHhhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzLkVYVEVOU0lPTlMsbG9jYWxUcmFjZSxsb2NhbEVycm9ycyk7XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZU9iamVjdChvYmplY3QsIHRyYWNlLCBlcnJvcnMsIGlzV2l0aGluU3ViU3RhdGVtZW50KSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZSwgb2JqZWN0VHlwZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5PQkpFQ1Q7XG5cbiAgaWYgKG9iamVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLk9CSkVDVF9NVVNUX0JFX0RFRklORUQsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIGlmICgheGFwaVZhbGlkYXRpb25VdGlscy5pc05vbk51bGxNYXBPYmplY3Qob2JqZWN0KSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5PQkpFQ1RfTVVTVF9CRV9OT05fTlVMTF9NQVBfT0JKRUNULFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICB2YWxpZGF0ZVByb3BlcnR5SXNTdHJpbmcob2JqZWN0LCBwcm9wZXJ0aWVzLk9CSkVDVF9UWVBFLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgLyppc1JlcXVpcmVkKi90cnVlLCB4YXBpRXJyb3JMZXZlbHMuU0hPVUxEX1ZJT0xBVElPTik7XG5cbiAgb2JqZWN0VHlwZSA9IG9iamVjdC5vYmplY3RUeXBlIHx8IG9iamVjdFR5cGVzLkFDVElWSVRZO1xuXG4gIHN3aXRjaCAob2JqZWN0VHlwZSkge1xuICAgIGNhc2Ugb2JqZWN0VHlwZXMuQUNUSVZJVFk6XG4gICAgICB2YWxpZGF0ZUFjdGl2aXR5KG9iamVjdCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBvYmplY3RUeXBlcy5BR0VOVDpcbiAgICAgIHZhbGlkYXRlQWdlbnQob2JqZWN0LCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIG9iamVjdFR5cGVzLkdST1VQOlxuICAgICAgdmFsaWRhdGVHcm91cChvYmplY3QsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2Ugb2JqZWN0VHlwZXMuU1RBVEVNRU5UX1JFRjpcbiAgICAgIHZhbGlkYXRlU3RhdGVtZW50UmVmKG9iamVjdCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBvYmplY3RUeXBlcy5TVUJfU1RBVEVNRU5UOlxuICAgICAgaWYgKGlzV2l0aGluU3ViU3RhdGVtZW50KSB7XG4gICAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuT0JKRUNUX1RZUEUpLFxuICAgICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLlNVQl9TVEFURU1FTlRfTVVTVF9OT1RfQ09OVEFJTl9TVUJfU1RBVEVNRU5ULFxuICAgICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHZhbGlkYXRlKG9iamVjdCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMsICAvKmlzU3ViU3RhdGVtZW50Ki90cnVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydGllcy5PQkpFQ1RfVFlQRSksXG4gICAgICAgIG1lc3NhZ2U6IGAke3hhcGlWYWxpZGF0aW9uRXJyb3JzLk9CSkVDVF9UWVBFX01VU1RfQkVfVkFMSURfT1BUSU9OfSAke3hBcGlWYWxpZE9iamVjdFR5cGVzLnRvU3RyaW5nKCl9YCxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGUoc3RhdGVtZW50LCB0cmFjZSwgZXJyb3JzLCBpc1N1YlN0YXRlbWVudCkge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2UsIHN0YXRlbWVudE9iamVjdE9iamVjdFR5cGUsIHdoaXRlbGlzdGVkUHJvcGVydGllcztcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5TVEFURU1FTlQ7XG5cbiAgd2hpdGVsaXN0ZWRQcm9wZXJ0aWVzID0geGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuU1RBVEVNRU5UO1xuXG4gIGlmICgheGFwaVZhbGlkYXRpb25VdGlscy5pc05vbk51bGxNYXBPYmplY3Qoc3RhdGVtZW50KSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5TVEFURU1FTlRfUkVGX01VU1RfTk9UX0JFX05VTExfTUFQX09CSkVDVFMsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIGlmICghaXNTdWJTdGF0ZW1lbnQpIHtcbiAgICBpZiAoc3RhdGVtZW50LmlkID09PSBudWxsIHx8IHN0YXRlbWVudC5pZCA9PT0gdW5kZWZpbmVkIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzU3RyaW5nKHN0YXRlbWVudC5pZCkpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLklEKSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuSURTX1NIT1VMRF9CRV9HRU5FUkFURURfQllfTFJTLFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuU0hPVUxEX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICgheGFwaVZhbGlkYXRpb25SZWdleC5VVUlELnRlc3Qoc3RhdGVtZW50LmlkKSkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuSUQpLFxuICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5JRF9NVVNUX0JFX1ZBTElELFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGl0ZWxpc3RlZFByb3BlcnRpZXMgPSB4YXBpV2hpdGVMaXN0UHJvcGVydGllcy5TVUJfU1RBVEVNRU5UO1xuICB9XG5cbiAgdmFsaWRhdGVBY3RvcihzdGF0ZW1lbnQuYWN0b3IsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5BQ1RPUiksIGxvY2FsRXJyb3JzKTtcbiAgdmFsaWRhdGVWZXJiKHN0YXRlbWVudC52ZXJiLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuVkVSQiksIGxvY2FsRXJyb3JzKTtcbiAgdmFsaWRhdGVPYmplY3Qoc3RhdGVtZW50Lm9iamVjdCwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLk9CSkVDVCksIGxvY2FsRXJyb3JzLCBpc1N1YlN0YXRlbWVudCk7XG4gIHZhbGlkYXRlUmVzdWx0KHN0YXRlbWVudC5yZXN1bHQsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5SRVNVTFQpLCBsb2NhbEVycm9ycyk7XG5cbiAgc3RhdGVtZW50T2JqZWN0T2JqZWN0VHlwZSA9IHN0YXRlbWVudC5vYmplY3QgJiYgc3RhdGVtZW50Lm9iamVjdC5vYmplY3RUeXBlID8gc3RhdGVtZW50Lm9iamVjdC5vYmplY3RUeXBlIDogb2JqZWN0VHlwZXMuQUNUSVZJVFk7XG5cbiAgdmFsaWRhdGVDb250ZXh0KHN0YXRlbWVudC5jb250ZXh0LCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuQ09OVEVYVCksIGxvY2FsRXJyb3JzLCBzdGF0ZW1lbnRPYmplY3RPYmplY3RUeXBlKTtcbiAgdmFsaWRhdGVQcm9wZXJ0eUlzSVNPODYwMVN0cmluZyhzdGF0ZW1lbnQsIHByb3BlcnRpZXMuVElNRVNUQU1QLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG4gIHZhbGlkYXRlUHJvcGVydHlJc0lTTzg2MDFTdHJpbmcoc3RhdGVtZW50LCBwcm9wZXJ0aWVzLlNUT1JFRCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuXG4gIHZhbGlkYXRlQXV0aG9yaXR5KHN0YXRlbWVudC5hdXRob3JpdHksIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5BVVRIT1JJVFkpLCBsb2NhbEVycm9ycyk7XG4gIHZhbGlkYXRlVmVyc2lvbihzdGF0ZW1lbnQudmVyc2lvbiwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlZFUlNJT04pLCBsb2NhbEVycm9ycyk7XG4gIHZhbGlkYXRlQXR0YWNobWVudHMoc3RhdGVtZW50LmF0dGFjaG1lbnRzLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuQVRUQUNITUVOVFMpLCBsb2NhbEVycm9ycyk7XG5cbiAgdmFsaWRhdGVBYnNlbmNlT2ZOb25XaGl0ZWxpc3RlZFByb3BlcnRpZXMoc3RhdGVtZW50LCB3aGl0ZWxpc3RlZFByb3BlcnRpZXMsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIG1ha2VTdGF0ZW1lbnRSZXBvcnQoc3RhdGVtZW50KSB7XG4gIHZhciBsb2NhbEVycm9ycztcblxuICBsb2NhbEVycm9ycyA9IFtdO1xuICB2YWxpZGF0ZShzdGF0ZW1lbnQsIHByb3BlcnRpZXMuU1RBVEVNRU5ULCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovZmFsc2UpO1xuXG4gIHJldHVybiBtYWtlVjFSZXBvcnQoc3RhdGVtZW50LCBsb2NhbEVycm9ycyk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQW1iaWd1b3VzVHlwZVN0YXRlbWVudChzdGF0ZW1lbnQpIHtcbiAgdmFyIHN0YXRlbWVudE9iamVjdDtcblxuICBpZiAoc3RhdGVtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbWFrZVYxU2luZ2xlRXJyb3JSZXBvcnQoLyppbnN0YW5jZSovbnVsbCwge1xuICAgICAgdHJhY2U6ICAgcHJvcGVydGllcy5TVEFURU1FTlQsXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5TVEFURU1FTlRfQVJHVU1FTlRfTVVTVF9CRV9QUk9WSURFRCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHN0YXRlbWVudCA9PT0gbnVsbCkge1xuICAgIHJldHVybiBtYWtlVjFTaW5nbGVFcnJvclJlcG9ydCgvKmluc3RhbmNlKi9udWxsLCB7XG4gICAgICB0cmFjZTogICBwcm9wZXJ0aWVzLlNUQVRFTUVOVCxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLlNUQVRFTUVOVF9NVVNUX05PVF9CRV9OVUxMLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cblxuICBpZiAoeGFwaVZhbGlkYXRpb25VdGlscy5pc1N0cmluZyhzdGF0ZW1lbnQpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHN0YXRlbWVudE9iamVjdCA9IEpTT04ucGFyc2Uoc3RhdGVtZW50KTtcbiAgICAgIGlmIChzdGF0ZW1lbnRPYmplY3QgPT09IG51bGwgfHwgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNPYmplY3Qoc3RhdGVtZW50T2JqZWN0KSB8fCB4YXBpVmFsaWRhdGlvblV0aWxzLmlzQXJyYXkoc3RhdGVtZW50T2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbWFrZVYxU2luZ2xlRXJyb3JSZXBvcnQoc3RhdGVtZW50T2JqZWN0LCB7XG4gICAgICAgICAgdHJhY2U6ICAgcHJvcGVydGllcy5TVEFURU1FTlQsXG4gICAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuU1RBVEVNRU5UX01VU1RfQkVfUEFSU0VEX0NPUlJFQ1RMWSxcbiAgICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG1ha2VWMVNpbmdsZUVycm9yUmVwb3J0KHN0YXRlbWVudE9iamVjdCwge1xuICAgICAgICB0cmFjZTogICBwcm9wZXJ0aWVzLlNUQVRFTUVOVCxcbiAgICAgICAgbWVzc2FnZTogYCR7eGFwaVZhbGlkYXRpb25FcnJvcnMuSU5WQUxJRF9KU09OfTogJHtlLm1lc3NhZ2V9YCxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFrZVN0YXRlbWVudFJlcG9ydChzdGF0ZW1lbnRPYmplY3QpO1xuICB9XG5cbiAgaWYgKHhhcGlWYWxpZGF0aW9uVXRpbHMuaXNPYmplY3Qoc3RhdGVtZW50KSAmJiAheGFwaVZhbGlkYXRpb25VdGlscy5pc0FycmF5KHN0YXRlbWVudCkpIHtcbiAgICByZXR1cm4gbWFrZVN0YXRlbWVudFJlcG9ydChzdGF0ZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIG1ha2VWMVNpbmdsZUVycm9yUmVwb3J0KC8qaW5zdGFuY2UqL251bGwsIHtcbiAgICB0cmFjZTogICBwcm9wZXJ0aWVzLlNUQVRFTUVOVCxcbiAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5TVEFURU1FTlRfQVJHVU1FTlRfSVNfTk9UX1ZBTElELFxuICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICB9KTtcbn1cblxuZnVuY3Rpb24gZGF0ZUluY2x1ZGVzWm9uZUluZm9ybWF0aW9uKG1hdGNoZWQpIHtcbiAgcmV0dXJuIG1hdGNoZWRbZGF0ZUZvcm1hdFJlZ2V4UG9zaXRpb25zLlpPTkVdIHx8XG4gICAgICAgICAgKG1hdGNoZWRbZGF0ZUZvcm1hdFJlZ2V4UG9zaXRpb25zLlJFTEFUSVZFX1RJTUVdICYmIG1hdGNoZWRbZGF0ZUZvcm1hdFJlZ2V4UG9zaXRpb25zLlRJTUVfWk9ORV9IT1VSXSk7XG59XG5cbmV4cG9ydCB2YXIgdmFsaWRhdGVTdGF0ZW1lbnQgPSB2YWxpZGF0ZUFtYmlndW91c1R5cGVTdGF0ZW1lbnQ7XG4iXX0=
