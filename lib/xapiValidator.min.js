!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,i.beepBoop=e()}}(function(){return function e(i,r,a){function t(s,T){if(!r[s]){if(!i[s]){var p="function"==typeof require&&require;if(!T&&p)return p(s,!0);if(o)return o(s,!0);var n=new Error("Cannot find module '"+s+"'");throw n.code="MODULE_NOT_FOUND",n}var l=r[s]={exports:{}};i[s][0].call(l.exports,function(e){var r=i[s][1][e];return t(r?r:e)},l,l.exports,e,i,r,a)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<a.length;s++)t(a[s]);return t}({1:[function(e,i,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=Object.freeze({MAY_VIOLATION:"MAY_VIOLATION",MUST_VIOLATION:"MUST_VIOLATION",SHOULD_VIOLATION:"SHOULD_VIOLATION"}),t=Object.freeze({UNEXPECTED:"Unexpected property not permitted",MUST_BE_STRING:"property, if present, must be a string.",MUST_BE_PRESENT:"property was required to be a string but was absent.",MUST_BE_URI_STRING:"property, if present, must be a URI string.",MUST_BE_URI_PRESENT:"property was required to be a URI string but was absent.",MUST_BE_IRI_STRING:"property, if present, should be a IRI-like absolute URI per RFC 3987.",MUST_BE_BOOLEAN:"property, if present, must be a Boolean.",MUST_BE_BOOLEAN_PRESENT:"property was required to be a Boolean but was absent.",MUST_BE_NUMBER:"property, if present, must be a Number.",MUST_BE_NUMBER_PRESENT:"property was required to be a Number but was absent.",MUST_BE_MBOX_URI:"mbox property was required to be a mailto URI string but was not a string at all.",MUST_BE_VALID_MBOX_FORMAT:"mbox property was required to be a mailto URI string but did not match the mailto format.",EXTENSIONS_MUST_NOT_BE_NULL:"If present, the extensions property must be a non-null map object.",LANGUAGE_MAPS_MUST_NOT_BE_NULL:"Language Maps, when present, must be non-null map objects",LANGUAGE_MAP_KEY_INVALID:"key, Language does not conform to RFC 5646",LANGUAGE_MAP_KEY_MUST_BE_STRING:"key: Language Map value should be a String, but was not",VERB_MUST_BE_PROVIDED:"Verb must be provided",VERB_MUST_NOT_BE_NULL:"Verb property value must a non-null map object.",DISPLAY_SHOULD_BE_PROVIDED:'"display" property should be provided.',INTERACTION_ACTIVITY_SHOULD_HAVE:"Interaction Activity Definitions should have a type property of",INTERACTION_COMPONENT_SHOULD_BE_ARRAY:"This interaction component collection property should be an array.",INTERACTION_COMPONENT_MUST_NOT_BE_NULL:"This interaction component collection member must be a non-null map object",INTERACTION_TYPE_MUST_BE_CMI:'If present, the "interactionType" value must be a CMI interaction type option.',ID_MUST_BE_UNIQUE:'"id" properties must be unique within each interaction component array',ID_SHOULD_NOT_CONTAIN_WHITESPACES:'"id" properties on interaction components should not contain whitespace',INTERACTION_TYPE_MUST_BE_VALID:"This interaction component collection property is not associated with the present interactionType of: ",DEFINITIONS_MUST_BE_OBJECTS:'"definitions", when present, must be map objects',CORRECT_RESPONSES_PATTERN_MUST_BE_ARRAY:'If present, the "correctResponsesPattern" value must be an Array of strings.',CORRECT_RESPONSES_PATTERN_MUST_BE_STRINGS:'"correctResponsesPattern" items must be strings.',ACTIVITIES_MUST_NOT_BE_NULL_MAP_OBJECTS:"Activities must be non-null map objects",STATEMENT_REF_MUST_NOT_BE_NULL_MAP_OBJECTS:"StatementRef instances must be non-null map objects",OBJECT_TYPE_MUST_BE_STATEMENT_REF:'"objectType" property value must be "StatementRef" for statement reference objects.',ID_MUST_BE_VALID_UUID_REF:'"id" property value must be a valid UUID string for statement reference objects.',SCALED_MUST_BE_BETWEEN_0_1:"If present, the scaled property value must be between 0 and 1",RAW_MUST_BE_GREATER_THAN_MIN:'If both "raw" and "min" are present, the raw property value should be greater than min',MAX_MUST_BE_GREATER_THAN_MIN:'If both "max" and "min" are present, the max property value should be greater than min',RAW_MUST_BE_LESS_THAN_MAX:'If both "raw" and "max" are present, the raw property value should be less than max',RESULT_MUST_BE_MAP_OBJECT:"If present, the result must be a map object",DURATION_MUST_BE_VALID:'If present, the "duration" property value must be an ISO 8601 duration',DATE_SHOULD_INCLUDE_ZONE_INFORMATION:"ISO 8601 date time strings used in the xAPI should include time zone information.",DATE_MUST_BE_VALID:"This propertys string value must be conformant to ISO 8601 for Date Times.",VERSION_MUST_COMPLY_SEMANTIC_VERSIONING:'"version" must be a non-null string that complies with Semantic Versioning 1.0.0',ATTACHMENTS_MUST_NOT_BE_NULL_MAP_OBJECTS:'"attachment" instances must be non-null map objects.',LENGTH_MUST_BE_INTEGER:'"length" property must be provided with an integer value',SHA2_MUST_BE_PROVIDED_ON_ATTACHMENT_OBJECTS:'"sha2" property must be provided on attachment objects',SHA2_MUST_CONTAIN_BASE_64_STRING:'"sha2" property must contain a string with base64 contents',ATTACHMENTS_MUST_BE_NOT_NULL_ARRAY:'"attachments" must be a non-null Array.',AGENT_MUST_BE_NON_NULL_MAP_OBJECT:'"agent" must be a non-null map object',AGENT_IFI_PROPERTIES_MUST_BE_SPECIFIED:'Exactly one Inverse Functional Identifier property must be specified for an "agent".',AGENT_MUST_NOT_HAVE_GROUP_CHARACTERISTICS:"Invalid object with characteristics of a Group when an Agent was expected.",GROUP_MUST_BE_NON_NULL_MAP_OBJECT:'"group" must be a non-null map object',MEMBER_MUST_BE_PROVIDED_FOR_ANONYMOUS_GROUPS:'"member" property must be provided for Anonymous Groups.',GROUP_IFI_PROPERTIES_MUST_BE_SPECIFIED:'Exactly one Inverse Functional Identifier property must be specified for a "group".',GROUP_MEMBER_MUST_BE_ARRAY:"If present, the member property of a Group must be an Array",ACTOR_MUST_BE_PROVIDED:"Actor must be provided.",AUTHORITY_MUST_BE_NON_NULL_MAP_OBJECT:'If present, the "authority" property must be a non-null map object.',GROUP_AUTHORITY_AGENT_MEMBERS_MUST_BE_TWO:'If used as a Group, the "authority" property must contain a "member" property that is an array containing exactly two Agent objects.',CONTEXT_ACTIVITIES_MUST_NOT_BE_NULL:'"Context Activities" property values must not be null.',CONTEXT_ACTIVITIES_SHOULD_BE_AN_ARRAY:"Context Activities property values should prefer to be an array of Activities rather than a single Activity object.",CONTEXT_ACTIVITIES_MUST_BE_ARRAY_OR_ACTIVITY_OBJ:"Context Activities property values must be an array of Activity Objects or a single Activity Object.",CONTEXT_ACTIVITIES_MUST_BE_NON_NULL_MAP_OBJECT:"The Context Activities instances must be a non-null map object.",CONTEXT_MUST_BE_NON_NUL_MAP_OBJECT:'If present, the "context" property must be a non-null map object.',REGISTRATION_MUST_BE_UUID_STRING:"If present, the registration property must be a UUID string.",REVISION_MUST_BE_AGENT_OR_GROUP:"The revision property must not be used if the Statement's Object is an Agent or Group.",LANGUAGE_MUST_BE_STRING:"The language property must be encoded as an RFC 5646 compliant string, but was not.",OBJECT_MUST_BE_DEFINED:'"object" property must be provided.',OBJECT_MUST_BE_NON_NULL_MAP_OBJECT:'"object" property must be a non-null map object.',SUB_STATEMENT_MUST_NOT_CONTAIN_SUB_STATEMENT:"A SubStatement must not contain a SubStatement",OBJECT_TYPE_MUST_BE_VALID_OPTION:'object\'s "objectType" did not match a valid option',IDS_SHOULD_BE_GENERATED_BY_LRS:"Ids should be generated by the Activity Provider, and must be generated by the LRS",ID_MUST_BE_VALID:"Id was not a valid UUID",STATEMENT_ARGUMENT_MUST_BE_PROVIDED:"No statement argument provided.",STATEMENT_MUST_NOT_BE_NULL:"Null statement argument provided.",STATEMENT_MUST_BE_PARSED_CORRECTLY:"Null or non-object statement value parsed from provided statment JSON.",INVALID_JSON:"Invalid JSON. The statement could not be parsed.",STATEMENT_ARGUMENT_IS_NOT_VALID:"Statement argument provided was not a valid object or a valid JSON string."});r.xapiErrorLevels=a,r.xapiValidationErrors=t},{}],2:[function(e,i,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=Object.freeze({FIRST_REPORT_VERSTION:"1.0.0",GROUP_AUTHORITY_AGENT_MEMBERS:2,INTERACTION_DEFINITION_TYPE:"http://adlnet.gov/expapi/activities/cmi.interaction",MAX_SCALED_VALUE:1,MIN_SCALED_VALUE:0,NO_INDEX_FOUND:-1,NUMER_OF_SPECIFIED_IFI_PROPERTIES:1});r.xapiGeneral=a},{}],3:[function(e,i,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=r.interactionTypes=Object.freeze({CHOICE:"choice",FILL_IN:"fill-in",LIKERT:"likert",LONG_FILL_IN:"long-fill-in",MATCHING:"matching",NUMERIC:"numeric",OTHER:"other",PERFORMANCE:"performance",SEQUENCING:"sequencing",TRUE_FALSE:"true-false"});r.xapiValidationInteractionTypes=Object.freeze([a.CHOICE,a.FILL_IN,a.LIKERT,a.LONG_FILL_IN,a.MATCHING,a.NUMERIC,a.OTHER,a.PERFORMANCE,a.SEQUENCING,a.TRUE_FALSE])},{}],4:[function(e,i,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=Object.freeze({ACCOUNT:"account",ACTIVITY:"activity",ACTOR:"actor",AGENT:"agent",ATTACHMENT:"attachment",ATTACHMENTS:"attachments",AUTHORITY:"authority",CATEGORY:"category",CHOICE:"choice",CHOICES:"choices",COMPLETION:"completion",CONTENT_TYPE:"contentType",CONTEXT_ACTIVITIES:"contextActivities",CONTEXT:"context",CORRECT_RESPONSES_PATTERN:"correctResponsesPattern",DATE_TIME:"dateTime",DEFINITION:"definition",DESCRIPTION:"description",DISPLAY:"display",DURATION:"duration",EXTENSIONS:"extensions",FILE_URL:"fileUrl",GROUP:"group",GROUPING:"grouping",HOME_PAGE:"homePage",ID:"id",INSTRUCTOR:"instructor",INTERACTION_COMPONENTS:"interactionComponents",INTERACTION_TYPE:"interactionType",LANGUAGE_MAP:"languageMap",LANGUAGE:"language",LENGTH:"length",LIKERT:"likert",MATCHING:"matching",MAX:"max",MBOX_SHA_1_SUM:"mbox_sha1sum",MBOX:"mbox",MEMBER:"member",MIN:"min",MORE_INFO:"moreInfo",NAME:"name",OBJECT_TYPE:"objectType",OBJECT:"object",OPEN_ID:"openID",OTHER:"other",PARENT:"parent",PERFORMANCE:"performance",PLATFORM:"platform",RAW:"raw",REGISTRATION:"registration",RESPONSE:"response",RESULT:"result",REVISION:"revision",SCALE:"scale",SCALED:"scaled",SCORE:"score",SEQUENCING:"sequencing",SHA2:"sha2",SOURCE:"source",STATEMENT_REF:"statementRef",STATEMENT:"statement",STEPS:"steps",STORED:"stored",SUB_CONTEXT:"subContext",SUCCESS:"success",TARGET:"target",TEAM:"team",TIMESTAMP:"timestamp",TYPE:"type",USAGE_TYPE:"usageType",VERB:"verb",VERSION:"version"}),t=Object.freeze({GROUP:"Group",AGENT:"Agent",ACTIVITY:"Activity",STATEMENT_REF:"StatementRef",SUB_STATEMENT:"SubStatement"}),o=Object.freeze([a.ACCOUNT,a.MBOX_SHA_1_SUM,a.MBOX,a.OPEN_ID]),s=Object.freeze([t.GROUP,t.AGENT,t.ACTIVITY,t.STATEMENT_REF,t.SUB_STATEMENT]);r.properties=a,r.objectTypes=t,r.xapiValidationIfiPropertyNames=o,r.xApiValidObjectTypes=s},{}],5:[function(e,i,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=Object.freeze({UUID:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,ISO_8601_DURATION:/^P((\d+([\.,]\d+)?Y)?(\d+([\.,]\d+)?M)?(\d+([\.,]\d+)?W)?(\d+([\.,]\d+)?D)?)?(T(\d+([\.,]\d+)?H)?(\d+([\.,]\d+)?M)?(\d+([\.,]\d+)?S)?)?$/,ISO_8601_DATE_TIME:/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,MAILTO_URI:/^mailto:/,CONTAINS_WHITESPACE:/\s/g,SEMVER_1_P_0_P_0:/^((\d+)\.(\d+)\.(\d+))(?:-([\dA-Za-z\-]+))?$/,BASE_64:/^(?:[A-Za-z0-9\+\/]{4})*(?:[A-Za-z0-9\+\/]{2}==|[A-Za-z0-9\+\/]{3}=|[A-Za-z0-9\+\/]{4})$/,IRI:/^[a-z](?:[\-a-z0-9\+\.])*:(?:\/\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:])*@)?(?:\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4}:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+[\-a-z0-9\._~!\$&'\(\)\*\+,;=:]+)\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}|(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=@])*)(?::[0-9]*)?(?:\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))*)*|\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))*)*)?|(?:(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@])))(?:\?(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@])|[\uE000-\uF8FF\uF0000-\uFFFFD|\u100000-\u10FFFD\/\?])*)?(?:\#(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@])|[\/\?])*)?$/i,BCP_47:/^(?:(en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))|(art-lojban|cel-gaulish|no-(?:bok|nyn)|zh-(?:guoyu|hakka|min|min-nan|xiang)))$|^(x(?:-[0-9a-z]{1,8})+)$|^(?:((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|[0-9]{3}))?((?:-(?:[a-z0-9]{5,8}|[0-9][a-z0-9]{3}))*)?((?:-[0-9a-wy-z](?:-[a-z0-9]{2,8}){1,})*)?(-x(?:-[0-9a-z]{1,8})+)?)$/i}),t=Object.freeze({YEAR:1,MONTH:2,DAY:3,HOUR:4,MINUTE:5,SECOND:6,MSECOND:7,ZONE:8,RELATIVE_TIME:9,TIME_ZONE_HOUR:10,TIME_ZONE_MINUTE:11});r.xapiValidationRegex=a,r.dateFormatRegexPositions=t},{}],6:[function(e,i,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.xapiWhiteListProperties=void 0;var a=e("../constants/properties"),t=Object.freeze({IFI:[a.properties.HOME_PAGE,a.properties.NAME],URI:[a.properties.ID,a.properties.DISPLAY],COMPONENT_ARRAY:[a.properties.ID,a.properties.DESCRIPTION],ACTIVITY_DEFINITION:[a.properties.NAME,a.properties.DESCRIPTION,a.properties.TYPE,a.properties.MORE_INFO,a.properties.EXTENSIONS,a.properties.INTERACTION_TYPE,a.properties.CORRECT_RESPONSES_PATTERN,a.properties.CHOICES,a.properties.SCALE,a.properties.SOURCE,a.properties.TARGET,a.properties.STEPS],ACTIVITY:[a.properties.OBJECT_TYPE,a.properties.ID,a.properties.DEFINITION],STATEMENT_REF:[a.properties.ID,a.properties.OBJECT_TYPE],SCORE:[a.properties.SCALED,a.properties.RAW,a.properties.MIN,a.properties.MAX],RESULT:[a.properties.SCORE,a.properties.SUCCESS,a.properties.COMPLETION,a.properties.RESPONSE,a.properties.DURATION,a.properties.EXTENSIONS],ATTACHMENT:[a.properties.USAGE_TYPE,a.properties.DISPLAY,a.properties.DESCRIPTION,a.properties.CONTENT_TYPE,a.properties.LENGTH,a.properties.SHA2,a.properties.FILE_URL],AGENT:[a.properties.OBJECT_TYPE,a.properties.NAME,a.properties.ACCOUNT,a.properties.MBOX_SHA_1_SUM,a.properties.MBOX,a.properties.OPEN_ID],GROUP:[a.properties.OBJECT_TYPE,a.properties.NAME,a.properties.MEMBER,a.properties.ACCOUNT,a.properties.MBOX_SHA_1_SUM,a.properties.MBOX,a.properties.OPEN_ID],CONTEXT_ACTIVITIES:[a.properties.PARENT,a.properties.GROUPING,a.properties.CATEGORY,a.properties.OTHER],STATEMENT:[a.properties.ID,a.properties.ACTOR,a.properties.VERB,a.properties.OBJECT,a.properties.RESULT,a.properties.CONTEXT,a.properties.TIMESTAMP,a.properties.STORED,a.properties.AUTHORITY,a.properties.VERSION,a.properties.ATTACHMENTS],SUB_STATEMENT:[a.properties.ACTOR,a.properties.VERB,a.properties.OBJECT,a.properties.RESULT,a.properties.CONTEXT,a.properties.TIMESTAMP,a.properties.ATTACHMENTS,a.properties.OBJECT_TYPE]});r.xapiWhiteListProperties=t},{"../constants/properties":4}],7:[function(e,i,r){"use strict";function a(e,i){var r;return e=e||null,i=i||null,r=w.xapiGeneral.FIRST_REPORT_VERSTION,{instance:e,errors:i,version:r}}function t(e,i){return a(e,null===i||void 0===i?[]:[i])}function o(e,i,r,a){var t,o,s;t=a||[],o=r||"";for(s in e)e.hasOwnProperty(s)&&i.indexOf(s)===w.xapiGeneral.NO_INDEX_FOUND&&t.push({trace:z.xapiValidationUtils.addPropToTrace(o,s),message:Y.xapiValidationErrors.UNEXPECTED,level:Y.xapiErrorLevels.MUST_VIOLATION});return t}function s(e,i,r,a,t,o){var s,T,p,n;return s=a||[],T=r||"",p=e[i],n=o||Y.xapiErrorLevels.MUST_VIOLATION,void 0!==p?null!==p&&z.xapiValidationUtils.isString(p)||s.push({trace:z.xapiValidationUtils.localTraceToString(T,i),message:i+" "+Y.xapiValidationErrors.MUST_BE_STRING,level:n}):t&&s.push({trace:z.xapiValidationUtils.localTraceToString(T,i),message:i+" "+Y.xapiValidationErrors.MUST_BE_PRESENT,level:n}),s}function T(e,i,r,a,t){var o,s,T;return o=a||[],s=r||"",T=e[i],void 0!==T?null!==T&&z.xapiValidationUtils.isString(T)?X.xapiValidationRegex.IRI.test(T)||o.push({trace:z.xapiValidationUtils.localTraceToString(s,i),message:i+" "+Y.xapiValidationErrors.MUST_BE_IRI_STRING,level:Y.xapiErrorLevels.SHOULD_VIOLATION}):o.push({trace:z.xapiValidationUtils.localTraceToString(s,i),message:i+" "+Y.xapiValidationErrors.MUST_BE_URI_STRING,level:Y.xapiErrorLevels.MUST_VIOLATION}):t&&o.push({trace:z.xapiValidationUtils.localTraceToString(s,i),message:i+" "+Y.xapiValidationErrors.MUST_BE_URI_PRESENT,level:Y.xapiErrorLevels.MUST_VIOLATION}),o}function p(e,i,r,a,t){return s(e,i,r,a,t)}function n(e,i,r,a,t){var o,s,T;return o=a||[],s=r||"",T=e[i],void 0!==T?null!==T&&z.xapiValidationUtils.isBoolean(T)||o.push({trace:z.xapiValidationUtils.localTraceToString(s,i),message:i+" "+Y.xapiValidationErrors.MUST_BE_BOOLEAN,level:Y.xapiErrorLevels.MUST_VIOLATION}):t&&o.push({trace:z.xapiValidationUtils.localTraceToString(s,i),message:i+" "+Y.xapiValidationErrors.MUST_BE_BOOLEAN_PRESENT,level:Y.xapiErrorLevels.MUST_VIOLATION}),o}function l(e,i,r,a,t){var o,s,T;return o=a||[],s=r||"",T=e[i],void 0!==T?null!==T&&z.xapiValidationUtils.isNumber(T)||o.push({trace:z.xapiValidationUtils.localTraceToString(s,i),message:i+" "+Y.xapiValidationErrors.MUST_BE_NUMBER,level:Y.xapiErrorLevels.MUST_VIOLATION}):t&&o.push({trace:z.xapiValidationUtils.localTraceToString(s,i),message:i+" "+Y.xapiValidationErrors.MUST_BE_NUMBER_PRESENT,level:Y.xapiErrorLevels.MUST_VIOLATION}),o}function E(e,i,r){var a,t,p;return a=r||[],t=i||"",void 0!==e.mbox&&null!==e.mbox&&(z.xapiValidationUtils.isString(e.mbox)?X.xapiValidationRegex.MAILTO_URI.test(e.mbox)||a.push({trace:z.xapiValidationUtils.localTraceToString(t,H.properties.MBOX),message:Y.xapiValidationErrors.MUST_BE_VALID_MBOX_FORMAT,level:Y.xapiErrorLevels.MUST_VIOLATION}):a.push({trace:z.xapiValidationUtils.localTraceToString(t,H.properties.MBOX),message:Y.xapiValidationErrors.MUST_BE_MBOX_URI,level:Y.xapiErrorLevels.MUST_VIOLATION})),s(e,H.properties.MBOX_SHA_1_SUM,t,a,!1),T(e,H.properties.OPEN_ID,t,a,!1),void 0!==e.account&&null!==e.account&&(p=z.xapiValidationUtils.addPropToTrace(t,H.properties.ACCOUNT),T(e.account,H.properties.HOME_PAGE,p,a,!0),s(e.account,H.properties.NAME,p,a,!0),o(e.account,j.xapiWhiteListProperties.IFI,p,a)),a}function _(e){var i,r,a,t,o;if(i=[],r=H.xapiValidationIfiPropertyNames.length,null===e||void 0===e)return i;for(a=0;a<r;a+=1)t=H.xapiValidationIfiPropertyNames[a],o=e[t],void 0!==o&&null!==o&&i.push({key:t,value:o});return i}function u(e){return _(e).length}function I(e,i,r){var a,t;return a=r||[],t=i||H.properties.EXTENSIONS,void 0===e?a:(z.xapiValidationUtils.isNonNullMapObject(e)||a.push({trace:t,message:Y.xapiValidationErrors.EXTENSIONS_MUST_NOT_BE_NULL,level:Y.xapiErrorLevels.MUST_VIOLATION}),a)}function O(e,i,r){var a,t,o,s;if(a=r||[],t=i||H.properties.LANGUAGE_MAP,void 0===e)return a;if(!z.xapiValidationUtils.isNonNullMapObject(e))return a.push({trace:z.xapiValidationUtils.addPropToTrace(t),message:Y.xapiValidationErrors.LANGUAGE_MAPS_MUST_NOT_BE_NULL,level:Y.xapiErrorLevels.MUST_VIOLATION}),a;for(o in e)e.hasOwnProperty(o)&&(z.xapiValidationUtils.isValidLanguageTag(o)||a.push({trace:z.xapiValidationUtils.addPropToTrace(t,o),message:o+" "+Y.xapiValidationErrors.LANGUAGE_MAP_KEY_INVALID,level:Y.xapiErrorLevels.MUST_VIOLATION}),s=e[o],null!==s&&void 0!==s&&z.xapiValidationUtils.isString(s)||a.push({trace:z.xapiValidationUtils.addLookupToTrace(t,o),message:o+" "+Y.xapiValidationErrors.LANGUAGE_MAP_KEY_MUST_BE_STRING,level:Y.xapiErrorLevels.MUST_VIOLATION}));return a}function N(e,i,r){var a,t;return a=r||[],t=i||H.properties.VERB,void 0===e?(a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.VERB_MUST_BE_PROVIDED,level:Y.xapiErrorLevels.MUST_VIOLATION}),a):z.xapiValidationUtils.isNonNullMapObject(e)?(T(e,H.properties.ID,t,a,!0),void 0===e.display?a.push({trace:z.xapiValidationUtils.addPropToTrace(t,H.properties.DISPLAY),message:Y.xapiValidationErrors.DISPLAY_SHOULD_BE_PROVIDED,level:Y.xapiErrorLevels.SHOULD_VIOLATION}):O(e.display,z.xapiValidationUtils.addPropToTrace(t,H.properties.DISPLAY),a),o(e,j.xapiWhiteListProperties.URI,t,a),a):(a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.VERB_MUST_NOT_BE_NULL,level:Y.xapiErrorLevels.MUST_VIOLATION}),a)}function S(e,i,r,a,t){var T,p,n,l,E,_,u,I;if(T=t||[],p=a||H.properties.INTERACTION_COMPONENTS,n=r.indexOf(i)!==w.xapiGeneral.NO_INDEX_FOUND,l=[],n&&void 0!==e)if(null!==e&&z.xapiValidationUtils.isArray(e))for(_=e.length,I=0;I<_;I+=1)E=e[I],u=z.xapiValidationUtils.addLookupToTrace(p,I),z.xapiValidationUtils.isNonNullMapObject(E)?(s(E,H.properties.ID,u,T,!0,Y.xapiErrorLevels.MUST_VIOLATION),l.indexOf(E.id)!==w.xapiGeneral.NO_INDEX_FOUND?T.push({trace:z.xapiValidationUtils.addPropToTrace(u,H.properties.ID),message:Y.xapiValidationErrors.ID_MUST_BE_UNIQUE,level:Y.xapiErrorLevels.MUST_VIOLATION}):l.push(E.id),E.id&&X.xapiValidationRegex.CONTAINS_WHITESPACE.test(E.id)&&T.push({trace:z.xapiValidationUtils.addPropToTrace(u,H.properties.ID),message:Y.xapiValidationErrors.ID_SHOULD_NOT_CONTAIN_WHITESPACES,level:Y.xapiErrorLevels.SHOULD_VIOLATION}),O(E.description,z.xapiValidationUtils.addPropToTrace(u,H.properties.DESCRIPTION),T),o(E,j.xapiWhiteListProperties.COMPONENT_ARRAY,u,T)):T.push({trace:u,message:Y.xapiValidationErrors.INTERACTION_COMPONENT_MUST_NOT_BE_NULL,level:Y.xapiErrorLevels.MUST_VIOLATION});else T.push({trace:p,message:Y.xapiValidationErrors.INTERACTION_COMPONENT_SHOULD_BE_ARRAY,level:Y.xapiErrorLevels.SHOULD_VIOLATION});else i&&e&&T.push({trace:p,message:Y.xapiValidationErrors.INTERACTION_TYPE_MUST_BE_VALID+" "+i,level:Y.xapiErrorLevels.SHOULD_VIOLATION});return T}function d(e,i,r){var a,t,s,n,l,E;if(a=r||[],t=i||H.properties.DEFINITION,s=z.xapiValidationUtils.addPropToTrace(t,H.properties.CORRECT_RESPONSES_PATTERN),!z.xapiValidationUtils.isNonNullMapObject(e))return a.push({trace:z.xapiValidationUtils.addPropToTrace(t),message:Y.xapiValidationErrors.DEFINITIONS_MUST_BE_OBJECTS,level:Y.xapiErrorLevels.MUST_VIOLATION}),a;if(O(e.name,z.xapiValidationUtils.addPropToTrace(t,H.properties.NAME),a),O(e.description,z.xapiValidationUtils.addPropToTrace(t,H.properties.DESCRIPTION),a),T(e,H.properties.TYPE,t,a,!1),p(e,H.properties.MORE_INFO,t,a,!1),I(e.extensions,z.xapiValidationUtils.addPropToTrace(t,H.properties.EXTENSIONS),a),void 0!==e.interactionType&&(e.type!==w.xapiGeneral.INTERACTION_DEFINITION_TYPE&&a.push({trace:z.xapiValidationUtils.localTraceToString(t,H.properties.TYPE),message:Y.xapiValidationErrors.INTERACTION_ACTIVITY_SHOULD_HAVE+' "'+w.xapiGeneral.INTERACTION_DEFINITION_TYPE+'"',level:Y.xapiErrorLevels.SHOULD_VIOLATION}),J.xapiValidationInteractionTypes.indexOf(e.interactionType)===w.xapiGeneral.NO_INDEX_FOUND&&a.push({trace:z.xapiValidationUtils.localTraceToString(t,H.properties.INTERACTION_TYPE),message:Y.xapiValidationErrors.INTERACTION_TYPE_MUST_BE_CMI,level:Y.xapiErrorLevels.MUST_VIOLATION})),void 0!==e.correctResponsesPattern)if(z.xapiValidationUtils.isArray(e.correctResponsesPattern))for(n=e.correctResponsesPattern.length,E=0;E<n;E+=1)l=e.correctResponsesPattern[E],null!==l&&void 0!==l&&z.xapiValidationUtils.isString(l)||a.push({trace:z.xapiValidationUtils.addLookupToTrace(s,E),message:Y.xapiValidationErrors.CORRECT_RESPONSES_PATTERN_MUST_BE_STRINGS,level:Y.xapiErrorLevels.MUST_VIOLATION});else a.push({trace:s,message:Y.xapiValidationErrors.CORRECT_RESPONSES_PATTERN_MUST_BE_ARRAY,level:Y.xapiErrorLevels.MUST_VIOLATION});return S(e.choices,e.interactionType,[H.properties.CHOICE,H.properties.SEQUENCING],z.xapiValidationUtils.addPropToTrace(t,H.properties.CHOICES),a),S(e.scale,e.interactionType,[H.properties.LIKERT],z.xapiValidationUtils.addPropToTrace(t,H.properties.SCALE),a),S(e.source,e.interactionType,[H.properties.MATCHING],z.xapiValidationUtils.addPropToTrace(t,H.properties.SOURCE),a),S(e.target,e.interactionType,[H.properties.MATCHING],z.xapiValidationUtils.addPropToTrace(t,H.properties.TARGET),a),S(e.steps,e.interactionType,[H.properties.PERFORMANCE],z.xapiValidationUtils.addPropToTrace(t,H.properties.STEPS),a),o(e,j.xapiWhiteListProperties.ACTIVITY_DEFINITION,t,a),a}function A(e,i,r){var a,t;return a=r||[],t=i||H.properties.ACTIVITY,z.xapiValidationUtils.isNonNullMapObject(e)?(T(e,H.properties.ID,t,a,!0),void 0!==e.definition&&d(e.definition,z.xapiValidationUtils.addPropToTrace(t,H.properties.DEFINITION),a),o(e,j.xapiWhiteListProperties.ACTIVITY,t,a),a):(a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.ACTIVITIES_MUST_NOT_BE_NULL,level:Y.xapiErrorLevels.MUST_VIOLATION}),a)}function c(e,i,r){var a,t;return a=r||[],t=i||H.properties.STATEMENT_REF,z.xapiValidationUtils.isNonNullMapObject(e)?(e.objectType!==H.objectTypes.STATEMENT_REF&&a.push({trace:z.xapiValidationUtils.addPropToTrace(t,H.properties.OBJECT_TYPE),message:Y.xapiValidationErrors.OBJECT_TYPE_MUST_BE_STATEMENT_REF,level:Y.xapiErrorLevels.MUST_VIOLATION}),e.id&&X.xapiValidationRegex.UUID.test(e.id)||a.push({trace:z.xapiValidationUtils.addPropToTrace(t,H.properties.ID),message:Y.xapiValidationErrors.ID_MUST_BE_VALID_UUID_REF,level:Y.xapiErrorLevels.MUST_VIOLATION}),o(e,j.xapiWhiteListProperties.STATEMENT_REF,t,a),a):(a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.STATEMENT_REF_MUST_NOT_BE_NULL_MAP_OBJECTS,level:Y.xapiErrorLevels.MUST_VIOLATION}),a)}function F(e,i,r){var a,t;return a=r||[],t=i||H.properties.SCORE,void 0===e?a:(l(e,H.properties.SCALED,t,a,!1),void 0!==e.scaled&&(e.scaled<w.xapiGeneral.MIN_SCALED_VALUE||e.scaled>w.xapiGeneral.MAX_SCALED_VALUE)&&a.push({trace:z.xapiValidationUtils.addPropToTrace(t,H.properties.SCALED),message:Y.xapiValidationErrors.SCALED_MUST_BE_BETWEEN_0_1,level:Y.xapiErrorLevels.MUST_VIOLATION}),void 0!==e.min&&(l(e,H.properties.MIN,t,a,!1),void 0!==e.raw&&e.raw<e.min&&a.push({trace:z.xapiValidationUtils.addPropToTrace(t,H.properties.RAW),message:Y.xapiValidationErrors.RAW_MUST_BE_GREATER_THAN_MIN,level:Y.xapiErrorLevels.MUST_VIOLATION}),void 0!==e.max&&e.max<e.min&&a.push({trace:z.xapiValidationUtils.addPropToTrace(t,H.properties.MAX),message:Y.xapiValidationErrors.MAX_MUST_BE_GREATER_THAN_MIN,level:Y.xapiErrorLevels.MUST_VIOLATION})),void 0!==e.max&&(l(e,H.properties.MAX,t,a,!1),void 0!==e.raw&&e.raw>e.max&&a.push({trace:z.xapiValidationUtils.addPropToTrace(t,H.properties.RAW),message:Y.xapiValidationErrors.RAW_MUST_BE_LESS_THAN_MAX,level:Y.xapiErrorLevels.MUST_VIOLATION})),l(e,H.properties.RAW,t,a,!1),o(e,j.xapiWhiteListProperties.SCORE,t,a),a)}function U(e,i,r){var a,t;return a=r||[],t=i||H.properties.RESULT,void 0===e?a:z.xapiValidationUtils.isNonNullMapObject(e)?(F(e.score,z.xapiValidationUtils.addPropToTrace(t,H.properties.SCORE),a),n(e,H.properties.SUCCESS,t,a,!1),n(e,H.properties.COMPLETION,t,a,!1),s(e,H.properties.RESPONSE,t,a,!1),I(e.extensions,z.xapiValidationUtils.addPropToTrace(t,H.properties.EXTENSIONS),a),void 0===e.duration||null!==e.duration&&z.xapiValidationUtils.isString(e.duration)&&X.xapiValidationRegex.ISO_8601_DURATION.test(e.duration)||a.push({trace:z.xapiValidationUtils.addPropToTrace(t,H.properties.DURATION),message:Y.xapiValidationErrors.DURATION_MUST_BE_VALID,level:Y.xapiErrorLevels.MUST_VIOLATION}),o(e,j.xapiWhiteListProperties.RESULT,t,a),a):(a.push({trace:z.xapiValidationUtils.addPropToTrace(t),message:Y.xapiValidationErrors.RESULT_MUST_BE_MAP_OBJECT,level:Y.xapiErrorLevels.MUST_VIOLATION}),a)}function M(e,i,r,a){var t,o,s,T;return t=a||[],o=r||H.properties.DATE_TIME,T=e[i],void 0===T?t:null!==T&&z.xapiValidationUtils.isString(T)?(s=X.xapiValidationRegex.ISO_8601_DATE_TIME.exec(T),s?G(s)||t.push({trace:z.xapiValidationUtils.localTraceToString(o,i),message:Y.xapiValidationErrors.DATE_SHOULD_INCLUDE_ZONE_INFORMATION,level:Y.xapiErrorLevels.SHOULD_VIOLATION
}):t.push({trace:z.xapiValidationUtils.localTraceToString(o,i),message:Y.xapiValidationErrors.DATE_MUST_BE_VALID,level:Y.xapiErrorLevels.MUST_VIOLATION}),t):(t.push({trace:z.xapiValidationUtils.localTraceToString(o,i),message:i+" "+Y.xapiValidationErrors.MUST_BE_STRING,level:Y.xapiErrorLevels.MUST_VIOLATION}),t)}function V(e,i,r){var a,t;return a=r||[],t=i||H.properties.VERSION,void 0===e?a:(null!==e&&z.xapiValidationUtils.isString(e)&&X.xapiValidationRegex.SEMVER_1_P_0_P_0.test(e)||a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.VERSION_MUST_COMPLY_SEMANTIC_VERSIONING,level:Y.xapiErrorLevels.MUST_VIOLATION}),a)}function x(e,i,r){var a,t;return a=r||[],t=i||H.properties.ATTACHMENT,z.xapiValidationUtils.isNonNullMapObject(e)?(void 0===e.display?a.push({trace:z.xapiValidationUtils.localTraceToString(t,H.properties.DISPLAY),message:Y.xapiValidationErrors.DISPLAY_SHOULD_BE_PROVIDED,level:Y.xapiErrorLevels.MUST_VIOLATION}):O(e.display,z.xapiValidationUtils.addPropToTrace(t,H.properties.DISPLAY),a),O(e.description,z.xapiValidationUtils.addPropToTrace(t,H.properties.DESCRIPTION),a),T(e,H.properties.USAGE_TYPE,t,a,!0,Y.xapiErrorLevels.MUST_VIOLATION),T(e,H.properties.FILE_URL,t,a,!1,Y.xapiErrorLevels.MUST_VIOLATION),s(e,H.properties.CONTENT_TYPE,t,a,!0,Y.xapiErrorLevels.MUST_VIOLATION),void 0!==e.length&&null!==e.length&&z.xapiValidationUtils.isNumber(e.length)&&e.length%1===0||a.push({trace:z.xapiValidationUtils.localTraceToString(t,H.properties.LENGTH),message:Y.xapiValidationErrors.LENGTH_MUST_BE_INTEGER,level:Y.xapiErrorLevels.MUST_VIOLATION}),void 0===e.sha2?a.push({trace:z.xapiValidationUtils.localTraceToString(t,H.properties.SHA2),message:Y.xapiValidationErrors.SHA2_MUST_BE_PROVIDED_ON_ATTACHMENT_OBJECTS,level:Y.xapiErrorLevels.MUST_VIOLATION}):null!==e.sha2&&z.xapiValidationUtils.isString(e.sha2)&&X.xapiValidationRegex.BASE_64.test(e.sha2)||a.push({trace:z.xapiValidationUtils.localTraceToString(t,H.properties.SHA2),message:Y.xapiValidationErrors.SHA2_MUST_CONTAIN_BASE_64_STRING,level:Y.xapiErrorLevels.MUST_VIOLATION}),o(e,j.xapiWhiteListProperties.ATTACHMENT,t,a),a):(a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.ATTACHMENTS_MUST_NOT_BE_NULL_MAP_OBJECTS,level:Y.xapiErrorLevels.MUST_VIOLATION}),a)}function R(e,i,r){var a,t,o,s;if(a=r||[],t=i||H.properties.ATTACHMENTS,void 0===e)return a;if(null===e||!z.xapiValidationUtils.isArray(e))return a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.ATTACHMENTS_MUST_BE_NOT_NULL_ARRAY,level:Y.xapiErrorLevels.MUST_VIOLATION}),a;for(o=e.length,s=0;s<o;s+=1)x(e[s],z.xapiValidationUtils.addLookupToTrace(t,s),a);return a}function L(e,i,r){var a,t,T;return a=r||[],t=i||H.properties.AGENT,z.xapiValidationUtils.isNonNullMapObject(e)?(T=u(e),T!==w.xapiGeneral.NUMER_OF_SPECIFIED_IFI_PROPERTIES&&a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.AGENT_IFI_PROPERTIES_MUST_BE_SPECIFIED,level:Y.xapiErrorLevels.MUST_VIOLATION}),e.objectType===H.objectTypes.GROUP&&a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.AGENT_MUST_NOT_HAVE_GROUP_CHARACTERISTICS,level:Y.xapiErrorLevels.MUST_VIOLATION}),E(e,t,a),s(e,H.properties.NAME,t,a,!1),o(e,j.xapiWhiteListProperties.AGENT,t,a),a):(a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.AGENT_MUST_BE_NON_NULL_MAP_OBJECT,level:Y.xapiErrorLevels.MUST_VIOLATION}),a)}function D(e,i,r){var a,t,T,p,n,l;if(a=r||[],t=i||H.properties.GROUP,T=z.xapiValidationUtils.addPropToTrace(t,H.properties.MEMBER),!z.xapiValidationUtils.isNonNullMapObject(e))return a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.GROUP_MUST_BE_NON_NULL_MAP_OBJECT,level:Y.xapiErrorLevels.MUST_VIOLATION}),a;if(p=u(e),0===p?null!==e.member&&void 0!==e.member||a.push({trace:T,message:Y.xapiValidationErrors.MEMBER_MUST_BE_PROVIDED_FOR_ANONYMOUS_GROUPS,level:Y.xapiErrorLevels.MUST_VIOLATION}):p>w.xapiGeneral.NUMER_OF_SPECIFIED_IFI_PROPERTIES&&a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.GROUP_IFI_PROPERTIES_MUST_BE_SPECIFIED,level:Y.xapiErrorLevels.MUST_VIOLATION}),E(e,t,a),s(e,H.properties.NAME,t,a,!1),void 0!==e.member)if(null!==e.member&&z.xapiValidationUtils.isArray(e.member))for(n=e.member.length,l=0;l<n;l+=1)L(e.member[l],z.xapiValidationUtils.addLookupToTrace(T,l),a);else a.push({trace:z.xapiValidationUtils.localTraceToString(t,H.properties.MEMBER),message:Y.xapiValidationErrors.GROUP_MEMBER_MUST_BE_ARRAY,level:Y.xapiErrorLevels.MUST_VIOLATION});return o(e,j.xapiWhiteListProperties.GROUP,t,a),a}function v(e,i,r){var a,t;return a=r||[],t=i||H.properties.ACTOR,null===e||void 0===e?(a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.ACTOR_MUST_BE_PROVIDED,level:Y.xapiErrorLevels.MUST_VIOLATION}),a):(z.xapiValidationUtils.isGroup(e)?D(e,t,a):L(e,t,a),a)}function C(e,i,r){var a,t;return a=r||[],t=i||H.properties.AUTHORITY,void 0===e?a:z.xapiValidationUtils.isNonNullMapObject(e)?(z.xapiValidationUtils.isGroup(e)?(D(e,t,a),e.member&&e.member.length&&e.member.length===w.xapiGeneral.GROUP_AUTHORITY_AGENT_MEMBERS||a.push({trace:z.xapiValidationUtils.localTraceToString(t,H.properties.MEMBER),message:Y.xapiValidationErrors.GROUP_AUTHORITY_AGENT_MEMBERS_MUST_BE_TWO,level:Y.xapiErrorLevels.MUST_VIOLATION})):L(e,t,a),a):(a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.AUTHORITY_MUST_BE_NON_NULL_MAP_OBJECT,level:Y.xapiErrorLevels.MUST_VIOLATION}),a)}function P(e,i,r){var a,t,o,s;if(a=r||[],t=i||H.properties.SUB_CONTEXT,void 0===e)return a;if(null===e)a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.CONTEXT_ACTIVITIES_MUST_NOT_BE_NULL,level:Y.xapiErrorLevels.MUST_VIOLATION});else if(z.xapiValidationUtils.isArray(e))for(o=e.length,s=0;s<o;s+=1)A(e[s],z.xapiValidationUtils.addLookupToTrace(t,s),a);else z.xapiValidationUtils.isObject(e)?(a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.CONTEXT_ACTIVITIES_SHOULD_BE_AN_ARRAY,level:Y.xapiErrorLevels.SHOULD_VIOLATION}),A(e,t,a)):a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.CONTEXT_ACTIVITIES_MUST_BE_ARRAY_OR_ACTIVITY_OBJ,level:Y.xapiErrorLevels.MUST_VIOLATION});return a}function m(e,i,r){var a,t;return a=r||[],t=i||H.properties.CONTEXT_ACTIVITIES,void 0===e?a:z.xapiValidationUtils.isNonNullMapObject(e)?(P(e.parent,z.xapiValidationUtils.addPropToTrace(t,H.properties.PARENT),a),P(e.grouping,z.xapiValidationUtils.addPropToTrace(t,H.properties.GROUPING),a),P(e.category,z.xapiValidationUtils.addPropToTrace(t,H.properties.CATEGORY),a),P(e.other,z.xapiValidationUtils.addPropToTrace(t,H.properties.OTHER),a),o(e,j.xapiWhiteListProperties.CONTEXT_ACTIVITIES,t,a),a):(a.push({trace:z.xapiValidationUtils.localTraceToString(t),message:Y.xapiValidationErrors.CONTEXT_ACTIVITIES_MUST_BE_NON_NULL_MAP_OBJECT,level:Y.xapiErrorLevels.MUST_VIOLATION}),a)}function g(e,i,r,a){var t,T;return t=r||[],T=i||H.properties.CONTEXT,void 0===e?t:z.xapiValidationUtils.isNonNullMapObject(e)?(void 0===e.registration||null!==e.registration&&z.xapiValidationUtils.isString(e.registration)&&X.xapiValidationRegex.UUID.test(e.registration)||t.push({trace:z.xapiValidationUtils.localTraceToString(T,H.properties.REGISTRATION),message:Y.xapiValidationErrors.REGISTRATION_MUST_BE_UUID_STRING,level:Y.xapiErrorLevels.MUST_VIOLATION}),[H.objectTypes.GROUP,H.objectTypes.AGENT].indexOf(a)!==w.xapiGeneral.NO_INDEX_FOUND&&(void 0!==e.revision&&t.push({trace:z.xapiValidationUtils.localTraceToString(T,H.properties.REVISION),message:Y.xapiValidationErrors.REVISION_MUST_BE_AGENT_OR_GROUP,level:Y.xapiErrorLevels.MUST_VIOLATION}),void 0!==e.platform&&t.push({trace:z.xapiValidationUtils.localTraceToString(T,H.properties.PLATFORM),message:Y.xapiValidationErrors.PLATFORM_MUST_NOT_BE_USED_WITH_REVISION_AGENT_OR_GROUP,level:Y.xapiErrorLevels.MUST_VIOLATION})),s(e,H.properties.REVISION,T,t,!1,Y.xapiErrorLevels.MUST_VIOLATION),s(e,H.properties.PLATFORM,T,t,!1,Y.xapiErrorLevels.MUST_VIOLATION),void 0!==e.team&&D(e.team,z.xapiValidationUtils.addPropToTrace(T,H.properties.TEAM),t),void 0!==e.contextActivities&&m(e.contextActivities,z.xapiValidationUtils.addPropToTrace(T,H.properties.CONTEXT_ACTIVITIES),t),void 0===e.language||z.xapiValidationUtils.isValidLanguageTag(e.language)||t.push({trace:z.xapiValidationUtils.localTraceToString(T,H.properties.LANGUAGE),message:Y.xapiValidationErrors.LANGUAGE_MUST_BE_STRING,level:Y.xapiErrorLevels.MUST_VIOLATION}),void 0!==e.statement&&c(e.statement,z.xapiValidationUtils.addPropToTrace(T,H.properties.STATEMENT),t),void 0!==e.instructor&&(z.xapiValidationUtils.isGroup(e.instructor)?D(e.instructor,z.xapiValidationUtils.addPropToTrace(T,H.properties.INSTRUCTOR),t):L(e.instructor,z.xapiValidationUtils.addPropToTrace(T,H.properties.INSTRUCTOR),t)),I(e.extensions,z.xapiValidationUtils.addPropToTrace(T,H.properties.EXTENSIONS),t),o(e,[H.properties.REGISTRATION,H.properties.INSTRUCTOR,H.properties.TEAM,H.properties.CONTEXT_ACTIVITIES,H.properties.REVISION,H.properties.PLATFORM,H.properties.LANGUAGE,H.properties.STATEMENT,H.properties.EXTENSIONS],T,t),t):(t.push({trace:T,message:Y.xapiValidationErrors.CONTEXT_MUST_BE_NON_NUL_MAP_OBJECT,level:Y.xapiErrorLevels.MUST_VIOLATION}),t)}function B(e,i,r,a){var t,o,T;return t=r||[],o=i||H.properties.OBJECT,void 0===e?(t.push({trace:z.xapiValidationUtils.localTraceToString(o),message:Y.xapiValidationErrors.OBJECT_MUST_BE_DEFINED,level:Y.xapiErrorLevels.MUST_VIOLATION}),t):z.xapiValidationUtils.isNonNullMapObject(e)?(s(e,H.properties.OBJECT_TYPE,o,t,!0,Y.xapiErrorLevels.SHOULD_VIOLATION),T=e.objectType||H.objectTypes.ACTIVITY,T===H.objectTypes.ACTIVITY?A(e,o,t):T===H.objectTypes.AGENT?L(e,o,t):T===H.objectTypes.GROUP?D(e,o,t):T===H.objectTypes.STATEMENT_REF?c(e,o,t):T===H.objectTypes.SUB_STATEMENT?(a&&t.push({trace:z.xapiValidationUtils.localTraceToString(o,H.properties.OBJECT_TYPE),message:Y.xapiValidationErrors.SUB_STATEMENT_MUST_NOT_CONTAIN_SUB_STATEMENT,level:Y.xapiErrorLevels.MUST_VIOLATION}),f(e,o,t,!0)):t.push({trace:z.xapiValidationUtils.localTraceToString(o,H.properties.OBJECT_TYPE),message:Y.xapiValidationErrors.OBJECT_TYPE_MUST_BE_VALID_OPTION+" "+H.xApiValidObjectTypes.toString(),level:Y.xapiErrorLevels.MUST_VIOLATION}),t):(t.push({trace:z.xapiValidationUtils.localTraceToString(o),message:Y.xapiValidationErrors.OBJECT_MUST_BE_NON_NULL_MAP_OBJECT,level:Y.xapiErrorLevels.MUST_VIOLATION}),t)}function f(e,i,r,a){var t,s,T,p;return t=r||[],s=i||H.properties.STATEMENT,p=j.xapiWhiteListProperties.STATEMENT,z.xapiValidationUtils.isNonNullMapObject(e)?(a?p=j.xapiWhiteListProperties.SUB_STATEMENT:null!==e.id&&void 0!==e.id&&z.xapiValidationUtils.isString(e.id)?X.xapiValidationRegex.UUID.test(e.id)||t.push({trace:z.xapiValidationUtils.localTraceToString(s,H.properties.ID),message:Y.xapiValidationErrors.ID_MUST_BE_VALID,level:Y.xapiErrorLevels.MUST_VIOLATION}):t.push({trace:z.xapiValidationUtils.localTraceToString(s,H.properties.ID),message:Y.xapiValidationErrors.IDS_SHOULD_BE_GENERATED_BY_LRS,level:Y.xapiErrorLevels.SHOULD_VIOLATION}),v(e.actor,z.xapiValidationUtils.addPropToTrace(s,H.properties.ACTOR),t),N(e.verb,z.xapiValidationUtils.addPropToTrace(s,H.properties.VERB),t),B(e.object,z.xapiValidationUtils.addPropToTrace(s,H.properties.OBJECT),t,a),U(e.result,z.xapiValidationUtils.addPropToTrace(s,H.properties.RESULT),t),T=e.object&&e.object.objectType?e.object.objectType:H.objectTypes.ACTIVITY,g(e.context,z.xapiValidationUtils.addPropToTrace(s,H.properties.CONTEXT),t,T),M(e,H.properties.TIMESTAMP,s,t),M(e,H.properties.STORED,s,t),C(e.authority,z.xapiValidationUtils.addPropToTrace(s,H.properties.AUTHORITY),t),V(e.version,z.xapiValidationUtils.addPropToTrace(s,H.properties.VERSION),t),R(e.attachments,z.xapiValidationUtils.addPropToTrace(s,H.properties.ATTACHMENTS),t),o(e,p,s,t),t):(t.push({trace:z.xapiValidationUtils.localTraceToString(s),message:Y.xapiValidationErrors.STATEMENT_REF_MUST_NOT_BE_NULL_MAP_OBJECTS,level:Y.xapiErrorLevels.MUST_VIOLATION}),t)}function b(e){var i;return i=[],f(e,H.properties.STATEMENT,i,!1),a(e,i)}function h(e){var i;if(void 0===e)return t(null,{trace:H.properties.STATEMENT,message:Y.xapiValidationErrors.STATEMENT_ARGUMENT_MUST_BE_PROVIDED,level:Y.xapiErrorLevels.MUST_VIOLATION});if(null===e)return t(null,{trace:H.properties.STATEMENT,message:Y.xapiValidationErrors.STATEMENT_MUST_NOT_BE_NULL,level:Y.xapiErrorLevels.MUST_VIOLATION});if(z.xapiValidationUtils.isString(e)){try{if(i=JSON.parse(e),null===i||!z.xapiValidationUtils.isObject(i)||z.xapiValidationUtils.isArray(i))return t(i,{trace:H.properties.STATEMENT,message:Y.xapiValidationErrors.STATEMENT_MUST_BE_PARSED_CORRECTLY,level:Y.xapiErrorLevels.MUST_VIOLATION})}catch(e){return t(i,{trace:H.properties.STATEMENT,message:Y.xapiValidationErrors.INVALID_JSON+": "+e.message,level:Y.xapiErrorLevels.MUST_VIOLATION})}return b(i)}return z.xapiValidationUtils.isObject(e)&&!z.xapiValidationUtils.isArray(e)?b(e):t(null,{trace:H.properties.STATEMENT,message:Y.xapiValidationErrors.STATEMENT_ARGUMENT_IS_NOT_VALID,level:Y.xapiErrorLevels.MUST_VIOLATION})}function G(e){return e[X.dateFormatRegexPositions.ZONE]||e[X.dateFormatRegexPositions.RELATIVE_TIME]&&e[X.dateFormatRegexPositions.TIME_ZONE_HOUR]}Object.defineProperty(r,"__esModule",{value:!0});var y,H=e("../constants/properties"),j=e("../constants/whitelists"),Y=e("../constants/errors"),X=e("../constants/regex"),J=e("../constants/interaction-types"),w=e("../constants/general"),z=e("../utils/utils");y={validateStatement:h},r.default=y,window.xapiValidator=y},{"../constants/errors":1,"../constants/general":2,"../constants/interaction-types":3,"../constants/properties":4,"../constants/regex":5,"../constants/whitelists":6,"../utils/utils":8}],8:[function(e,i,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.xapiValidationUtils=void 0;var a,t=e("../constants/regex"),o=e("../constants/properties"),s="[object String]",T="[object Array]",p="[object Boolean]",n="[object Number]",l=Object.prototype.toString;r.xapiValidationUtils=a={isString:function(e){return l.call(e)===s},isObject:function(e){return e===Object(e)},isArray:Array.isArray||function(e){return l.call(e)===T},isBoolean:function(e){return e===!0||e===!1||l.call(e)===p},isNumber:function(e){return l.call(e)===n},isDefined:function(e){return null!==e||void 0!==e},isNonNullMapObject:function(e){return this.isDefined(e)&&this.isObject(e)&&!this.isArray(e)},isValidLanguageTag:function(e){return this.isDefined(e)&&this.isString(e)&&t.xapiValidationRegex.BCP_47.test(e)},addPropToTrace:function(e,i){return this.isDefined(i)?e+"."+i:e},addLookupToTrace:function(e,i){return this.isDefined(i)?this.isNumber(i)?e+"["+i+"]":e+'["'+i+'"]':e},localTraceToString:function(e,i){return this.addPropToTrace(e,i)},isGroup:function(e){return null!==e.member&&void 0!==e.member||e.objectType===o.objectTypes.GROUP}},r.xapiValidationUtils=a},{"../constants/properties":4,"../constants/regex":5}]},{},[7])(7)});
//# sourceMappingURL=maps/xapiValidator.min.js.map
