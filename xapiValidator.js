(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.xapiValidator = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var xapiErrorLevels = Object.freeze({
  MAY_VIOLATION: 'MAY_VIOLATION',
  MUST_VIOLATION: 'MUST_VIOLATION',
  SHOULD_VIOLATION: 'SHOULD_VIOLATION'
});

var xapiValidationErrors = Object.freeze({
  ACTIVITIES_MUST_NOT_BE_NULL_MAP_OBJECTS: 'Activities must be non-null map objects',
  ACTOR_MUST_BE_PROVIDED: 'Actor must be provided.',
  AGENT_IFI_PROPERTIES_MUST_BE_SPECIFIED: 'Exactly one Inverse Functional Identifier property must be specified for an "agent".',
  AGENT_MUST_BE_NON_NULL_MAP_OBJECT: '"agent" must be a non-null map object',
  AGENT_MUST_NOT_HAVE_GROUP_CHARACTERISTICS: 'Invalid object with characteristics of a Group when an Agent was expected.',
  ATTACHMENTS_MUST_BE_NOT_NULL_ARRAY: '"attachments" must be a non-null Array.',
  ATTACHMENTS_MUST_NOT_BE_NULL_MAP_OBJECTS: '"attachment" instances must be non-null map objects.',
  AUTHORITY_MUST_BE_NON_NULL_MAP_OBJECT: 'If present, the "authority" property must be a non-null map object.',
  CONTEXT_ACTIVITIES_MUST_BE_ARRAY_OR_ACTIVITY_OBJ: 'Context Activities property values must be an array of Activity Objects or a single Activity Object.',
  CONTEXT_ACTIVITIES_MUST_BE_NON_NULL_MAP_OBJECT: 'The Context Activities instances must be a non-null map object.',
  CONTEXT_ACTIVITIES_MUST_NOT_BE_NULL: '"Context Activities" property values must not be null.',
  CONTEXT_ACTIVITIES_SHOULD_BE_AN_ARRAY: 'Context Activities property values should prefer to be an array of Activities rather than a single Activity object.',
  CONTEXT_MUST_BE_NON_NUL_MAP_OBJECT: 'If present, the "context" property must be a non-null map object.',
  CORRECT_RESPONSES_PATTERN_MUST_BE_ARRAY: 'If present, the "correctResponsesPattern" value must be an Array of strings.',
  CORRECT_RESPONSES_PATTERN_MUST_BE_STRINGS: '"correctResponsesPattern" items must be strings.',
  DATE_MUST_BE_VALID: 'This propertys string value must be conformant to ISO 8601 for Date Times.',
  DATE_SHOULD_INCLUDE_ZONE_INFORMATION: 'ISO 8601 date time strings used in the xAPI should include time zone information.',
  DEFINITIONS_MUST_BE_OBJECTS: '"definitions", when present, must be map objects',
  DISPLAY_SHOULD_BE_PROVIDED: '"display" property should be provided.',
  DURATION_MUST_BE_VALID: 'If present, the "duration" property value must be an ISO 8601 duration',
  EXTENSIONS_MUST_NOT_BE_NULL: 'If present, the extensions property must be a non-null map object.',
  GROUP_AUTHORITY_AGENT_MEMBERS_MUST_BE_TWO: 'If used as a Group, the "authority" property must contain a "member" property that is an array containing exactly two Agent objects.',
  GROUP_IFI_PROPERTIES_MUST_BE_SPECIFIED: 'Exactly one Inverse Functional Identifier property must be specified for a "group".',
  GROUP_MEMBER_MUST_BE_ARRAY: 'If present, the member property of a Group must be an Array',
  GROUP_MUST_BE_NON_NULL_MAP_OBJECT: '"group" must be a non-null map object',
  ID_MUST_BE_UNIQUE: '"id" properties must be unique within each interaction component array',
  ID_MUST_BE_VALID_UUID_REF: '"id" property value must be a valid UUID string for statement reference objects.',
  ID_MUST_BE_VALID: 'Id was not a valid UUID',
  ID_SHOULD_NOT_CONTAIN_WHITESPACES: '"id" properties on interaction components should not contain whitespace',
  IDS_SHOULD_BE_GENERATED_BY_LRS: 'Ids should be generated by the Activity Provider, and must be generated by the LRS',
  IFI_MUST_BE_MBOX_URI: '"mbox" property was required to be a mailto URI string but was not a string at all.',
  IFI_MUST_BE_VALID_MBOX_FORMAT: '"mbox" property was required to be a mailto URI string but did not match the mailto format.',
  INTERACTION_ACTIVITY_SHOULD_HAVE: 'Interaction Activity Definitions should have a type property of',
  INTERACTION_COMPONENT_MUST_NOT_BE_NULL: 'This interaction component collection member must be a non-null map object',
  INTERACTION_COMPONENT_SHOULD_BE_ARRAY: 'This interaction component collection property should be an array.',
  INTERACTION_TYPE_MUST_BE_CMI: 'If present, the "interactionType" value must be a CMI interaction type option.',
  INTERACTION_TYPE_MUST_BE_VALID: 'This interaction component collection property is not associated with the present interactionType of: ',
  INVALID_JSON: 'Invalid JSON. The statement could not be parsed.',
  LANGUAGE_MAP_KEY_INVALID: 'key, Language does not conform to RFC 5646',
  LANGUAGE_MAP_KEY_MUST_BE_STRING: 'key: Language Map value should be a String, but was not',
  LANGUAGE_MAPS_MUST_NOT_BE_NULL: 'Language Maps, when present, must be non-null map objects',
  LANGUAGE_MUST_BE_STRING: 'The language property must be encoded as an RFC 5646 compliant string, but was not.',
  LENGTH_MUST_BE_INTEGER: '"length" property must be provided with an integer value',
  MAX_MUST_BE_GREATER_THAN_MIN: 'If both "max" and "min" are present, the max property value should be greater than min',
  MEMBER_MUST_BE_PROVIDED_FOR_ANONYMOUS_GROUPS: '"member" property must be provided for Anonymous Groups.',
  MUST_BE_BOOLEAN_PRESENT: 'property was required to be a Boolean but was absent.',
  MUST_BE_BOOLEAN: 'property, if present, must be a Boolean.',
  MUST_BE_IRI_STRING: 'property, if present, should be a IRI-like absolute URI per RFC 3987.',
  MUST_BE_NUMBER_PRESENT: 'property was required to be a Number but was absent.',
  MUST_BE_NUMBER: 'property, if present, must be a Number.',
  MUST_BE_PRESENT: 'property was required to be a string but was absent.',
  MUST_BE_STRING: 'property, if present, must be a string.',
  MUST_BE_URI_PRESENT: 'property was required to be a URI string but was absent.',
  MUST_BE_URI_STRING: 'property, if present, must be a URI string.',
  OBJECT_MUST_BE_DEFINED: '"object" property must be provided.',
  OBJECT_MUST_BE_NON_NULL_MAP_OBJECT: '"object" property must be a non-null map object.',
  OBJECT_TYPE_MUST_BE_STATEMENT_REF: '"objectType" property value must be "StatementRef" for statement reference objects.',
  OBJECT_TYPE_MUST_BE_VALID_OPTION: 'object\'s "objectType" did not match a valid option',
  RAW_MUST_BE_GREATER_THAN_MIN: 'If both "raw" and "min" are present, the raw property value should be greater than min',
  RAW_MUST_BE_LESS_THAN_MAX: 'If both "raw" and "max" are present, the raw property value should be less than max',
  REGISTRATION_MUST_BE_UUID_STRING: 'If present, the registration property must be a UUID string.',
  RESULT_MUST_BE_MAP_OBJECT: 'If present, the result must be a map object',
  REVISION_MUST_BE_AGENT_OR_GROUP: 'The revision property must not be used if the Statement\'s Object is an Agent or Group.',
  SCALED_MUST_BE_BETWEEN_0_1: 'If present, the scaled property value must be between 0 and 1',
  SHA2_MUST_BE_PROVIDED_ON_ATTACHMENT_OBJECTS: '"sha2" property must be provided on attachment objects',
  SHA2_MUST_CONTAIN_BASE_64_STRING: '"sha2" property must contain a string with base64 contents',
  STATEMENT_ARGUMENT_IS_NOT_VALID: 'Statement argument provided was not a valid object or a valid JSON string.',
  STATEMENT_ARGUMENT_MUST_BE_PROVIDED: 'No statement argument provided.',
  STATEMENT_MUST_BE_PARSED_CORRECTLY: 'Null or non-object statement value parsed from provided statment JSON.',
  STATEMENT_MUST_NOT_BE_NULL: 'Null statement argument provided.',
  STATEMENT_REF_MUST_NOT_BE_NULL_MAP_OBJECTS: 'StatementRef instances must be non-null map objects',
  SUB_STATEMENT_MUST_NOT_CONTAIN_SUB_STATEMENT: 'A SubStatement must not contain a SubStatement',
  UNEXPECTED: 'Unexpected property not permitted',
  VERB_MUST_BE_PROVIDED: 'Verb must be provided',
  VERB_MUST_NOT_BE_NULL: 'Verb property value must a non-null map object.',
  VERSION_MUST_COMPLY_SEMANTIC_VERSIONING: '"version" must be a non-null string that complies with Semantic Versioning 1.0.0'
});

exports.xapiErrorLevels = xapiErrorLevels;
exports.xapiValidationErrors = xapiValidationErrors;

},{}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var xapiGeneral = Object.freeze({
  FIRST_REPORT_VERSTION: '1.0.0',
  GROUP_AUTHORITY_AGENT_MEMBERS: 2,
  INTERACTION_DEFINITION_TYPE: 'http://adlnet.gov/expapi/activities/cmi.interaction',
  MAX_SCALED_VALUE: 1,
  MIN_SCALED_VALUE: 0,
  NO_INDEX_FOUND: -1,
  NUMER_OF_SPECIFIED_IFI_PROPERTIES: 1
});

exports.xapiGeneral = xapiGeneral;

},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var interactionTypes = exports.interactionTypes = Object.freeze({
  CHOICE: 'choice',
  FILL_IN: 'fill-in',
  LIKERT: 'likert',
  LONG_FILL_IN: 'long-fill-in',
  MATCHING: 'matching',
  NUMERIC: 'numeric',
  OTHER: 'other',
  PERFORMANCE: 'performance',
  SEQUENCING: 'sequencing',
  TRUE_FALSE: 'true-false'
});

var xapiValidationInteractionTypes = exports.xapiValidationInteractionTypes = Object.freeze([interactionTypes.CHOICE, interactionTypes.FILL_IN, interactionTypes.LIKERT, interactionTypes.LONG_FILL_IN, interactionTypes.MATCHING, interactionTypes.NUMERIC, interactionTypes.OTHER, interactionTypes.PERFORMANCE, interactionTypes.SEQUENCING, interactionTypes.TRUE_FALSE]);

},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var properties = Object.freeze({
  ACCOUNT: 'account',
  ACTIVITY: 'activity',
  ACTOR: 'actor',
  AGENT: 'agent',
  ATTACHMENT: 'attachment',
  ATTACHMENTS: 'attachments',
  AUTHORITY: 'authority',
  CATEGORY: 'category',
  CHOICE: 'choice',
  CHOICES: 'choices',
  COMPLETION: 'completion',
  CONTENT_TYPE: 'contentType',
  CONTEXT_ACTIVITIES: 'contextActivities',
  CONTEXT: 'context',
  CORRECT_RESPONSES_PATTERN: 'correctResponsesPattern',
  DATE_TIME: 'dateTime',
  DEFINITION: 'definition',
  DESCRIPTION: 'description',
  DISPLAY: 'display',
  DURATION: 'duration',
  EXTENSIONS: 'extensions',
  FILE_URL: 'fileUrl',
  GROUP: 'group',
  GROUPING: 'grouping',
  HOME_PAGE: 'homePage',
  ID: 'id',
  INSTRUCTOR: 'instructor',
  INTERACTION_COMPONENTS: 'interactionComponents',
  INTERACTION_TYPE: 'interactionType',
  LANGUAGE_MAP: 'languageMap',
  LANGUAGE: 'language',
  LENGTH: 'length',
  LIKERT: 'likert',
  MATCHING: 'matching',
  MAX: 'max',
  MBOX_SHA_1_SUM: 'mbox_sha1sum',
  MBOX: 'mbox',
  MEMBER: 'member',
  MIN: 'min',
  MORE_INFO: 'moreInfo',
  NAME: 'name',
  OBJECT_TYPE: 'objectType',
  OBJECT: 'object',
  OPEN_ID: 'openID',
  OTHER: 'other',
  PARENT: 'parent',
  PERFORMANCE: 'performance',
  PLATFORM: 'platform',
  RAW: 'raw',
  REGISTRATION: 'registration',
  RESPONSE: 'response',
  RESULT: 'result',
  REVISION: 'revision',
  SCALE: 'scale',
  SCALED: 'scaled',
  SCORE: 'score',
  SEQUENCING: 'sequencing',
  SHA2: 'sha2',
  SOURCE: 'source',
  STATEMENT_REF: 'statementRef',
  STATEMENT: 'statement',
  STEPS: 'steps',
  STORED: 'stored',
  SUB_CONTEXT: 'subContext',
  SUCCESS: 'success',
  TARGET: 'target',
  TEAM: 'team',
  TIMESTAMP: 'timestamp',
  TYPE: 'type',
  USAGE_TYPE: 'usageType',
  VERB: 'verb',
  VERSION: 'version'
});

var objectTypes = Object.freeze({
  GROUP: 'Group',
  AGENT: 'Agent',
  ACTIVITY: 'Activity',
  STATEMENT_REF: 'StatementRef',
  SUB_STATEMENT: 'SubStatement'
});

var xapiValidationIfiPropertyNames = Object.freeze([properties.ACCOUNT, properties.MBOX_SHA_1_SUM, properties.MBOX, properties.OPEN_ID]);

var xApiValidObjectTypes = Object.freeze([objectTypes.GROUP, objectTypes.AGENT, objectTypes.ACTIVITY, objectTypes.STATEMENT_REF, objectTypes.SUB_STATEMENT]);

var xapiWhiteListProperties = Object.freeze({
  IFI: [properties.HOME_PAGE, properties.NAME],
  URI: [properties.ID, properties.DISPLAY],
  COMPONENT_ARRAY: [properties.ID, properties.DESCRIPTION],
  ACTIVITY_DEFINITION: [properties.NAME, properties.DESCRIPTION, properties.TYPE, properties.MORE_INFO, properties.EXTENSIONS, properties.INTERACTION_TYPE, properties.CORRECT_RESPONSES_PATTERN, properties.CHOICES, properties.SCALE, properties.SOURCE, properties.TARGET, properties.STEPS],
  ACTIVITY: [properties.OBJECT_TYPE, properties.ID, properties.DEFINITION],
  STATEMENT_REF: [properties.ID, properties.OBJECT_TYPE],
  SCORE: [properties.SCALED, properties.RAW, properties.MIN, properties.MAX],
  RESULT: [properties.SCORE, properties.SUCCESS, properties.COMPLETION, properties.RESPONSE, properties.DURATION, properties.EXTENSIONS],
  ATTACHMENT: [properties.USAGE_TYPE, properties.DISPLAY, properties.DESCRIPTION, properties.CONTENT_TYPE, properties.LENGTH, properties.SHA2, properties.FILE_URL],
  AGENT: [properties.OBJECT_TYPE, properties.NAME, properties.ACCOUNT, properties.MBOX_SHA_1_SUM, properties.MBOX, properties.OPEN_ID],
  GROUP: [properties.OBJECT_TYPE, properties.NAME, properties.MEMBER, properties.ACCOUNT, properties.MBOX_SHA_1_SUM, properties.MBOX, properties.OPEN_ID],
  CONTEXT_ACTIVITIES: [properties.PARENT, properties.GROUPING, properties.CATEGORY, properties.OTHER],
  STATEMENT: [properties.ID, properties.ACTOR, properties.VERB, properties.OBJECT, properties.RESULT, properties.CONTEXT, properties.TIMESTAMP, properties.STORED, properties.AUTHORITY, properties.VERSION, properties.ATTACHMENTS],
  SUB_STATEMENT: [properties.ACTOR, properties.VERB, properties.OBJECT, properties.RESULT, properties.CONTEXT, properties.TIMESTAMP, properties.ATTACHMENTS, properties.OBJECT_TYPE],
  EXTENSIONS: [properties.REGISTRATION, properties.INSTRUCTOR, properties.TEAM, properties.CONTEXT_ACTIVITIES, properties.REVISION, properties.PLATFORM, properties.LANGUAGE, properties.STATEMENT, properties.EXTENSIONS]
});

exports.properties = properties;
exports.objectTypes = objectTypes;
exports.xapiValidationIfiPropertyNames = xapiValidationIfiPropertyNames;
exports.xApiValidObjectTypes = xApiValidObjectTypes;
exports.xapiWhiteListProperties = xapiWhiteListProperties;

},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var xapiValidationRegex = Object.freeze({
  UUID: /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,
  ISO_8601_DURATION: /^P((\d+([\.,]\d+)?Y)?(\d+([\.,]\d+)?M)?(\d+([\.,]\d+)?W)?(\d+([\.,]\d+)?D)?)?(T(\d+([\.,]\d+)?H)?(\d+([\.,]\d+)?M)?(\d+([\.,]\d+)?S)?)?$/,
  ISO_8601_DATE_TIME: /^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,
  MAILTO_URI: /^mailto:/,
  CONTAINS_WHITESPACE: /\s/g,
  SEMVER_1_P_0_P_0: /^((\d+)\.(\d+)\.(\d+))(?:-([\dA-Za-z\-]+))?$/,
  BASE_64: /^(?:[A-Za-z0-9\+\/]{4})*(?:[A-Za-z0-9\+\/]{2}==|[A-Za-z0-9\+\/]{3}=|[A-Za-z0-9\+\/]{4})$/,
  IRI: /^[a-z](?:[\-a-z0-9\+\.])*:(?:\/\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:])*@)?(?:\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4}:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+[\-a-z0-9\._~!\$&'\(\)\*\+,;=:]+)\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}|(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=@])*)(?::[0-9]*)?(?:\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))*)*|\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))*)*)?|(?:(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@])))(?:\?(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@])|[\uE000-\uF8FF\uF0000-\uFFFFD|\u100000-\u10FFFD\/\?])*)?(?:\#(?:(?:%[0-9a-f][0-9a-f]|[\-a-z0-9\._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u10000-\u1FFFD\u20000-\u2FFFD\u30000-\u3FFFD\u40000-\u4FFFD\u50000-\u5FFFD\u60000-\u6FFFD\u70000-\u7FFFD\u80000-\u8FFFD\u90000-\u9FFFD\uA0000-\uAFFFD\uB0000-\uBFFFD\uC0000-\uCFFFD\uD0000-\uDFFFD\uE1000-\uEFFFD!\$&'\(\)\*\+,;=:@])|[\/\?])*)?$/i,
  BCP_47: /^(?:(en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))|(art-lojban|cel-gaulish|no-(?:bok|nyn)|zh-(?:guoyu|hakka|min|min-nan|xiang)))$|^(x(?:-[0-9a-z]{1,8})+)$|^(?:((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|[0-9]{3}))?((?:-(?:[a-z0-9]{5,8}|[0-9][a-z0-9]{3}))*)?((?:-[0-9a-wy-z](?:-[a-z0-9]{2,8}){1,})*)?(-x(?:-[0-9a-z]{1,8})+)?)$/i
});

var dateFormatRegexPositions = Object.freeze({
  YEAR: 1,
  MONTH: 2,
  DAY: 3,
  HOUR: 4,
  MINUTE: 5,
  SECOND: 6,
  MSECOND: 7,
  ZONE: 8,
  RELATIVE_TIME: 9,
  TIME_ZONE_HOUR: 10,
  TIME_ZONE_MINUTE: 11
});

exports.xapiValidationRegex = xapiValidationRegex;
exports.dateFormatRegexPositions = dateFormatRegexPositions;

},{}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var IS_STRING = '[object String]',
    IS_ARRAY = '[object Array]',
    IS_BOOLEAN = '[object Boolean]',
    IS_NUMBER = '[object Number]';

var toString = Object.prototype.toString;
var xapiValidationUtils;

exports.xapiValidationUtils = xapiValidationUtils = {
  isString: function isString(obj) {
    return toString.call(obj) === IS_STRING;
  },
  isObject: function isObject(obj) {
    return obj === Object(obj);
  },


  isArray: Array.isArray || function (obj) {
    return toString.call(obj) === IS_ARRAY;
  },

  isBoolean: function isBoolean(obj) {
    return obj === true || obj === false || toString.call(obj) === IS_BOOLEAN;
  },
  isNumber: function isNumber(obj) {
    return toString.call(obj) === IS_NUMBER;
  },
  isDefined: function isDefined(obj) {
    return obj !== null || obj !== undefined;
  },
  isNonNullMapObject: function isNonNullMapObject(target) {
    return this.isDefined(target) && this.isObject(target) && !this.isArray(target);
  },
  isValidLanguageTag: function isValidLanguageTag(target, validLanguageRegex) {
    // TODO - use more precise 5646 handling, rather than this simplified BCP 47 regex, which combines RFC 5646 and RFC 4647.
    // return this.isDefined(target) && this.isString(target) && xapiValidationRegex.BCP_47.test(target);
    return this.isDefined(target) && this.isString(target) && validLanguageRegex.test(target);
  },
  addPropToTrace: function addPropToTrace(trace, addendum) {
    return this.isDefined(addendum) ? trace + '.' + addendum : trace;
  },
  addLookupToTrace: function addLookupToTrace(trace, key) {
    return !this.isDefined(key) ? trace : this.isNumber(key) ? trace + '[' + key + ']' : trace + '["' + key + '"]';
  },
  localTraceToString: function localTraceToString(trace, addendum) {
    return this.addPropToTrace(trace, addendum);
  },
  isGroup: function isGroup(actorOrGroup, groupType) {
    // return (actorOrGroup.member !== null && actorOrGroup.member !== undefined) || actorOrGroup.objectType === objectTypes.GROUP;
    return actorOrGroup.member !== null && actorOrGroup.member !== undefined || actorOrGroup.objectType === groupType;
  }
};

exports.xapiValidationUtils = xapiValidationUtils;

},{}],7:[function(require,module,exports){
'use strict';

var _properties = require('./constants/properties');

var _errors = require('./constants/errors');

var _interactionTypes = require('./constants/interaction-types');

var _regex = require('./constants/regex');

var _general = require('./constants/general');

var _utils = require('./utils/utils');

var xapiValidation;

function makeV1Report(instance, errors) {
  var version;

  instance = instance || null;
  errors = errors || null;
  version = _general.xapiGeneral.FIRST_REPORT_VERSTION;
  return { instance: instance, errors: errors, version: version };
}

function makeV1SingleErrorReport(instance, error) {
  return makeV1Report(instance, error === null || error === undefined ? [] : [error]);
}

function validateAbsenceOfNonWhitelistedProperties(target, allowedProperties, trace, errors) {
  var localErrors, localTrace, propertyName;

  localErrors = errors || [];
  localTrace = trace || '';

  for (propertyName in target) {
    if (target.hasOwnProperty(propertyName) && allowedProperties.indexOf(propertyName) === _general.xapiGeneral.NO_INDEX_FOUND) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, propertyName),
        message: _errors.xapiValidationErrors.UNEXPECTED,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  return localErrors;
}

function validatePropertyIsString(parent, propertyName, trace, errors, isRequired, violationType) {
  var localErrors, localTrace, propValue, localViolationType;

  localErrors = errors || [];
  localTrace = trace || '';
  propValue = parent[propertyName], localViolationType = violationType || _errors.xapiErrorLevels.MUST_VIOLATION;

  if (propValue !== undefined) {
    if (propValue === null || !_utils.xapiValidationUtils.isString(propValue)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_STRING,
        level: localViolationType
      });
    }
  } else if (isRequired) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_PRESENT,
      level: localViolationType
    });
  }

  return localErrors;
}

function validatePropertyIsUri(target, propertyName, trace, errors, isRequired) {
  var localErrors, localTrace, propValue;

  localErrors = errors || [];
  localTrace = trace || '';
  propValue = target[propertyName];

  if (propValue !== undefined) {
    if (propValue === null || !_utils.xapiValidationUtils.isString(propValue)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_URI_STRING,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    } else if (!_regex.xapiValidationRegex.IRI.test(propValue)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_IRI_STRING,
        level: _errors.xapiErrorLevels.SHOULD_VIOLATION
      });
    }
  } else if (isRequired) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_URI_PRESENT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }
  return localErrors;
}

function validatePropertyIsUrl(target, propertyName, trace, errors, isRequired) {
  // TODO - check whether a formal URL format definition is recommended/enforced for xAPI
  return validatePropertyIsString(target, propertyName, trace, errors, isRequired);
}

function validatePropertyIsBoolean(parent, propertyName, trace, errors, isRequired) {
  var localErrors, localTrace, propValue;

  localErrors = errors || [];
  localTrace = trace || '';
  propValue = parent[propertyName];

  if (propValue !== undefined) {
    if (propValue === null || !_utils.xapiValidationUtils.isBoolean(propValue)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_BOOLEAN,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  } else if (isRequired) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_BOOLEAN_PRESENT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }
  return localErrors;
}

function validatePropertyIsNumber(parent, propertyName, trace, errors, isRequired) {
  var localErrors, localTrace, propValue;

  localErrors = errors || [];
  localTrace = trace || '';
  propValue = parent[propertyName];

  if (propValue !== undefined) {
    if (propValue === null || !_utils.xapiValidationUtils.isNumber(propValue)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_NUMBER,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  } else if (isRequired) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_NUMBER_PRESENT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }
  return localErrors;
}

function validateIFIProperties(target, trace, errors) {
  var localErrors, localTrace, accountTrace;

  localErrors = errors || [];
  localTrace = trace || '';

  if (target.mbox !== undefined && target.mbox !== null) {
    if (!_utils.xapiValidationUtils.isString(target.mbox)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.MBOX),
        message: _errors.xapiValidationErrors.IFI_MUST_BE_MBOX_URI,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    } else if (!_regex.xapiValidationRegex.MAILTO_URI.test(target.mbox)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.MBOX),
        message: _errors.xapiValidationErrors.IFI_MUST_BE_VALID_MBOX_FORMAT,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  validatePropertyIsString(target, _properties.properties.MBOX_SHA_1_SUM, localTrace, localErrors, /*isRequired*/false);
  validatePropertyIsUri(target, _properties.properties.OPEN_ID, localTrace, localErrors, /*isRequired*/false);

  if (target.account !== undefined && target.account !== null) {
    accountTrace = _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.ACCOUNT);
    validatePropertyIsUri(target.account, _properties.properties.HOME_PAGE, accountTrace, localErrors, /*isRequired*/true);
    validatePropertyIsString(target.account, _properties.properties.NAME, accountTrace, localErrors, /*isRequired*/true);
    validateAbsenceOfNonWhitelistedProperties(target.account, _properties.xapiWhiteListProperties.IFI, accountTrace, localErrors);
  }

  return localErrors;
}

function getIFIs(target) {
  var ifis;

  if (target === null || target === undefined) {
    return [];
  }

  ifis = _properties.xapiValidationIfiPropertyNames.filter(function (name) {
    if (target[name] !== undefined && target[name] !== null) {
      return { key: name, value: target[name] };
    }
  });

  return ifis;
}

function getIFICount(target) {
  return getIFIs(target).length;
}

function validateExtensions(extensions, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [], localTrace = trace || _properties.properties.EXTENSIONS;

  if (extensions === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(extensions)) {
    localErrors.push({
      trace: localTrace,
      message: _errors.xapiValidationErrors.EXTENSIONS_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }
  // TODO - double-check what further enforceable constraints exist on extension object properties
  return localErrors;
}

function validateLanguageMap(languageMap, trace, errors) {
  var localErrors, localTrace, propName, mappedValue;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.LANGUAGE_MAP;

  if (languageMap === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(languageMap)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace),
      message: _errors.xapiValidationErrors.LANGUAGE_MAPS_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  for (propName in languageMap) {

    if (languageMap.hasOwnProperty(propName)) {
      if (!_utils.xapiValidationUtils.isValidLanguageTag(propName, _regex.xapiValidationRegex.BCP_47)) {
        localErrors.push({
          trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, propName),
          message: propName + ' ' + _errors.xapiValidationErrors.LANGUAGE_MAP_KEY_INVALID,
          level: _errors.xapiErrorLevels.MUST_VIOLATION
        });
      }

      mappedValue = languageMap[propName];

      if (mappedValue === null || mappedValue === undefined || !_utils.xapiValidationUtils.isString(mappedValue)) {
        localErrors.push({
          trace: _utils.xapiValidationUtils.addLookupToTrace(localTrace, propName),
          message: propName + ' ' + _errors.xapiValidationErrors.LANGUAGE_MAP_KEY_MUST_BE_STRING,
          level: _errors.xapiErrorLevels.MUST_VIOLATION
        });
      }
    }
  }

  return localErrors;
}

function validateVerb(verb, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.VERB;

  if (verb === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.VERB_MUST_BE_PROVIDED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(verb)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.VERB_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  validatePropertyIsUri(verb, _properties.properties.ID, localTrace, localErrors, /*isRequired*/true);

  if (verb.display === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DISPLAY),
      message: _errors.xapiValidationErrors.DISPLAY_SHOULD_BE_PROVIDED,
      level: _errors.xapiErrorLevels.SHOULD_VIOLATION
    });
  } else {
    validateLanguageMap(verb.display, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DISPLAY), localErrors);
  }

  validateAbsenceOfNonWhitelistedProperties(verb, _properties.xapiWhiteListProperties.URI, localTrace, localErrors);

  return localErrors;
}

function validateInteractionComponentArray(components, interactionType, allowedInteractionTypes, trace, errors) {
  var localErrors, localTrace, isAllowedComponentType, ids, perComponentTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.INTERACTION_COMPONENTS;
  isAllowedComponentType = allowedInteractionTypes.indexOf(interactionType) !== _general.xapiGeneral.NO_INDEX_FOUND;
  ids = [];

  if (isAllowedComponentType && components !== undefined) {
    if (components === null || !_utils.xapiValidationUtils.isArray(components)) {
      localErrors.push({
        trace: localTrace,
        message: _errors.xapiValidationErrors.INTERACTION_COMPONENT_SHOULD_BE_ARRAY,
        level: _errors.xapiErrorLevels.SHOULD_VIOLATION
      });
    } else {
      components.forEach(function (interactionComponent, i) {
        perComponentTrace = _utils.xapiValidationUtils.addLookupToTrace(localTrace, i);

        if (!_utils.xapiValidationUtils.isNonNullMapObject(interactionComponent)) {
          localErrors.push({
            trace: perComponentTrace,
            message: _errors.xapiValidationErrors.INTERACTION_COMPONENT_MUST_NOT_BE_NULL,
            level: _errors.xapiErrorLevels.MUST_VIOLATION
          });
        } else {
          validatePropertyIsString(interactionComponent, _properties.properties.ID, perComponentTrace, localErrors, /*isRequired*/true, _errors.xapiErrorLevels.MUST_VIOLATION);
          if (ids.indexOf(interactionComponent.id) !== _general.xapiGeneral.NO_INDEX_FOUND) {
            localErrors.push({
              trace: _utils.xapiValidationUtils.addPropToTrace(perComponentTrace, _properties.properties.ID),
              message: _errors.xapiValidationErrors.ID_MUST_BE_UNIQUE,
              level: _errors.xapiErrorLevels.MUST_VIOLATION
            });
          } else {
            ids.push(interactionComponent.id);
          }

          if (interactionComponent.id && _regex.xapiValidationRegex.CONTAINS_WHITESPACE.test(interactionComponent.id)) {
            localErrors.push({
              trace: _utils.xapiValidationUtils.addPropToTrace(perComponentTrace, _properties.properties.ID),
              message: _errors.xapiValidationErrors.ID_SHOULD_NOT_CONTAIN_WHITESPACES,
              level: _errors.xapiErrorLevels.SHOULD_VIOLATION
            });
          }

          validateLanguageMap(interactionComponent.description, _utils.xapiValidationUtils.addPropToTrace(perComponentTrace, _properties.properties.DESCRIPTION), localErrors);
          validateAbsenceOfNonWhitelistedProperties(interactionComponent, _properties.xapiWhiteListProperties.COMPONENT_ARRAY, perComponentTrace, localErrors);
        }
      });
    }
  } else if (interactionType && components) {
    localErrors.push({
      trace: localTrace,
      message: _errors.xapiValidationErrors.INTERACTION_TYPE_MUST_BE_VALID + ' ' + interactionType,
      level: _errors.xapiErrorLevels.SHOULD_VIOLATION
    });
  }

  return localErrors;
}

function validateActivityDefintion(definition, trace, errors) {
  var localErrors, localTrace, correctResponsesPatternTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.DEFINITION;
  correctResponsesPatternTrace = _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.CORRECT_RESPONSES_PATTERN);

  if (!_utils.xapiValidationUtils.isNonNullMapObject(definition)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace),
      message: _errors.xapiValidationErrors.DEFINITIONS_MUST_BE_OBJECTS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  validateLanguageMap(definition.name, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.NAME), localErrors);
  validateLanguageMap(definition.description, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DESCRIPTION), localErrors);

  validatePropertyIsUri(definition, _properties.properties.TYPE, localTrace, localErrors, /*isRequired*/false);
  validatePropertyIsUrl(definition, _properties.properties.MORE_INFO, localTrace, localErrors, /*isRequired*/false);
  validateExtensions(definition.extensions, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.EXTENSIONS), localErrors);

  if (definition.interactionType !== undefined) {
    if (definition.type !== _general.xapiGeneral.INTERACTION_DEFINITION_TYPE) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.TYPE),
        message: _errors.xapiValidationErrors.INTERACTION_ACTIVITY_SHOULD_HAVE + ' "' + _general.xapiGeneral.INTERACTION_DEFINITION_TYPE + '"',
        level: _errors.xapiErrorLevels.SHOULD_VIOLATION
      });
    }

    if (_interactionTypes.xapiValidationInteractionTypes.indexOf(definition.interactionType) === _general.xapiGeneral.NO_INDEX_FOUND) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.INTERACTION_TYPE),
        message: _errors.xapiValidationErrors.INTERACTION_TYPE_MUST_BE_CMI,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  if (definition.correctResponsesPattern !== undefined) {
    if (!_utils.xapiValidationUtils.isArray(definition.correctResponsesPattern)) {
      localErrors.push({
        trace: correctResponsesPatternTrace,
        message: _errors.xapiValidationErrors.CORRECT_RESPONSES_PATTERN_MUST_BE_ARRAY,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    } else {
      definition.correctResponsesPattern.forEach(function (response, i) {
        if (response === null || response === undefined || !_utils.xapiValidationUtils.isString(response)) {
          localErrors.push({
            trace: _utils.xapiValidationUtils.addLookupToTrace(correctResponsesPatternTrace, i),
            message: _errors.xapiValidationErrors.CORRECT_RESPONSES_PATTERN_MUST_BE_STRINGS,
            level: _errors.xapiErrorLevels.MUST_VIOLATION
          });
        }
      });
    }
  }

  validateInteractionComponentArray(definition.choices, definition.interactionType, [_properties.properties.CHOICE, _properties.properties.SEQUENCING], _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.CHOICES), localErrors);

  validateInteractionComponentArray(definition.scale, definition.interactionType, [_properties.properties.LIKERT], _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.SCALE), localErrors);

  validateInteractionComponentArray(definition.source, definition.interactionType, [_properties.properties.MATCHING], _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.SOURCE), localErrors);

  validateInteractionComponentArray(definition.target, definition.interactionType, [_properties.properties.MATCHING], _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.TARGET), localErrors);

  validateInteractionComponentArray(definition.steps, definition.interactionType, [_properties.properties.PERFORMANCE], _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.STEPS), localErrors);

  validateAbsenceOfNonWhitelistedProperties(definition, _properties.xapiWhiteListProperties.ACTIVITY_DEFINITION, localTrace, localErrors);
  return localErrors;
}

function validateActivity(activity, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.ACTIVITY;

  if (!_utils.xapiValidationUtils.isNonNullMapObject(activity)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.ACTIVITIES_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  validatePropertyIsUri(activity, _properties.properties.ID, localTrace, localErrors, /*isRequired*/true);

  if (activity.definition !== undefined) {
    validateActivityDefintion(activity.definition, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DEFINITION), localErrors);
  }

  validateAbsenceOfNonWhitelistedProperties(activity, _properties.xapiWhiteListProperties.ACTIVITY, localTrace, localErrors);

  return localErrors;
}

function validateStatementRef(statementRef, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.STATEMENT_REF;

  if (!_utils.xapiValidationUtils.isNonNullMapObject(statementRef)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.STATEMENT_REF_MUST_NOT_BE_NULL_MAP_OBJECTS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
    return localErrors;
  }

  if (statementRef.objectType !== _properties.objectTypes.STATEMENT_REF) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.OBJECT_TYPE),
      message: _errors.xapiValidationErrors.OBJECT_TYPE_MUST_BE_STATEMENT_REF,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (!statementRef.id || !_regex.xapiValidationRegex.UUID.test(statementRef.id)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.ID),
      message: _errors.xapiValidationErrors.ID_MUST_BE_VALID_UUID_REF,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  validateAbsenceOfNonWhitelistedProperties(statementRef, _properties.xapiWhiteListProperties.STATEMENT_REF, localTrace, localErrors);

  return localErrors;
}

function validateScore(score, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.SCORE;

  if (score === undefined) {
    return localErrors;
  }

  validatePropertyIsNumber(score, _properties.properties.SCALED, localTrace, localErrors, /*isRequired*/false);

  if (score.scaled !== undefined) {
    if (score.scaled < _general.xapiGeneral.MIN_SCALED_VALUE || score.scaled > _general.xapiGeneral.MAX_SCALED_VALUE) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.SCALED),
        message: _errors.xapiValidationErrors.SCALED_MUST_BE_BETWEEN_0_1,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  if (score.min !== undefined) {
    validatePropertyIsNumber(score, _properties.properties.MIN, localTrace, localErrors, /*isRequired*/false);

    if (score.raw !== undefined && score.raw < score.min) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.RAW),
        message: _errors.xapiValidationErrors.RAW_MUST_BE_GREATER_THAN_MIN,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }

    if (score.max !== undefined && score.max < score.min) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.MAX),
        message: _errors.xapiValidationErrors.MAX_MUST_BE_GREATER_THAN_MIN,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  if (score.max !== undefined) {
    validatePropertyIsNumber(score, _properties.properties.MAX, localTrace, localErrors, /*isRequired*/false);

    if (score.raw !== undefined && score.raw > score.max) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.RAW),
        message: _errors.xapiValidationErrors.RAW_MUST_BE_LESS_THAN_MAX,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  validatePropertyIsNumber(score, _properties.properties.RAW, localTrace, localErrors, /*isRequired*/false);
  validateAbsenceOfNonWhitelistedProperties(score, _properties.xapiWhiteListProperties.SCORE, localTrace, localErrors);

  return localErrors;
}

function validateResult(result, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.RESULT;

  if (result === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(result)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace),
      message: _errors.xapiValidationErrors.RESULT_MUST_BE_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  validateScore(result.score, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.SCORE), localErrors);
  validatePropertyIsBoolean(result, _properties.properties.SUCCESS, localTrace, localErrors, /*isRequired*/false);
  validatePropertyIsBoolean(result, _properties.properties.COMPLETION, localTrace, localErrors, /*isRequired*/false);
  validatePropertyIsString(result, _properties.properties.RESPONSE, localTrace, localErrors, /*isRequired*/false);
  validateExtensions(result.extensions, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.EXTENSIONS), localErrors);

  if (result.duration !== undefined && (result.duration === null || !_utils.xapiValidationUtils.isString(result.duration) || !_regex.xapiValidationRegex.ISO_8601_DURATION.test(result.duration))) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DURATION),
      message: _errors.xapiValidationErrors.DURATION_MUST_BE_VALID,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  validateAbsenceOfNonWhitelistedProperties(result, _properties.xapiWhiteListProperties.RESULT, localTrace, localErrors);

  return localErrors;
}

function validatePropertyIsISO8601String(parent, propertyName, trace, errors) {
  var localErrors, localTrace, matched, datetime;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.DATE_TIME;
  datetime = parent[propertyName];

  if (datetime === undefined) {
    return localErrors;
  }

  if (datetime === null || !_utils.xapiValidationUtils.isString(datetime)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: propertyName + ' ' + _errors.xapiValidationErrors.MUST_BE_STRING,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  matched = _regex.xapiValidationRegex.ISO_8601_DATE_TIME.exec(datetime);

  if (matched) {
    if (!dateIncludesZoneInformation(matched)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
        message: _errors.xapiValidationErrors.DATE_SHOULD_INCLUDE_ZONE_INFORMATION,
        level: _errors.xapiErrorLevels.SHOULD_VIOLATION
      });
    }
  } else {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, propertyName),
      message: _errors.xapiValidationErrors.DATE_MUST_BE_VALID,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  return localErrors;
}

function validateVersion(version, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.VERSION;

  if (version === undefined) {
    return localErrors;
  }

  if (version === null || !_utils.xapiValidationUtils.isString(version) || !_regex.xapiValidationRegex.SEMVER_1_P_0_P_0.test(version)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.VERSION_MUST_COMPLY_SEMANTIC_VERSIONING,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  return localErrors;
}

function validateAttachmentObject(attachment, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.ATTACHMENT;

  if (!_utils.xapiValidationUtils.isNonNullMapObject(attachment)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.ATTACHMENTS_MUST_NOT_BE_NULL_MAP_OBJECTS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (attachment.display === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.DISPLAY),
      message: _errors.xapiValidationErrors.DISPLAY_SHOULD_BE_PROVIDED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  } else {
    validateLanguageMap(attachment.display, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DISPLAY), localErrors);
  }

  validateLanguageMap(attachment.description, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.DESCRIPTION), localErrors);
  validatePropertyIsUri(attachment, _properties.properties.USAGE_TYPE, localTrace, localErrors, /*isRequired*/true, _errors.xapiErrorLevels.MUST_VIOLATION);
  validatePropertyIsUri(attachment, _properties.properties.FILE_URL, localTrace, localErrors, /*isRequired*/false, _errors.xapiErrorLevels.MUST_VIOLATION);

  // TODO - more complete validation for Internet Media Type via RFC 2046
  validatePropertyIsString(attachment, _properties.properties.CONTENT_TYPE, localTrace, localErrors, /*isRequired*/true, _errors.xapiErrorLevels.MUST_VIOLATION);

  if (attachment.length === undefined || attachment.length === null || !_utils.xapiValidationUtils.isNumber(attachment.length) || attachment.length % 1 !== 0) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.LENGTH),
      message: _errors.xapiValidationErrors.LENGTH_MUST_BE_INTEGER,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (attachment.sha2 === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.SHA2),
      message: _errors.xapiValidationErrors.SHA2_MUST_BE_PROVIDED_ON_ATTACHMENT_OBJECTS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  } else if (attachment.sha2 === null || !_utils.xapiValidationUtils.isString(attachment.sha2) || !_regex.xapiValidationRegex.BASE_64.test(attachment.sha2)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.SHA2),
      message: _errors.xapiValidationErrors.SHA2_MUST_CONTAIN_BASE_64_STRING,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  validateAbsenceOfNonWhitelistedProperties(attachment, _properties.xapiWhiteListProperties.ATTACHMENT, localTrace, localErrors);
  return localErrors;
}

function validateAttachments(attachments, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.ATTACHMENTS;

  if (attachments === undefined) {
    return localErrors;
  }

  if (attachments === null || !_utils.xapiValidationUtils.isArray(attachments)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.ATTACHMENTS_MUST_BE_NOT_NULL_ARRAY,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  attachments.forEach(function (attachment, i) {
    validateAttachmentObject(attachment, _utils.xapiValidationUtils.addLookupToTrace(localTrace, i), localErrors);
  });

  return localErrors;
}

function validateAgent(agent, trace, errors) {
  var localErrors, localTrace, ifiCount;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.AGENT;

  if (!_utils.xapiValidationUtils.isNonNullMapObject(agent)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.AGENT_MUST_BE_NON_NULL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
    return localErrors;
  }

  ifiCount = getIFICount(agent);

  if (ifiCount !== _general.xapiGeneral.NUMER_OF_SPECIFIED_IFI_PROPERTIES) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.AGENT_IFI_PROPERTIES_MUST_BE_SPECIFIED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (agent.objectType === _properties.objectTypes.GROUP) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.AGENT_MUST_NOT_HAVE_GROUP_CHARACTERISTICS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  validateIFIProperties(agent, localTrace, localErrors);
  validatePropertyIsString(agent, _properties.properties.NAME, localTrace, localErrors, /*isRequired*/false);

  validateAbsenceOfNonWhitelistedProperties(agent, _properties.xapiWhiteListProperties.AGENT, localTrace, localErrors);

  return localErrors;
}

function validateGroup(group, trace, errors) {
  var localErrors, localTrace, memberTrace, ifiCount;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.GROUP;
  memberTrace = _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.MEMBER);

  if (!_utils.xapiValidationUtils.isNonNullMapObject(group)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.GROUP_MUST_BE_NON_NULL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  ifiCount = getIFICount(group);

  if (ifiCount === 0) {
    if (group.member === null || group.member === undefined) {
      localErrors.push({
        trace: memberTrace,
        message: _errors.xapiValidationErrors.MEMBER_MUST_BE_PROVIDED_FOR_ANONYMOUS_GROUPS,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  } else if (ifiCount > _general.xapiGeneral.NUMER_OF_SPECIFIED_IFI_PROPERTIES) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.GROUP_IFI_PROPERTIES_MUST_BE_SPECIFIED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  validateIFIProperties(group, localTrace, localErrors);

  validatePropertyIsString(group, _properties.properties.NAME, localTrace, localErrors, /*isRequired*/false);

  if (group.member !== undefined) {
    if (group.member === null || !_utils.xapiValidationUtils.isArray(group.member)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.MEMBER),
        message: _errors.xapiValidationErrors.GROUP_MEMBER_MUST_BE_ARRAY,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    } else {
      group.member.forEach(function (member, i) {
        validateAgent(member, _utils.xapiValidationUtils.addLookupToTrace(memberTrace, i), localErrors);
      });
    }
  }

  validateAbsenceOfNonWhitelistedProperties(group, _properties.xapiWhiteListProperties.GROUP, localTrace, localErrors);

  return localErrors;
}

function validateActor(actor, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.ACTOR;

  if (actor === null || actor === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.ACTOR_MUST_BE_PROVIDED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (_utils.xapiValidationUtils.isGroup(actor, _properties.objectTypes.GROUP)) {
    validateGroup(actor, localTrace, localErrors);
  } else {
    validateAgent(actor, localTrace, localErrors);
  }

  return localErrors;
}

function validateAuthority(authority, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.AUTHORITY;

  if (authority === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(authority)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.AUTHORITY_MUST_BE_NON_NULL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }
  if (_utils.xapiValidationUtils.isGroup(authority, _properties.objectTypes.GROUP)) {
    validateGroup(authority, localTrace, localErrors);
    if (!authority.member || !authority.member.length || authority.member.length !== _general.xapiGeneral.GROUP_AUTHORITY_AGENT_MEMBERS) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.MEMBER),
        message: _errors.xapiValidationErrors.GROUP_AUTHORITY_AGENT_MEMBERS_MUST_BE_TWO,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  } else {
    validateAgent(authority, localTrace, localErrors);
  }

  return localErrors;
}

function validateContextActivitySubContext(subContext, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.SUB_CONTEXT;

  if (subContext === undefined) {
    return localErrors;
  }

  if (subContext === null) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.CONTEXT_ACTIVITIES_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  } else if (_utils.xapiValidationUtils.isArray(subContext)) {
    subContext.forEach(function (activity, i) {
      validateActivity(activity, _utils.xapiValidationUtils.addLookupToTrace(localTrace, i), localErrors);
    });
  } else if (_utils.xapiValidationUtils.isObject(subContext)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.CONTEXT_ACTIVITIES_SHOULD_BE_AN_ARRAY,
      level: _errors.xapiErrorLevels.SHOULD_VIOLATION
    });

    validateActivity(subContext, localTrace, localErrors);
  } else {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.CONTEXT_ACTIVITIES_MUST_BE_ARRAY_OR_ACTIVITY_OBJ,
      level: _errors.xapiErrorLevels.MUST_VIOLATION });
  }
  return localErrors;
}

function validateContextActivities(contextActivities, trace, errors) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.CONTEXT_ACTIVITIES;

  if (contextActivities === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(contextActivities)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.CONTEXT_ACTIVITIES_MUST_BE_NON_NULL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
    return localErrors;
  }

  validateContextActivitySubContext(contextActivities.parent, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.PARENT), localErrors);
  validateContextActivitySubContext(contextActivities.grouping, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.GROUPING), localErrors);
  validateContextActivitySubContext(contextActivities.category, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.CATEGORY), localErrors);
  validateContextActivitySubContext(contextActivities.other, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.OTHER), localErrors);

  validateAbsenceOfNonWhitelistedProperties(contextActivities, _properties.xapiWhiteListProperties.CONTEXT_ACTIVITIES, localTrace, localErrors);

  return localErrors;
}

function validateContext(context, trace, errors, statementObjectObjectType) {
  var localErrors, localTrace;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.CONTEXT;

  if (context === undefined) {
    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(context)) {
    localErrors.push({
      trace: localTrace,
      message: _errors.xapiValidationErrors.CONTEXT_MUST_BE_NON_NUL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (context.registration !== undefined && (context.registration === null || !_utils.xapiValidationUtils.isString(context.registration) || !_regex.xapiValidationRegex.UUID.test(context.registration))) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.REGISTRATION),
      message: _errors.xapiValidationErrors.REGISTRATION_MUST_BE_UUID_STRING,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if ([_properties.objectTypes.GROUP, _properties.objectTypes.AGENT].indexOf(statementObjectObjectType) !== _general.xapiGeneral.NO_INDEX_FOUND) {
    if (context.revision !== undefined) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.REVISION),
        message: _errors.xapiValidationErrors.REVISION_MUST_BE_AGENT_OR_GROUP,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }

    if (context.platform !== undefined) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.PLATFORM),
        message: _errors.xapiValidationErrors.PLATFORM_MUST_NOT_BE_USED_WITH_REVISION_AGENT_OR_GROUP,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  }

  validatePropertyIsString(context, _properties.properties.REVISION, localTrace, localErrors, /*isRequired*/false, _errors.xapiErrorLevels.MUST_VIOLATION);
  validatePropertyIsString(context, _properties.properties.PLATFORM, localTrace, localErrors, /*isRequired*/false, _errors.xapiErrorLevels.MUST_VIOLATION);

  if (context.team !== undefined) {
    validateGroup(context.team, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.TEAM), localErrors);
  }

  if (context.contextActivities !== undefined) {
    validateContextActivities(context.contextActivities, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.CONTEXT_ACTIVITIES), localErrors);
  }

  if (context.language !== undefined && !_utils.xapiValidationUtils.isValidLanguageTag(context.language, _regex.xapiValidationRegex.BCP_47)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.LANGUAGE),
      message: _errors.xapiValidationErrors.LANGUAGE_MUST_BE_STRING,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (context.statement !== undefined) {
    validateStatementRef(context.statement, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.STATEMENT), localErrors);
  }

  if (context.instructor !== undefined) {
    if (_utils.xapiValidationUtils.isGroup(context.instructor, _properties.objectTypes.GROUP)) {
      validateGroup(context.instructor, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.INSTRUCTOR), localErrors);
    } else {
      validateAgent(context.instructor, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.INSTRUCTOR), localErrors);
    }
  }

  validateExtensions(context.extensions, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.EXTENSIONS), localErrors);
  validateAbsenceOfNonWhitelistedProperties(context, _properties.xapiWhiteListProperties.EXTENSIONS, localTrace, localErrors);

  return localErrors;
}

function validateObject(object, trace, errors, isWithinSubStatement) {
  var localErrors, localTrace, objectType;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.OBJECT;

  if (object === undefined) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.OBJECT_MUST_BE_DEFINED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (!_utils.xapiValidationUtils.isNonNullMapObject(object)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.OBJECT_MUST_BE_NON_NULL_MAP_OBJECT,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  validatePropertyIsString(object, _properties.properties.OBJECT_TYPE, localTrace, localErrors, /*isRequired*/true, _errors.xapiErrorLevels.SHOULD_VIOLATION);

  objectType = object.objectType || _properties.objectTypes.ACTIVITY;

  switch (objectType) {
    case _properties.objectTypes.ACTIVITY:
      validateActivity(object, localTrace, localErrors);
      break;
    case _properties.objectTypes.AGENT:
      validateAgent(object, localTrace, localErrors);
      break;
    case _properties.objectTypes.GROUP:
      validateGroup(object, localTrace, localErrors);
      break;
    case _properties.objectTypes.STATEMENT_REF:
      validateStatementRef(object, localTrace, localErrors);
      break;
    case _properties.objectTypes.SUB_STATEMENT:
      if (isWithinSubStatement) {
        localErrors.push({
          trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.OBJECT_TYPE),
          message: _errors.xapiValidationErrors.SUB_STATEMENT_MUST_NOT_CONTAIN_SUB_STATEMENT,
          level: _errors.xapiErrorLevels.MUST_VIOLATION
        });
      }
      validate(object, localTrace, localErrors, /*isSubStatement*/true);
      break;
    default:
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.OBJECT_TYPE),
        message: _errors.xapiValidationErrors.OBJECT_TYPE_MUST_BE_VALID_OPTION + ' ' + _properties.xApiValidObjectTypes.toString(),
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
  }

  return localErrors;
}

function validate(statement, trace, errors, isSubStatement) {
  var localErrors, localTrace, statementObjectObjectType, whitelistedProperties;

  localErrors = errors || [];
  localTrace = trace || _properties.properties.STATEMENT;

  whitelistedProperties = _properties.xapiWhiteListProperties.STATEMENT;

  if (!_utils.xapiValidationUtils.isNonNullMapObject(statement)) {
    localErrors.push({
      trace: _utils.xapiValidationUtils.localTraceToString(localTrace),
      message: _errors.xapiValidationErrors.STATEMENT_REF_MUST_NOT_BE_NULL_MAP_OBJECTS,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });

    return localErrors;
  }

  if (!isSubStatement) {
    if (statement.id === null || statement.id === undefined || !_utils.xapiValidationUtils.isString(statement.id)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.ID),
        message: _errors.xapiValidationErrors.IDS_SHOULD_BE_GENERATED_BY_LRS,
        level: _errors.xapiErrorLevels.SHOULD_VIOLATION
      });
    } else if (!_regex.xapiValidationRegex.UUID.test(statement.id)) {
      localErrors.push({
        trace: _utils.xapiValidationUtils.localTraceToString(localTrace, _properties.properties.ID),
        message: _errors.xapiValidationErrors.ID_MUST_BE_VALID,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }
  } else {
    whitelistedProperties = _properties.xapiWhiteListProperties.SUB_STATEMENT;
  }

  validateActor(statement.actor, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.ACTOR), localErrors);
  validateVerb(statement.verb, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.VERB), localErrors);
  validateObject(statement.object, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.OBJECT), localErrors, isSubStatement);
  validateResult(statement.result, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.RESULT), localErrors);

  statementObjectObjectType = statement.object && statement.object.objectType ? statement.object.objectType : _properties.objectTypes.ACTIVITY;

  validateContext(statement.context, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.CONTEXT), localErrors, statementObjectObjectType);
  validatePropertyIsISO8601String(statement, _properties.properties.TIMESTAMP, localTrace, localErrors);
  validatePropertyIsISO8601String(statement, _properties.properties.STORED, localTrace, localErrors);

  validateAuthority(statement.authority, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.AUTHORITY), localErrors);
  validateVersion(statement.version, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.VERSION), localErrors);
  validateAttachments(statement.attachments, _utils.xapiValidationUtils.addPropToTrace(localTrace, _properties.properties.ATTACHMENTS), localErrors);

  validateAbsenceOfNonWhitelistedProperties(statement, whitelistedProperties, localTrace, localErrors);

  return localErrors;
}

function makeStatementReport(statement) {
  var localErrors;

  localErrors = [];
  validate(statement, _properties.properties.STATEMENT, localErrors, /*isRequired*/false);

  return makeV1Report(statement, localErrors);
}

function validateAmbiguousTypeStatement(statement) {
  var statementObject;

  if (statement === undefined) {
    return makeV1SingleErrorReport( /*instance*/null, {
      trace: _properties.properties.STATEMENT,
      message: _errors.xapiValidationErrors.STATEMENT_ARGUMENT_MUST_BE_PROVIDED,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (statement === null) {
    return makeV1SingleErrorReport( /*instance*/null, {
      trace: _properties.properties.STATEMENT,
      message: _errors.xapiValidationErrors.STATEMENT_MUST_NOT_BE_NULL,
      level: _errors.xapiErrorLevels.MUST_VIOLATION
    });
  }

  if (_utils.xapiValidationUtils.isString(statement)) {
    try {
      statementObject = JSON.parse(statement);
      if (statementObject === null || !_utils.xapiValidationUtils.isObject(statementObject) || _utils.xapiValidationUtils.isArray(statementObject)) {
        return makeV1SingleErrorReport(statementObject, {
          trace: _properties.properties.STATEMENT,
          message: _errors.xapiValidationErrors.STATEMENT_MUST_BE_PARSED_CORRECTLY,
          level: _errors.xapiErrorLevels.MUST_VIOLATION
        });
      }
    } catch (e) {
      return makeV1SingleErrorReport(statementObject, {
        trace: _properties.properties.STATEMENT,
        message: _errors.xapiValidationErrors.INVALID_JSON + ': ' + e.message,
        level: _errors.xapiErrorLevels.MUST_VIOLATION
      });
    }

    return makeStatementReport(statementObject);
  }

  if (_utils.xapiValidationUtils.isObject(statement) && !_utils.xapiValidationUtils.isArray(statement)) {
    return makeStatementReport(statement);
  }

  return makeV1SingleErrorReport( /*instance*/null, {
    trace: _properties.properties.STATEMENT,
    message: _errors.xapiValidationErrors.STATEMENT_ARGUMENT_IS_NOT_VALID,
    level: _errors.xapiErrorLevels.MUST_VIOLATION
  });
}

function dateIncludesZoneInformation(matched) {
  return matched[_regex.dateFormatRegexPositions.ZONE] || matched[_regex.dateFormatRegexPositions.RELATIVE_TIME] && matched[_regex.dateFormatRegexPositions.TIME_ZONE_HOUR];
}

xapiValidation = {
  validateStatement: validateAmbiguousTypeStatement
};

module.exports = xapiValidation;

},{"./constants/errors":1,"./constants/general":2,"./constants/interaction-types":3,"./constants/properties":4,"./constants/regex":5,"./utils/utils":6}]},{},[7])(7)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29uc3RhbnRzL2Vycm9ycy5qcyIsInNyYy9jb25zdGFudHMvZ2VuZXJhbC5qcyIsInNyYy9jb25zdGFudHMvaW50ZXJhY3Rpb24tdHlwZXMuanMiLCJzcmMvY29uc3RhbnRzL3Byb3BlcnRpZXMuanMiLCJzcmMvY29uc3RhbnRzL3JlZ2V4LmpzIiwic3JjL3V0aWxzL3V0aWxzLmpzIiwic3JjL3hhcGlWYWxpZGF0b3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7Ozs7QUFFQSxJQUFNLGtCQUFrQixPQUFPLE1BQVAsQ0FBYztBQUNwQyxpQkFBa0IsZUFEa0I7QUFFcEMsa0JBQWtCLGdCQUZrQjtBQUdwQyxvQkFBa0I7QUFIa0IsQ0FBZCxDQUF4Qjs7QUFNQSxJQUFNLHVCQUF1QixPQUFPLE1BQVAsQ0FBYztBQUN6QywyQ0FBa0QseUNBRFQ7QUFFekMsMEJBQWtELHlCQUZUO0FBR3pDLDBDQUFrRCxzRkFIVDtBQUl6QyxxQ0FBa0QsdUNBSlQ7QUFLekMsNkNBQWtELDRFQUxUO0FBTXpDLHNDQUFrRCx5Q0FOVDtBQU96Qyw0Q0FBa0Qsc0RBUFQ7QUFRekMseUNBQWtELHFFQVJUO0FBU3pDLG9EQUFrRCxzR0FUVDtBQVV6QyxrREFBa0QsaUVBVlQ7QUFXekMsdUNBQWtELHdEQVhUO0FBWXpDLHlDQUFrRCxxSEFaVDtBQWF6QyxzQ0FBa0QsbUVBYlQ7QUFjekMsMkNBQWtELDhFQWRUO0FBZXpDLDZDQUFrRCxrREFmVDtBQWdCekMsc0JBQWtELDRFQWhCVDtBQWlCekMsd0NBQWtELG1GQWpCVDtBQWtCekMsK0JBQWtELGtEQWxCVDtBQW1CekMsOEJBQWtELHdDQW5CVDtBQW9CekMsMEJBQWtELHdFQXBCVDtBQXFCekMsK0JBQWtELG9FQXJCVDtBQXNCekMsNkNBQWtELHNJQXRCVDtBQXVCekMsMENBQWtELHFGQXZCVDtBQXdCekMsOEJBQWtELDZEQXhCVDtBQXlCekMscUNBQWtELHVDQXpCVDtBQTBCekMscUJBQWtELHdFQTFCVDtBQTJCekMsNkJBQWtELGtGQTNCVDtBQTRCekMsb0JBQWtELHlCQTVCVDtBQTZCekMscUNBQWtELHlFQTdCVDtBQThCekMsa0NBQWtELG9GQTlCVDtBQStCekMsd0JBQWtELHFGQS9CVDtBQWdDekMsaUNBQWtELDZGQWhDVDtBQWlDekMsb0NBQWtELGlFQWpDVDtBQWtDekMsMENBQWtELDRFQWxDVDtBQW1DekMseUNBQWtELG9FQW5DVDtBQW9DekMsZ0NBQWtELGdGQXBDVDtBQXFDekMsa0NBQWtELHdHQXJDVDtBQXNDekMsZ0JBQWtELGtEQXRDVDtBQXVDekMsNEJBQWtELDRDQXZDVDtBQXdDekMsbUNBQWtELHlEQXhDVDtBQXlDekMsa0NBQWtELDJEQXpDVDtBQTBDekMsMkJBQWtELHFGQTFDVDtBQTJDekMsMEJBQWtELDBEQTNDVDtBQTRDekMsZ0NBQWtELHdGQTVDVDtBQTZDekMsZ0RBQWtELDBEQTdDVDtBQThDekMsMkJBQWtELHVEQTlDVDtBQStDekMsbUJBQWtELDBDQS9DVDtBQWdEekMsc0JBQWtELHVFQWhEVDtBQWlEekMsMEJBQWtELHNEQWpEVDtBQWtEekMsa0JBQWtELHlDQWxEVDtBQW1EekMsbUJBQWtELHNEQW5EVDtBQW9EekMsa0JBQWtELHlDQXBEVDtBQXFEekMsdUJBQWtELDBEQXJEVDtBQXNEekMsc0JBQWtELDZDQXREVDtBQXVEekMsMEJBQWtELHFDQXZEVDtBQXdEekMsc0NBQWtELGtEQXhEVDtBQXlEekMscUNBQWtELHFGQXpEVDtBQTBEekMsb0NBQWtELHFEQTFEVDtBQTJEekMsZ0NBQWtELHdGQTNEVDtBQTREekMsNkJBQWtELHFGQTVEVDtBQTZEekMsb0NBQWtELDhEQTdEVDtBQThEekMsNkJBQWtELDZDQTlEVDtBQStEekMsbUNBQWtELHlGQS9EVDtBQWdFekMsOEJBQWtELCtEQWhFVDtBQWlFekMsK0NBQWtELHdEQWpFVDtBQWtFekMsb0NBQWtELDREQWxFVDtBQW1FekMsbUNBQWtELDRFQW5F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QyxLQUNFLFFBQVEsZ0NBQXlCLGFBQWpDLEtBQW1ELFFBQVEsZ0NBQXlCLGNBQWpDLENBRDVEO0FBRUQ7O0FBRUQsaUJBQWlCO0FBQ2YscUJBQW1CO0FBREosQ0FBakI7O0FBSUEsT0FBTyxPQUFQLEdBQWlCLGNBQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgeGFwaUVycm9yTGV2ZWxzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIE1BWV9WSU9MQVRJT046ICAgICdNQVlfVklPTEFUSU9OJyxcbiAgTVVTVF9WSU9MQVRJT046ICAgJ01VU1RfVklPTEFUSU9OJyxcbiAgU0hPVUxEX1ZJT0xBVElPTjogJ1NIT1VMRF9WSU9MQVRJT04nXG59KTtcblxuY29uc3QgeGFwaVZhbGlkYXRpb25FcnJvcnMgPSBPYmplY3QuZnJlZXplKHtcbiAgQUNUSVZJVElFU19NVVNUX05PVF9CRV9OVUxMX01BUF9PQkpFQ1RTOiAgICAgICAgICAnQWN0aXZpdGllcyBtdXN0IGJlIG5vbi1udWxsIG1hcCBvYmplY3RzJyxcbiAgQUNUT1JfTVVTVF9CRV9QUk9WSURFRDogICAgICAgICAgICAgICAgICAgICAgICAgICAnQWN0b3IgbXVzdCBiZSBwcm92aWRlZC4nLFxuICBBR0VOVF9JRklfUFJPUEVSVElFU19NVVNUX0JFX1NQRUNJRklFRDogICAgICAgICAgICdFeGFjdGx5IG9uZSBJbnZlcnNlIEZ1bmN0aW9uYWwgSWRlbnRpZmllciBwcm9wZXJ0eSBtdXN0IGJlIHNwZWNpZmllZCBmb3IgYW4gXCJhZ2VudFwiLicsXG4gIEFHRU5UX01VU1RfQkVfTk9OX05VTExfTUFQX09CSkVDVDogICAgICAgICAgICAgICAgJ1wiYWdlbnRcIiBtdXN0IGJlIGEgbm9uLW51bGwgbWFwIG9iamVjdCcsXG4gIEFHRU5UX01VU1RfTk9UX0hBVkVfR1JPVVBfQ0hBUkFDVEVSSVNUSUNTOiAgICAgICAgJ0ludmFsaWQgb2JqZWN0IHdpdGggY2hhcmFjdGVyaXN0aWNzIG9mIGEgR3JvdXAgd2hlbiBhbiBBZ2VudCB3YXMgZXhwZWN0ZWQuJyxcbiAgQVRUQUNITUVOVFNfTVVTVF9CRV9OT1RfTlVMTF9BUlJBWTogICAgICAgICAgICAgICAnXCJhdHRhY2htZW50c1wiIG11c3QgYmUgYSBub24tbnVsbCBBcnJheS4nLFxuICBBVFRBQ0hNRU5UU19NVVNUX05PVF9CRV9OVUxMX01BUF9PQkpFQ1RTOiAgICAgICAgICdcImF0dGFjaG1lbnRcIiBpbnN0YW5jZXMgbXVzdCBiZSBub24tbnVsbCBtYXAgb2JqZWN0cy4nLFxuICBBVVRIT1JJVFlfTVVTVF9CRV9OT05fTlVMTF9NQVBfT0JKRUNUOiAgICAgICAgICAgICdJZiBwcmVzZW50LCB0aGUgXCJhdXRob3JpdHlcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uLW51bGwgbWFwIG9iamVjdC4nLFxuICBDT05URVhUX0FDVElWSVRJRVNfTVVTVF9CRV9BUlJBWV9PUl9BQ1RJVklUWV9PQko6ICdDb250ZXh0IEFjdGl2aXRpZXMgcHJvcGVydHkgdmFsdWVzIG11c3QgYmUgYW4gYXJyYXkgb2YgQWN0aXZpdHkgT2JqZWN0cyBvciBhIHNpbmdsZSBBY3Rpdml0eSBPYmplY3QuJyxcbiAgQ09OVEVYVF9BQ1RJVklUSUVTX01VU1RfQkVfTk9OX05VTExfTUFQX09CSkVDVDogICAnVGhlIENvbnRleHQgQWN0aXZpdGllcyBpbnN0YW5jZXMgbXVzdCBiZSBhIG5vbi1udWxsIG1hcCBvYmplY3QuJyxcbiAgQ09OVEVYVF9BQ1RJVklUSUVTX01VU1RfTk9UX0JFX05VTEw6ICAgICAgICAgICAgICAnXCJDb250ZXh0IEFjdGl2aXRpZXNcIiBwcm9wZXJ0eSB2YWx1ZXMgbXVzdCBub3QgYmUgbnVsbC4nLFxuICBDT05URVhUX0FDVElWSVRJRVNfU0hPVUxEX0JFX0FOX0FSUkFZOiAgICAgICAgICAgICdDb250ZXh0IEFjdGl2aXRpZXMgcHJvcGVydHkgdmFsdWVzIHNob3VsZCBwcmVmZXIgdG8gYmUgYW4gYXJyYXkgb2YgQWN0aXZpdGllcyByYXRoZXIgdGhhbiBhIHNpbmdsZSBBY3Rpdml0eSBvYmplY3QuJyxcbiAgQ09OVEVYVF9NVVNUX0JFX05PTl9OVUxfTUFQX09CSkVDVDogICAgICAgICAgICAgICAnSWYgcHJlc2VudCwgdGhlIFwiY29udGV4dFwiIHByb3BlcnR5IG11c3QgYmUgYSBub24tbnVsbCBtYXAgb2JqZWN0LicsXG4gIENPUlJFQ1RfUkVTUE9OU0VTX1BBVFRFUk5fTVVTVF9CRV9BUlJBWTogICAgICAgICAgJ0lmIHByZXNlbnQsIHRoZSBcImNvcnJlY3RSZXNwb25zZXNQYXR0ZXJuXCIgdmFsdWUgbXVzdCBiZSBhbiBBcnJheSBvZiBzdHJpbmdzLicsXG4gIENPUlJFQ1RfUkVTUE9OU0VTX1BBVFRFUk5fTVVTVF9CRV9TVFJJTkdTOiAgICAgICAgJ1wiY29ycmVjdFJlc3BvbnNlc1BhdHRlcm5cIiBpdGVtcyBtdXN0IGJlIHN0cmluZ3MuJyxcbiAgREFURV9NVVNUX0JFX1ZBTElEOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhpcyBwcm9wZXJ0eXMgc3RyaW5nIHZhbHVlIG11c3QgYmUgY29uZm9ybWFudCB0byBJU08gODYwMSBmb3IgRGF0ZSBUaW1lcy4nLFxuICBEQVRFX1NIT1VMRF9JTkNMVURFX1pPTkVfSU5GT1JNQVRJT046ICAgICAgICAgICAgICdJU08gODYwMSBkYXRlIHRpbWUgc3RyaW5ncyB1c2VkIGluIHRoZSB4QVBJIHNob3VsZCBpbmNsdWRlIHRpbWUgem9uZSBpbmZvcm1hdGlvbi4nLFxuICBERUZJTklUSU9OU19NVVNUX0JFX09CSkVDVFM6ICAgICAgICAgICAgICAgICAgICAgICdcImRlZmluaXRpb25zXCIsIHdoZW4gcHJlc2VudCwgbXVzdCBiZSBtYXAgb2JqZWN0cycsXG4gIERJU1BMQVlfU0hPVUxEX0JFX1BST1ZJREVEOiAgICAgICAgICAgICAgICAgICAgICAgJ1wiZGlzcGxheVwiIHByb3BlcnR5IHNob3VsZCBiZSBwcm92aWRlZC4nLFxuICBEVVJBVElPTl9NVVNUX0JFX1ZBTElEOiAgICAgICAgICAgICAgICAgICAgICAgICAgICdJZiBwcmVzZW50LCB0aGUgXCJkdXJhdGlvblwiIHByb3BlcnR5IHZhbHVlIG11c3QgYmUgYW4gSVNPIDg2MDEgZHVyYXRpb24nLFxuICBFWFRFTlNJT05TX01VU1RfTk9UX0JFX05VTEw6ICAgICAgICAgICAgICAgICAgICAgICdJZiBwcmVzZW50LCB0aGUgZXh0ZW5zaW9ucyBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uLW51bGwgbWFwIG9iamVjdC4nLFxuICBHUk9VUF9BVVRIT1JJVFlfQUdFTlRfTUVNQkVSU19NVVNUX0JFX1RXTzogICAgICAgICdJZiB1c2VkIGFzIGEgR3JvdXAsIHRoZSBcImF1dGhvcml0eVwiIHByb3BlcnR5IG11c3QgY29udGFpbiBhIFwibWVtYmVyXCIgcHJvcGVydHkgdGhhdCBpcyBhbiBhcnJheSBjb250YWluaW5nIGV4YWN0bHkgdHdvIEFnZW50IG9iamVjdHMuJyxcbiAgR1JPVVBfSUZJX1BST1BFUlRJRVNfTVVTVF9CRV9TUEVDSUZJRUQ6ICAgICAgICAgICAnRXhhY3RseSBvbmUgSW52ZXJzZSBGdW5jdGlvbmFsIElkZW50aWZpZXIgcHJvcGVydHkgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIGEgXCJncm91cFwiLicsXG4gIEdST1VQX01FTUJFUl9NVVNUX0JFX0FSUkFZOiAgICAgICAgICAgICAgICAgICAgICAgJ0lmIHByZXNlbnQsIHRoZSBtZW1iZXIgcHJvcGVydHkgb2YgYSBHcm91cCBtdXN0IGJlIGFuIEFycmF5JyxcbiAgR1JPVVBfTVVTVF9CRV9OT05fTlVMTF9NQVBfT0JKRUNUOiAgICAgICAgICAgICAgICAnXCJncm91cFwiIG11c3QgYmUgYSBub24tbnVsbCBtYXAgb2JqZWN0JyxcbiAgSURfTVVTVF9CRV9VTklRVUU6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCJpZFwiIHByb3BlcnRpZXMgbXVzdCBiZSB1bmlxdWUgd2l0aGluIGVhY2ggaW50ZXJhY3Rpb24gY29tcG9uZW50IGFycmF5JyxcbiAgSURfTVVTVF9CRV9WQUxJRF9VVUlEX1JFRjogICAgICAgICAgICAgICAgICAgICAgICAnXCJpZFwiIHByb3BlcnR5IHZhbHVlIG11c3QgYmUgYSB2YWxpZCBVVUlEIHN0cmluZyBmb3Igc3RhdGVtZW50IHJlZmVyZW5jZSBvYmplY3RzLicsXG4gIElEX01VU1RfQkVfVkFMSUQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0lkIHdhcyBub3QgYSB2YWxpZCBVVUlEJyxcbiAgSURfU0hPVUxEX05PVF9DT05UQUlOX1dISVRFU1BBQ0VTOiAgICAgICAgICAgICAgICAnXCJpZFwiIHByb3BlcnRpZXMgb24gaW50ZXJhY3Rpb24gY29tcG9uZW50cyBzaG91bGQgbm90IGNvbnRhaW4gd2hpdGVzcGFjZScsXG4gIElEU19TSE9VTERfQkVfR0VORVJBVEVEX0JZX0xSUzogICAgICAgICAgICAgICAgICAgJ0lkcyBzaG91bGQgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBBY3Rpdml0eSBQcm92aWRlciwgYW5kIG11c3QgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBMUlMnLFxuICBJRklfTVVTVF9CRV9NQk9YX1VSSTogICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIm1ib3hcIiBwcm9wZXJ0eSB3YXMgcmVxdWlyZWQgdG8gYmUgYSBtYWlsdG8gVVJJIHN0cmluZyBidXQgd2FzIG5vdCBhIHN0cmluZyBhdCBhbGwuJyxcbiAgSUZJX01VU1RfQkVfVkFMSURfTUJPWF9GT1JNQVQ6ICAgICAgICAgICAgICAgICAgICAnXCJtYm94XCIgcHJvcGVydHkgd2FzIHJlcXVpcmVkIHRvIGJlIGEgbWFpbHRvIFVSSSBzdHJpbmcgYnV0IGRpZCBub3QgbWF0Y2ggdGhlIG1haWx0byBmb3JtYXQuJyxcbiAgSU5URVJBQ1RJT05fQUNUSVZJVFlfU0hPVUxEX0hBVkU6ICAgICAgICAgICAgICAgICAnSW50ZXJhY3Rpb24gQWN0aXZpdHkgRGVmaW5pdGlvbnMgc2hvdWxkIGhhdmUgYSB0eXBlIHByb3BlcnR5IG9mJyxcbiAgSU5URVJBQ1RJT05fQ09NUE9ORU5UX01VU1RfTk9UX0JFX05VTEw6ICAgICAgICAgICAnVGhpcyBpbnRlcmFjdGlvbiBjb21wb25lbnQgY29sbGVjdGlvbiBtZW1iZXIgbXVzdCBiZSBhIG5vbi1udWxsIG1hcCBvYmplY3QnLFxuICBJTlRFUkFDVElPTl9DT01QT05FTlRfU0hPVUxEX0JFX0FSUkFZOiAgICAgICAgICAgICdUaGlzIGludGVyYWN0aW9uIGNvbXBvbmVudCBjb2xsZWN0aW9uIHByb3BlcnR5IHNob3VsZCBiZSBhbiBhcnJheS4nLFxuICBJTlRFUkFDVElPTl9UWVBFX01VU1RfQkVfQ01JOiAgICAgICAgICAgICAgICAgICAgICdJZiBwcmVzZW50LCB0aGUgXCJpbnRlcmFjdGlvblR5cGVcIiB2YWx1ZSBtdXN0IGJlIGEgQ01JIGludGVyYWN0aW9uIHR5cGUgb3B0aW9uLicsXG4gIElOVEVSQUNUSU9OX1RZUEVfTVVTVF9CRV9WQUxJRDogICAgICAgICAgICAgICAgICAgJ1RoaXMgaW50ZXJhY3Rpb24gY29tcG9uZW50IGNvbGxlY3Rpb24gcHJvcGVydHkgaXMgbm90IGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJlc2VudCBpbnRlcmFjdGlvblR5cGUgb2Y6ICcsXG4gIElOVkFMSURfSlNPTjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ludmFsaWQgSlNPTi4gVGhlIHN0YXRlbWVudCBjb3VsZCBub3QgYmUgcGFyc2VkLicsXG4gIExBTkdVQUdFX01BUF9LRVlfSU5WQUxJRDogICAgICAgICAgICAgICAgICAgICAgICAgJ2tleSwgTGFuZ3VhZ2UgZG9lcyBub3QgY29uZm9ybSB0byBSRkMgNTY0NicsXG4gIExBTkdVQUdFX01BUF9LRVlfTVVTVF9CRV9TVFJJTkc6ICAgICAgICAgICAgICAgICAgJ2tleTogTGFuZ3VhZ2UgTWFwIHZhbHVlIHNob3VsZCBiZSBhIFN0cmluZywgYnV0IHdhcyBub3QnLFxuICBMQU5HVUFHRV9NQVBTX01VU1RfTk9UX0JFX05VTEw6ICAgICAgICAgICAgICAgICAgICdMYW5ndWFnZSBNYXBzLCB3aGVuIHByZXNlbnQsIG11c3QgYmUgbm9uLW51bGwgbWFwIG9iamVjdHMnLFxuICBMQU5HVUFHRV9NVVNUX0JFX1NUUklORzogICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgbGFuZ3VhZ2UgcHJvcGVydHkgbXVzdCBiZSBlbmNvZGVkIGFzIGFuIFJGQyA1NjQ2IGNvbXBsaWFudCBzdHJpbmcsIGJ1dCB3YXMgbm90LicsXG4gIExFTkdUSF9NVVNUX0JFX0lOVEVHRVI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wibGVuZ3RoXCIgcHJvcGVydHkgbXVzdCBiZSBwcm92aWRlZCB3aXRoIGFuIGludGVnZXIgdmFsdWUnLFxuICBNQVhfTVVTVF9CRV9HUkVBVEVSX1RIQU5fTUlOOiAgICAgICAgICAgICAgICAgICAgICdJZiBib3RoIFwibWF4XCIgYW5kIFwibWluXCIgYXJlIHByZXNlbnQsIHRoZSBtYXggcHJvcGVydHkgdmFsdWUgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiBtaW4nLFxuICBNRU1CRVJfTVVTVF9CRV9QUk9WSURFRF9GT1JfQU5PTllNT1VTX0dST1VQUzogICAgICdcIm1lbWJlclwiIHByb3BlcnR5IG11c3QgYmUgcHJvdmlkZWQgZm9yIEFub255bW91cyBHcm91cHMuJyxcbiAgTVVTVF9CRV9CT09MRUFOX1BSRVNFTlQ6ICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvcGVydHkgd2FzIHJlcXVpcmVkIHRvIGJlIGEgQm9vbGVhbiBidXQgd2FzIGFic2VudC4nLFxuICBNVVNUX0JFX0JPT0xFQU46ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eSwgaWYgcHJlc2VudCwgbXVzdCBiZSBhIEJvb2xlYW4uJyxcbiAgTVVTVF9CRV9JUklfU1RSSU5HOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvcGVydHksIGlmIHByZXNlbnQsIHNob3VsZCBiZSBhIElSSS1saWtlIGFic29sdXRlIFVSSSBwZXIgUkZDIDM5ODcuJyxcbiAgTVVTVF9CRV9OVU1CRVJfUFJFU0VOVDogICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvcGVydHkgd2FzIHJlcXVpcmVkIHRvIGJlIGEgTnVtYmVyIGJ1dCB3YXMgYWJzZW50LicsXG4gIE1VU1RfQkVfTlVNQkVSOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5LCBpZiBwcmVzZW50LCBtdXN0IGJlIGEgTnVtYmVyLicsXG4gIE1VU1RfQkVfUFJFU0VOVDogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5IHdhcyByZXF1aXJlZCB0byBiZSBhIHN0cmluZyBidXQgd2FzIGFic2VudC4nLFxuICBNVVNUX0JFX1NUUklORzogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eSwgaWYgcHJlc2VudCwgbXVzdCBiZSBhIHN0cmluZy4nLFxuICBNVVNUX0JFX1VSSV9QUkVTRU5UOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eSB3YXMgcmVxdWlyZWQgdG8gYmUgYSBVUkkgc3RyaW5nIGJ1dCB3YXMgYWJzZW50LicsXG4gIE1VU1RfQkVfVVJJX1NUUklORzogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5LCBpZiBwcmVzZW50LCBtdXN0IGJlIGEgVVJJIHN0cmluZy4nLFxuICBPQkpFQ1RfTVVTVF9CRV9ERUZJTkVEOiAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIm9iamVjdFwiIHByb3BlcnR5IG11c3QgYmUgcHJvdmlkZWQuJyxcbiAgT0JKRUNUX01VU1RfQkVfTk9OX05VTExfTUFQX09CSkVDVDogICAgICAgICAgICAgICAnXCJvYmplY3RcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uLW51bGwgbWFwIG9iamVjdC4nLFxuICBPQkpFQ1RfVFlQRV9NVVNUX0JFX1NUQVRFTUVOVF9SRUY6ICAgICAgICAgICAgICAgICdcIm9iamVjdFR5cGVcIiBwcm9wZXJ0eSB2YWx1ZSBtdXN0IGJlIFwiU3RhdGVtZW50UmVmXCIgZm9yIHN0YXRlbWVudCByZWZlcmVuY2Ugb2JqZWN0cy4nLFxuICBPQkpFQ1RfVFlQRV9NVVNUX0JFX1ZBTElEX09QVElPTjogICAgICAgICAgICAgICAgICdvYmplY3RcXCdzIFwib2JqZWN0VHlwZVwiIGRpZCBub3QgbWF0Y2ggYSB2YWxpZCBvcHRpb24nLFxuICBSQVdfTVVTVF9CRV9HUkVBVEVSX1RIQU5fTUlOOiAgICAgICAgICAgICAgICAgICAgICdJZiBib3RoIFwicmF3XCIgYW5kIFwibWluXCIgYXJlIHByZXNlbnQsIHRoZSByYXcgcHJvcGVydHkgdmFsdWUgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiBtaW4nLFxuICBSQVdfTVVTVF9CRV9MRVNTX1RIQU5fTUFYOiAgICAgICAgICAgICAgICAgICAgICAgICdJZiBib3RoIFwicmF3XCIgYW5kIFwibWF4XCIgYXJlIHByZXNlbnQsIHRoZSByYXcgcHJvcGVydHkgdmFsdWUgc2hvdWxkIGJlIGxlc3MgdGhhbiBtYXgnLFxuICBSRUdJU1RSQVRJT05fTVVTVF9CRV9VVUlEX1NUUklORzogICAgICAgICAgICAgICAgICdJZiBwcmVzZW50LCB0aGUgcmVnaXN0cmF0aW9uIHByb3BlcnR5IG11c3QgYmUgYSBVVUlEIHN0cmluZy4nLFxuICBSRVNVTFRfTVVTVF9CRV9NQVBfT0JKRUNUOiAgICAgICAgICAgICAgICAgICAgICAgICdJZiBwcmVzZW50LCB0aGUgcmVzdWx0IG11c3QgYmUgYSBtYXAgb2JqZWN0JyxcbiAgUkVWSVNJT05fTVVTVF9CRV9BR0VOVF9PUl9HUk9VUDogICAgICAgICAgICAgICAgICAnVGhlIHJldmlzaW9uIHByb3BlcnR5IG11c3Qgbm90IGJlIHVzZWQgaWYgdGhlIFN0YXRlbWVudFxcJ3MgT2JqZWN0IGlzIGFuIEFnZW50IG9yIEdyb3VwLicsXG4gIFNDQUxFRF9NVVNUX0JFX0JFVFdFRU5fMF8xOiAgICAgICAgICAgICAgICAgICAgICAgJ0lmIHByZXNlbnQsIHRoZSBzY2FsZWQgcHJvcGVydHkgdmFsdWUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEnLFxuICBTSEEyX01VU1RfQkVfUFJPVklERURfT05fQVRUQUNITUVOVF9PQkpFQ1RTOiAgICAgICdcInNoYTJcIiBwcm9wZXJ0eSBtdXN0IGJlIHByb3ZpZGVkIG9uIGF0dGFjaG1lbnQgb2JqZWN0cycsXG4gIFNIQTJfTVVTVF9DT05UQUlOX0JBU0VfNjRfU1RSSU5HOiAgICAgICAgICAgICAgICAgJ1wic2hhMlwiIHByb3BlcnR5IG11c3QgY29udGFpbiBhIHN0cmluZyB3aXRoIGJhc2U2NCBjb250ZW50cycsXG4gIFNUQVRFTUVOVF9BUkdVTUVOVF9JU19OT1RfVkFMSUQ6ICAgICAgICAgICAgICAgICAgJ1N0YXRlbWVudCBhcmd1bWVudCBwcm92aWRlZCB3YXMgbm90IGEgdmFsaWQgb2JqZWN0IG9yIGEgdmFsaWQgSlNPTiBzdHJpbmcuJyxcbiAgU1RBVEVNRU5UX0FSR1VNRU5UX01VU1RfQkVfUFJPVklERUQ6ICAgICAgICAgICAgICAnTm8gc3RhdGVtZW50IGFyZ3VtZW50IHByb3ZpZGVkLicsXG4gIFNUQVRFTUVOVF9NVVNUX0JFX1BBUlNFRF9DT1JSRUNUTFk6ICAgICAgICAgICAgICAgJ051bGwgb3Igbm9uLW9iamVjdCBzdGF0ZW1lbnQgdmFsdWUgcGFyc2VkIGZyb20gcHJvdmlkZWQgc3RhdG1lbnQgSlNPTi4nLFxuICBTVEFURU1FTlRfTVVTVF9OT1RfQkVfTlVMTDogICAgICAgICAgICAgICAgICAgICAgICdOdWxsIHN0YXRlbWVudCBhcmd1bWVudCBwcm92aWRlZC4nLFxuICBTVEFURU1FTlRfUkVGX01VU1RfTk9UX0JFX05VTExfTUFQX09CSkVDVFM6ICAgICAgICdTdGF0ZW1lbnRSZWYgaW5zdGFuY2VzIG11c3QgYmUgbm9uLW51bGwgbWFwIG9iamVjdHMnLFxuICBTVUJfU1RBVEVNRU5UX01VU1RfTk9UX0NPTlRBSU5fU1VCX1NUQVRFTUVOVDogICAgICdBIFN1YlN0YXRlbWVudCBtdXN0IG5vdCBjb250YWluIGEgU3ViU3RhdGVtZW50JyxcbiAgVU5FWFBFQ1RFRDogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVW5leHBlY3RlZCBwcm9wZXJ0eSBub3QgcGVybWl0dGVkJyxcbiAgVkVSQl9NVVNUX0JFX1BST1ZJREVEOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmVyYiBtdXN0IGJlIHByb3ZpZGVkJyxcbiAgVkVSQl9NVVNUX05PVF9CRV9OVUxMOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVmVyYiBwcm9wZXJ0eSB2YWx1ZSBtdXN0IGEgbm9uLW51bGwgbWFwIG9iamVjdC4nLFxuICBWRVJTSU9OX01VU1RfQ09NUExZX1NFTUFOVElDX1ZFUlNJT05JTkc6ICAgICAgICAgICdcInZlcnNpb25cIiBtdXN0IGJlIGEgbm9uLW51bGwgc3RyaW5nIHRoYXQgY29tcGxpZXMgd2l0aCBTZW1hbnRpYyBWZXJzaW9uaW5nIDEuMC4wJ1xufSk7XG5cbmV4cG9ydCB7eGFwaUVycm9yTGV2ZWxzfTtcbmV4cG9ydCB7eGFwaVZhbGlkYXRpb25FcnJvcnN9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB4YXBpR2VuZXJhbCA9IE9iamVjdC5mcmVlemUoe1xuICBGSVJTVF9SRVBPUlRfVkVSU1RJT04gICAgICAgICAgICAgOiAnMS4wLjAnLFxuICBHUk9VUF9BVVRIT1JJVFlfQUdFTlRfTUVNQkVSUyAgICAgOiAyLFxuICBJTlRFUkFDVElPTl9ERUZJTklUSU9OX1RZUEUgICAgICAgOiAnaHR0cDovL2FkbG5ldC5nb3YvZXhwYXBpL2FjdGl2aXRpZXMvY21pLmludGVyYWN0aW9uJyxcbiAgTUFYX1NDQUxFRF9WQUxVRSAgICAgICAgICAgICAgICAgIDogMSxcbiAgTUlOX1NDQUxFRF9WQUxVRSAgICAgICAgICAgICAgICAgIDogMCxcbiAgTk9fSU5ERVhfRk9VTkQgICAgICAgICAgICAgICAgICAgIDogLTEsXG4gIE5VTUVSX09GX1NQRUNJRklFRF9JRklfUFJPUEVSVElFUyA6IDFcbn0pO1xuXG5leHBvcnQge3hhcGlHZW5lcmFsfTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IGludGVyYWN0aW9uVHlwZXMgPSBPYmplY3QuZnJlZXplKHtcbiAgQ0hPSUNFOiAgICAgICAnY2hvaWNlJyxcbiAgRklMTF9JTjogICAgICAnZmlsbC1pbicsXG4gIExJS0VSVDogICAgICAgJ2xpa2VydCcsXG4gIExPTkdfRklMTF9JTjogJ2xvbmctZmlsbC1pbicsXG4gIE1BVENISU5HOiAgICAgJ21hdGNoaW5nJyxcbiAgTlVNRVJJQzogICAgICAnbnVtZXJpYycsXG4gIE9USEVSOiAgICAgICAgJ290aGVyJyxcbiAgUEVSRk9STUFOQ0U6ICAncGVyZm9ybWFuY2UnLFxuICBTRVFVRU5DSU5HOiAgICdzZXF1ZW5jaW5nJyxcbiAgVFJVRV9GQUxTRTogICAndHJ1ZS1mYWxzZSdcbn0pO1xuXG5leHBvcnQgY29uc3QgeGFwaVZhbGlkYXRpb25JbnRlcmFjdGlvblR5cGVzID0gT2JqZWN0LmZyZWV6ZShbXG4gIGludGVyYWN0aW9uVHlwZXMuQ0hPSUNFLFxuICBpbnRlcmFjdGlvblR5cGVzLkZJTExfSU4sXG4gIGludGVyYWN0aW9uVHlwZXMuTElLRVJULFxuICBpbnRlcmFjdGlvblR5cGVzLkxPTkdfRklMTF9JTixcbiAgaW50ZXJhY3Rpb25UeXBlcy5NQVRDSElORyxcbiAgaW50ZXJhY3Rpb25UeXBlcy5OVU1FUklDLFxuICBpbnRlcmFjdGlvblR5cGVzLk9USEVSLFxuICBpbnRlcmFjdGlvblR5cGVzLlBFUkZPUk1BTkNFLFxuICBpbnRlcmFjdGlvblR5cGVzLlNFUVVFTkNJTkcsXG4gIGludGVyYWN0aW9uVHlwZXMuVFJVRV9GQUxTRVxuXSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3QuZnJlZXplKHtcbiAgQUNDT1VOVDogICAgICAgICAgICAgICAgICAgJ2FjY291bnQnLFxuICBBQ1RJVklUWTogICAgICAgICAgICAgICAgICAnYWN0aXZpdHknLFxuICBBQ1RPUjogICAgICAgICAgICAgICAgICAgICAnYWN0b3InLFxuICBBR0VOVDogICAgICAgICAgICAgICAgICAgICAnYWdlbnQnLFxuICBBVFRBQ0hNRU5UOiAgICAgICAgICAgICAgICAnYXR0YWNobWVudCcsXG4gIEFUVEFDSE1FTlRTOiAgICAgICAgICAgICAgICdhdHRhY2htZW50cycsXG4gIEFVVEhPUklUWTogICAgICAgICAgICAgICAgICdhdXRob3JpdHknLFxuICBDQVRFR09SWTogICAgICAgICAgICAgICAgICAnY2F0ZWdvcnknLFxuICBDSE9JQ0U6ICAgICAgICAgICAgICAgICAgICAnY2hvaWNlJyxcbiAgQ0hPSUNFUzogICAgICAgICAgICAgICAgICAgJ2Nob2ljZXMnLFxuICBDT01QTEVUSU9OOiAgICAgICAgICAgICAgICAnY29tcGxldGlvbicsXG4gIENPTlRFTlRfVFlQRTogICAgICAgICAgICAgICdjb250ZW50VHlwZScsXG4gIENPTlRFWFRfQUNUSVZJVElFUzogICAgICAgICdjb250ZXh0QWN0aXZpdGllcycsXG4gIENPTlRFWFQ6ICAgICAgICAgICAgICAgICAgICdjb250ZXh0JyxcbiAgQ09SUkVDVF9SRVNQT05TRVNfUEFUVEVSTjogJ2NvcnJlY3RSZXNwb25zZXNQYXR0ZXJuJyxcbiAgREFURV9USU1FOiAgICAgICAgICAgICAgICAgJ2RhdGVUaW1lJyxcbiAgREVGSU5JVElPTjogICAgICAgICAgICAgICAgJ2RlZmluaXRpb24nLFxuICBERVNDUklQVElPTjogICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nLFxuICBESVNQTEFZOiAgICAgICAgICAgICAgICAgICAnZGlzcGxheScsXG4gIERVUkFUSU9OOiAgICAgICAgICAgICAgICAgICdkdXJhdGlvbicsXG4gIEVYVEVOU0lPTlM6ICAgICAgICAgICAgICAgICdleHRlbnNpb25zJyxcbiAgRklMRV9VUkw6ICAgICAgICAgICAgICAgICAgJ2ZpbGVVcmwnLFxuICBHUk9VUDogICAgICAgICAgICAgICAgICAgICAnZ3JvdXAnLFxuICBHUk9VUElORzogICAgICAgICAgICAgICAgICAnZ3JvdXBpbmcnLFxuICBIT01FX1BBR0U6ICAgICAgICAgICAgICAgICAnaG9tZVBhZ2UnLFxuICBJRDogICAgICAgICAgICAgICAgICAgICAgICAnaWQnLFxuICBJTlNUUlVDVE9SOiAgICAgICAgICAgICAgICAnaW5zdHJ1Y3RvcicsXG4gIElOVEVSQUNUSU9OX0NPTVBPTkVOVFM6ICAgICdpbnRlcmFjdGlvbkNvbXBvbmVudHMnLFxuICBJTlRFUkFDVElPTl9UWVBFOiAgICAgICAgICAnaW50ZXJhY3Rpb25UeXBlJyxcbiAgTEFOR1VBR0VfTUFQOiAgICAgICAgICAgICAgJ2xhbmd1YWdlTWFwJyxcbiAgTEFOR1VBR0U6ICAgICAgICAgICAgICAgICAgJ2xhbmd1YWdlJyxcbiAgTEVOR1RIOiAgICAgICAgICAgICAgICAgICAgJ2xlbmd0aCcsXG4gIExJS0VSVDogICAgICAgICAgICAgICAgICAgICdsaWtlcnQnLFxuICBNQVRDSElORzogICAgICAgICAgICAgICAgICAnbWF0Y2hpbmcnLFxuICBNQVg6ICAgICAgICAgICAgICAgICAgICAgICAnbWF4JyxcbiAgTUJPWF9TSEFfMV9TVU06ICAgICAgICAgICAgJ21ib3hfc2hhMXN1bScsXG4gIE1CT1g6ICAgICAgICAgICAgICAgICAgICAgICdtYm94JyxcbiAgTUVNQkVSOiAgICAgICAgICAgICAgICAgICAgJ21lbWJlcicsXG4gIE1JTjogICAgICAgICAgICAgICAgICAgICAgICdtaW4nLFxuICBNT1JFX0lORk86ICAgICAgICAgICAgICAgICAnbW9yZUluZm8nLFxuICBOQU1FOiAgICAgICAgICAgICAgICAgICAgICAnbmFtZScsXG4gIE9CSkVDVF9UWVBFOiAgICAgICAgICAgICAgICdvYmplY3RUeXBlJyxcbiAgT0JKRUNUOiAgICAgICAgICAgICAgICAgICAgJ29iamVjdCcsXG4gIE9QRU5fSUQ6ICAgICAgICAgICAgICAgICAgICdvcGVuSUQnLFxuICBPVEhFUjogICAgICAgICAgICAgICAgICAgICAnb3RoZXInLFxuICBQQVJFTlQ6ICAgICAgICAgICAgICAgICAgICAncGFyZW50JyxcbiAgUEVSRk9STUFOQ0U6ICAgICAgICAgICAgICAgJ3BlcmZvcm1hbmNlJyxcbiAgUExBVEZPUk06ICAgICAgICAgICAgICAgICAgJ3BsYXRmb3JtJyxcbiAgUkFXOiAgICAgICAgICAgICAgICAgICAgICAgJ3JhdycsXG4gIFJFR0lTVFJBVElPTjogICAgICAgICAgICAgICdyZWdpc3RyYXRpb24nLFxuICBSRVNQT05TRTogICAgICAgICAgICAgICAgICAncmVzcG9uc2UnLFxuICBSRVNVTFQ6ICAgICAgICAgICAgICAgICAgICAncmVzdWx0JyxcbiAgUkVWSVNJT046ICAgICAgICAgICAgICAgICAgJ3JldmlzaW9uJyxcbiAgU0NBTEU6ICAgICAgICAgICAgICAgICAgICAgJ3NjYWxlJyxcbiAgU0NBTEVEOiAgICAgICAgICAgICAgICAgICAgJ3NjYWxlZCcsXG4gIFNDT1JFOiAgICAgICAgICAgICAgICAgICAgICdzY29yZScsXG4gIFNFUVVFTkNJTkc6ICAgICAgICAgICAgICAgICdzZXF1ZW5jaW5nJyxcbiAgU0hBMjogICAgICAgICAgICAgICAgICAgICAgJ3NoYTInLFxuICBTT1VSQ0U6ICAgICAgICAgICAgICAgICAgICAnc291cmNlJyxcbiAgU1RBVEVNRU5UX1JFRjogICAgICAgICAgICAgJ3N0YXRlbWVudFJlZicsXG4gIFNUQVRFTUVOVDogICAgICAgICAgICAgICAgICdzdGF0ZW1lbnQnLFxuICBTVEVQUzogICAgICAgICAgICAgICAgICAgICAnc3RlcHMnLFxuICBTVE9SRUQ6ICAgICAgICAgICAgICAgICAgICAnc3RvcmVkJyxcbiAgU1VCX0NPTlRFWFQ6ICAgICAgICAgICAgICAgJ3N1YkNvbnRleHQnLFxuICBTVUNDRVNTOiAgICAgICAgICAgICAgICAgICAnc3VjY2VzcycsXG4gIFRBUkdFVDogICAgICAgICAgICAgICAgICAgICd0YXJnZXQnLFxuICBURUFNOiAgICAgICAgICAgICAgICAgICAgICAndGVhbScsXG4gIFRJTUVTVEFNUDogICAgICAgICAgICAgICAgICd0aW1lc3RhbXAnLFxuICBUWVBFOiAgICAgICAgICAgICAgICAgICAgICAndHlwZScsXG4gIFVTQUdFX1RZUEU6ICAgICAgICAgICAgICAgICd1c2FnZVR5cGUnLFxuICBWRVJCOiAgICAgICAgICAgICAgICAgICAgICAndmVyYicsXG4gIFZFUlNJT046ICAgICAgICAgICAgICAgICAgICd2ZXJzaW9uJ1xufSk7XG5cbmNvbnN0IG9iamVjdFR5cGVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIEdST1VQOiAgICAgICAgICdHcm91cCcsXG4gIEFHRU5UOiAgICAgICAgICdBZ2VudCcsXG4gIEFDVElWSVRZOiAgICAgICdBY3Rpdml0eScsXG4gIFNUQVRFTUVOVF9SRUY6ICdTdGF0ZW1lbnRSZWYnLFxuICBTVUJfU1RBVEVNRU5UOiAnU3ViU3RhdGVtZW50J1xufSk7XG5cbmNvbnN0IHhhcGlWYWxpZGF0aW9uSWZpUHJvcGVydHlOYW1lcyA9IE9iamVjdC5mcmVlemUoW1xuICBwcm9wZXJ0aWVzLkFDQ09VTlQsXG4gIHByb3BlcnRpZXMuTUJPWF9TSEFfMV9TVU0sXG4gIHByb3BlcnRpZXMuTUJPWCxcbiAgcHJvcGVydGllcy5PUEVOX0lEXG5dKTtcblxuY29uc3QgeEFwaVZhbGlkT2JqZWN0VHlwZXMgPSBPYmplY3QuZnJlZXplKFtcbiAgb2JqZWN0VHlwZXMuR1JPVVAsXG4gIG9iamVjdFR5cGVzLkFHRU5ULFxuICBvYmplY3RUeXBlcy5BQ1RJVklUWSxcbiAgb2JqZWN0VHlwZXMuU1RBVEVNRU5UX1JFRixcbiAgb2JqZWN0VHlwZXMuU1VCX1NUQVRFTUVOVFxuXSk7XG5cbmNvbnN0IHhhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIElGSTogW1xuICAgIHByb3BlcnRpZXMuSE9NRV9QQUdFLFxuICAgIHByb3BlcnRpZXMuTkFNRVxuICBdLFxuICBVUkk6IFtcbiAgICBwcm9wZXJ0aWVzLklELFxuICAgIHByb3BlcnRpZXMuRElTUExBWVxuICBdLFxuICBDT01QT05FTlRfQVJSQVk6IFtcbiAgICBwcm9wZXJ0aWVzLklELFxuICAgIHByb3BlcnRpZXMuREVTQ1JJUFRJT05cbiAgXSxcbiAgQUNUSVZJVFlfREVGSU5JVElPTjogW1xuICAgIHByb3BlcnRpZXMuTkFNRSxcbiAgICBwcm9wZXJ0aWVzLkRFU0NSSVBUSU9OLFxuICAgIHByb3BlcnRpZXMuVFlQRSxcbiAgICBwcm9wZXJ0aWVzLk1PUkVfSU5GTyxcbiAgICBwcm9wZXJ0aWVzLkVYVEVOU0lPTlMsXG4gICAgcHJvcGVydGllcy5JTlRFUkFDVElPTl9UWVBFLFxuICAgIHByb3BlcnRpZXMuQ09SUkVDVF9SRVNQT05TRVNfUEFUVEVSTixcbiAgICBwcm9wZXJ0aWVzLkNIT0lDRVMsXG4gICAgcHJvcGVydGllcy5TQ0FMRSxcbiAgICBwcm9wZXJ0aWVzLlNPVVJDRSxcbiAgICBwcm9wZXJ0aWVzLlRBUkdFVCxcbiAgICBwcm9wZXJ0aWVzLlNURVBTXG4gIF0sXG4gIEFDVElWSVRZOiBbXG4gICAgcHJvcGVydGllcy5PQkpFQ1RfVFlQRSxcbiAgICBwcm9wZXJ0aWVzLklELFxuICAgIHByb3BlcnRpZXMuREVGSU5JVElPTlxuICBdLFxuICBTVEFURU1FTlRfUkVGOiBbXG4gICAgcHJvcGVydGllcy5JRCxcbiAgICBwcm9wZXJ0aWVzLk9CSkVDVF9UWVBFXG4gIF0sXG4gIFNDT1JFOiBbXG4gICAgcHJvcGVydGllcy5TQ0FMRUQsXG4gICAgcHJvcGVydGllcy5SQVcsXG4gICAgcHJvcGVydGllcy5NSU4sXG4gICAgcHJvcGVydGllcy5NQVhcbiAgXSxcbiAgUkVTVUxUOiBbXG4gICAgcHJvcGVydGllcy5TQ09SRSxcbiAgICBwcm9wZXJ0aWVzLlNVQ0NFU1MsXG4gICAgcHJvcGVydGllcy5DT01QTEVUSU9OLFxuICAgIHByb3BlcnRpZXMuUkVTUE9OU0UsXG4gICAgcHJvcGVydGllcy5EVVJBVElPTixcbiAgICBwcm9wZXJ0aWVzLkVYVEVOU0lPTlNcbiAgXSxcbiAgQVRUQUNITUVOVDogW1xuICAgIHByb3BlcnRpZXMuVVNBR0VfVFlQRSxcbiAgICBwcm9wZXJ0aWVzLkRJU1BMQVksXG4gICAgcHJvcGVydGllcy5ERVNDUklQVElPTixcbiAgICBwcm9wZXJ0aWVzLkNPTlRFTlRfVFlQRSxcbiAgICBwcm9wZXJ0aWVzLkxFTkdUSCxcbiAgICBwcm9wZXJ0aWVzLlNIQTIsXG4gICAgcHJvcGVydGllcy5GSUxFX1VSTFxuICBdLFxuIEFHRU5UOiBbXG4gICBwcm9wZXJ0aWVzLk9CSkVDVF9UWVBFLFxuICAgcHJvcGVydGllcy5OQU1FLFxuICAgcHJvcGVydGllcy5BQ0NPVU5ULFxuICAgcHJvcGVydGllcy5NQk9YX1NIQV8xX1NVTSxcbiAgIHByb3BlcnRpZXMuTUJPWCxcbiAgIHByb3BlcnRpZXMuT1BFTl9JRFxuIF0sXG4gR1JPVVA6IFtcbiAgIHByb3BlcnRpZXMuT0JKRUNUX1RZUEUsXG4gICBwcm9wZXJ0aWVzLk5BTUUsXG4gICBwcm9wZXJ0aWVzLk1FTUJFUixcbiAgIHByb3BlcnRpZXMuQUNDT1VOVCxcbiAgIHByb3BlcnRpZXMuTUJPWF9TSEFfMV9TVU0sXG4gICBwcm9wZXJ0aWVzLk1CT1gsXG4gICBwcm9wZXJ0aWVzLk9QRU5fSURcbiBdLFxuIENPTlRFWFRfQUNUSVZJVElFUzogW1xuICAgcHJvcGVydGllcy5QQVJFTlQsXG4gICBwcm9wZXJ0aWVzLkdST1VQSU5HLFxuICAgcHJvcGVydGllcy5DQVRFR09SWSxcbiAgIHByb3BlcnRpZXMuT1RIRVJcbiBdLFxuIFNUQVRFTUVOVDogW1xuICAgcHJvcGVydGllcy5JRCxcbiAgIHByb3BlcnRpZXMuQUNUT1IsXG4gICBwcm9wZXJ0aWVzLlZFUkIsXG4gICBwcm9wZXJ0aWVzLk9CSkVDVCxcbiAgIHByb3BlcnRpZXMuUkVTVUxULFxuICAgcHJvcGVydGllcy5DT05URVhULFxuICAgcHJvcGVydGllcy5USU1FU1RBTVAsXG4gICBwcm9wZXJ0aWVzLlNUT1JFRCxcbiAgIHByb3BlcnRpZXMuQVVUSE9SSVRZLFxuICAgcHJvcGVydGllcy5WRVJTSU9OLFxuICAgcHJvcGVydGllcy5BVFRBQ0hNRU5UU1xuIF0sXG4gU1VCX1NUQVRFTUVOVDogW1xuICAgcHJvcGVydGllcy5BQ1RPUixcbiAgIHByb3BlcnRpZXMuVkVSQixcbiAgIHByb3BlcnRpZXMuT0JKRUNULFxuICAgcHJvcGVydGllcy5SRVNVTFQsXG4gICBwcm9wZXJ0aWVzLkNPTlRFWFQsXG4gICBwcm9wZXJ0aWVzLlRJTUVTVEFNUCxcbiAgIHByb3BlcnRpZXMuQVRUQUNITUVOVFMsXG4gICBwcm9wZXJ0aWVzLk9CSkVDVF9UWVBFXG4gXSxcbiBFWFRFTlNJT05TOiBbXG4gICBwcm9wZXJ0aWVzLlJFR0lTVFJBVElPTixcbiAgIHByb3BlcnRpZXMuSU5TVFJVQ1RPUixcbiAgIHByb3BlcnRpZXMuVEVBTSxcbiAgIHByb3BlcnRpZXMuQ09OVEVYVF9BQ1RJVklUSUVTLFxuICAgcHJvcGVydGllcy5SRVZJU0lPTixcbiAgIHByb3BlcnRpZXMuUExBVEZPUk0sXG4gICBwcm9wZXJ0aWVzLkxBTkdVQUdFLFxuICAgcHJvcGVydGllcy5TVEFURU1FTlQsXG4gICBwcm9wZXJ0aWVzLkVYVEVOU0lPTlNcbiBdXG59KTtcblxuZXhwb3J0IHtwcm9wZXJ0aWVzfTtcbmV4cG9ydCB7b2JqZWN0VHlwZXN9O1xuZXhwb3J0IHt4YXBpVmFsaWRhdGlvbklmaVByb3BlcnR5TmFtZXN9O1xuZXhwb3J0IHt4QXBpVmFsaWRPYmplY3RUeXBlc307XG5leHBvcnQge3hhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzfTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgeGFwaVZhbGlkYXRpb25SZWdleCA9IE9iamVjdC5mcmVlemUoe1xuICBVVUlEOiAgICAgICAgICAgICAgICAvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVswLTlhLWZdezR9LVswLTlhLWZdezR9LVswLTlhLWZdezEyfSQvaSxcbiAgSVNPXzg2MDFfRFVSQVRJT046ICAgL15QKChcXGQrKFtcXC4sXVxcZCspP1kpPyhcXGQrKFtcXC4sXVxcZCspP00pPyhcXGQrKFtcXC4sXVxcZCspP1cpPyhcXGQrKFtcXC4sXVxcZCspP0QpPyk/KFQoXFxkKyhbXFwuLF1cXGQrKT9IKT8oXFxkKyhbXFwuLF1cXGQrKT9NKT8oXFxkKyhbXFwuLF1cXGQrKT9TKT8pPyQvLFxuICBJU09fODYwMV9EQVRFX1RJTUU6ICAvXihcXGR7NH18WytcXC1dXFxkezZ9KSg/Oi0oXFxkezJ9KSg/Oi0oXFxkezJ9KSk/KT8oPzpUKFxcZHsyfSk6KFxcZHsyfSkoPzo6KFxcZHsyfSkoPzpcXC4oXFxkezN9KSk/KT8oPzooWil8KFsrXFwtXSkoXFxkezJ9KSg/OjooXFxkezJ9KSk/KT8pPyQvLFxuICBNQUlMVE9fVVJJOiAgICAgICAgICAvXm1haWx0bzovLFxuICBDT05UQUlOU19XSElURVNQQUNFOiAvXFxzL2csXG4gIFNFTVZFUl8xX1BfMF9QXzA6ICAgIC9eKChcXGQrKVxcLihcXGQrKVxcLihcXGQrKSkoPzotKFtcXGRBLVphLXpcXC1dKykpPyQvLFxuICBCQVNFXzY0OiAgICAgICAgICAgICAvXig/OltBLVphLXowLTlcXCtcXC9dezR9KSooPzpbQS1aYS16MC05XFwrXFwvXXsyfT09fFtBLVphLXowLTlcXCtcXC9dezN9PXxbQS1aYS16MC05XFwrXFwvXXs0fSkkLyxcbiAgSVJJOiAgICAgICAgICAgICAgICAgL15bYS16XSg/OltcXC1hLXowLTlcXCtcXC5dKSo6KD86XFwvXFwvKD86KD86JVswLTlhLWZdWzAtOWEtZl18W1xcLWEtejAtOVxcLl9+XFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXFx1MTAwMDAtXFx1MUZGRkRcXHUyMDAwMC1cXHUyRkZGRFxcdTMwMDAwLVxcdTNGRkZEXFx1NDAwMDAtXFx1NEZGRkRcXHU1MDAwMC1cXHU1RkZGRFxcdTYwMDAwLVxcdTZGRkZEXFx1NzAwMDAtXFx1N0ZGRkRcXHU4MDAwMC1cXHU4RkZGRFxcdTkwMDAwLVxcdTlGRkZEXFx1QTAwMDAtXFx1QUZGRkRcXHVCMDAwMC1cXHVCRkZGRFxcdUMwMDAwLVxcdUNGRkZEXFx1RDAwMDAtXFx1REZGRkRcXHVFMTAwMC1cXHVFRkZGRCFcXCQmJ1xcKFxcKVxcKlxcKyw7PTpdKSpAKT8oPzpcXFsoPzooPzooPzpbMC05YS1mXXsxLDR9Oil7Nn0oPzpbMC05YS1mXXsxLDR9OlswLTlhLWZdezEsNH18KD86WzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKSg/OlxcLig/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkpezN9KXw6Oig/OlswLTlhLWZdezEsNH06KXs1fSg/OlswLTlhLWZdezEsNH06WzAtOWEtZl17MSw0fXwoPzpbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pKD86XFwuKD86WzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKSl7M30pfCg/OlswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezR9KD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkoPzpcXC4oPzpbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pKXszfSl8KD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXszfSg/OlswLTlhLWZdezEsNH06WzAtOWEtZl17MSw0fXwoPzpbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pKD86XFwuKD86WzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKSl7M30pfCg/Oig/OlswLTlhLWZdezEsNH06KXswLDJ9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7Mn0oPzpbMC05YS1mXXsxLDR9OlswLTlhLWZdezEsNH18KD86WzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKSg/OlxcLig/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkpezN9KXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwzfVswLTlhLWZdezEsNH0pPzo6WzAtOWEtZl17MSw0fTooPzpbMC05YS1mXXsxLDR9OlswLTlhLWZdezEsNH18KD86WzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKSg/OlxcLig/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkpezN9KXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCw0fVswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkoPzpcXC4oPzpbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pKXszfSl8KD86KD86WzAtOWEtZl17MSw0fTopezAsNX1bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH18KD86KD86WzAtOWEtZl17MSw0fTopezAsNn1bMC05YS1mXXsxLDR9KT86Oil8dlswLTlhLWZdK1tcXC1hLXowLTlcXC5ffiFcXCQmJ1xcKFxcKVxcKlxcKyw7PTpdKylcXF18KD86WzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKSg/OlxcLig/OlswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkpezN9fCg/OiVbMC05YS1mXVswLTlhLWZdfFtcXC1hLXowLTlcXC5fflxcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRlxcdTEwMDAwLVxcdTFGRkZEXFx1MjAwMDAtXFx1MkZGRkRcXHUzMDAwMC1cXHUzRkZGRFxcdTQwMDAwLVxcdTRGRkZEXFx1NTAwMDAtXFx1NUZGRkRcXHU2MDAwMC1cXHU2RkZGRFxcdTcwMDAwLVxcdTdGRkZEXFx1ODAwMDAtXFx1OEZGRkRcXHU5MDAwMC1cXHU5RkZGRFxcdUEwMDAwLVxcdUFGRkZEXFx1QjAwMDAtXFx1QkZGRkRcXHVDMDAwMC1cXHVDRkZGRFxcdUQwMDAwLVxcdURGRkZEXFx1RTEwMDAtXFx1RUZGRkQhXFwkJidcXChcXClcXCpcXCssOz1AXSkqKSg/OjpbMC05XSopPyg/OlxcLyg/Oig/OiVbMC05YS1mXVswLTlhLWZdfFtcXC1hLXowLTlcXC5fflxcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRlxcdTEwMDAwLVxcdTFGRkZEXFx1MjAwMDAtXFx1MkZGRkRcXHUzMDAwMC1cXHUzRkZGRFxcdTQwMDAwLVxcdTRGRkZEXFx1NTAwMDAtXFx1NUZGRkRcXHU2MDAwMC1cXHU2RkZGRFxcdTcwMDAwLVxcdTdGRkZEXFx1ODAwMDAtXFx1OEZGRkRcXHU5MDAwMC1cXHU5RkZGRFxcdUEwMDAwLVxcdUFGRkZEXFx1QjAwMDAtXFx1QkZGRkRcXHVDMDAwMC1cXHVDRkZGRFxcdUQwMDAwLVxcdURGRkZEXFx1RTEwMDAtXFx1RUZGRkQhXFwkJidcXChcXClcXCpcXCssOz06QF0pKSopKnxcXC8oPzooPzooPzooPzolWzAtOWEtZl1bMC05YS1mXXxbXFwtYS16MC05XFwuX35cXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZcXHUxMDAwMC1cXHUxRkZGRFxcdTIwMDAwLVxcdTJGRkZEXFx1MzAwMDAtXFx1M0ZGRkRcXHU0MDAwMC1cXHU0RkZGRFxcdTUwMDAwLVxcdTVGRkZEXFx1NjAwMDAtXFx1NkZGRkRcXHU3MDAwMC1cXHU3RkZGRFxcdTgwMDAwLVxcdThGRkZEXFx1OTAwMDAtXFx1OUZGRkRcXHVBMDAwMC1cXHVBRkZGRFxcdUIwMDAwLVxcdUJGRkZEXFx1QzAwMDAtXFx1Q0ZGRkRcXHVEMDAwMC1cXHVERkZGRFxcdUUxMDAwLVxcdUVGRkZEIVxcJCYnXFwoXFwpXFwqXFwrLDs9OkBdKSkrKSg/OlxcLyg/Oig/OiVbMC05YS1mXVswLTlhLWZdfFtcXC1hLXowLTlcXC5fflxcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRlxcdTEwMDAwLVxcdTFGRkZEXFx1MjAwMDAtXFx1MkZGRkRcXHUzMDAwMC1cXHUzRkZGRFxcdTQwMDAwLVxcdTRGRkZEXFx1NTAwMDAtXFx1NUZGRkRcXHU2MDAwMC1cXHU2RkZGRFxcdTcwMDAwLVxcdTdGRkZEXFx1ODAwMDAtXFx1OEZGRkRcXHU5MDAwMC1cXHU5RkZGRFxcdUEwMDAwLVxcdUFGRkZEXFx1QjAwMDAtXFx1QkZGRkRcXHVDMDAwMC1cXHVDRkZGRFxcdUQwMDAwLVxcdURGRkZEXFx1RTEwMDAtXFx1RUZGRkQhXFwkJidcXChcXClcXCpcXCssOz06QF0pKSopKik/fCg/Oig/Oig/OiVbMC05YS1mXVswLTlhLWZdfFtcXC1hLXowLTlcXC5fflxcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRlxcdTEwMDAwLVxcdTFGRkZEXFx1MjAwMDAtXFx1MkZGRkRcXHUzMDAwMC1cXHUzRkZGRFxcdTQwMDAwLVxcdTRGRkZEXFx1NTAwMDAtXFx1NUZGRkRcXHU2MDAwMC1cXHU2RkZGRFxcdTcwMDAwLVxcdTdGRkZEXFx1ODAwMDAtXFx1OEZGRkRcXHU5MDAwMC1cXHU5RkZGRFxcdUEwMDAwLVxcdUFGRkZEXFx1QjAwMDAtXFx1QkZGRkRcXHVDMDAwMC1cXHVDRkZGRFxcdUQwMDAwLVxcdURGRkZEXFx1RTEwMDAtXFx1RUZGRkQhXFwkJidcXChcXClcXCpcXCssOz06QF0pKSspKD86XFwvKD86KD86JVswLTlhLWZdWzAtOWEtZl18W1xcLWEtejAtOVxcLl9+XFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXFx1MTAwMDAtXFx1MUZGRkRcXHUyMDAwMC1cXHUyRkZGRFxcdTMwMDAwLVxcdTNGRkZEXFx1NDAwMDAtXFx1NEZGRkRcXHU1MDAwMC1cXHU1RkZGRFxcdTYwMDAwLVxcdTZGRkZEXFx1NzAwMDAtXFx1N0ZGRkRcXHU4MDAwMC1cXHU4RkZGRFxcdTkwMDAwLVxcdTlGRkZEXFx1QTAwMDAtXFx1QUZGRkRcXHVCMDAwMC1cXHVCRkZGRFxcdUMwMDAwLVxcdUNGRkZEXFx1RDAwMDAtXFx1REZGRkRcXHVFMTAwMC1cXHVFRkZGRCFcXCQmJ1xcKFxcKVxcKlxcKyw7PTpAXSkpKikqfCg/ISg/OiVbMC05YS1mXVswLTlhLWZdfFtcXC1hLXowLTlcXC5fflxcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRlxcdTEwMDAwLVxcdTFGRkZEXFx1MjAwMDAtXFx1MkZGRkRcXHUzMDAwMC1cXHUzRkZGRFxcdTQwMDAwLVxcdTRGRkZEXFx1NTAwMDAtXFx1NUZGRkRcXHU2MDAwMC1cXHU2RkZGRFxcdTcwMDAwLVxcdTdGRkZEXFx1ODAwMDAtXFx1OEZGRkRcXHU5MDAwMC1cXHU5RkZGRFxcdUEwMDAwLVxcdUFGRkZEXFx1QjAwMDAtXFx1QkZGRkRcXHVDMDAwMC1cXHVDRkZGRFxcdUQwMDAwLVxcdURGRkZEXFx1RTEwMDAtXFx1RUZGRkQhXFwkJidcXChcXClcXCpcXCssOz06QF0pKSkoPzpcXD8oPzooPzolWzAtOWEtZl1bMC05YS1mXXxbXFwtYS16MC05XFwuX35cXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZcXHUxMDAwMC1cXHUxRkZGRFxcdTIwMDAwLVxcdTJGRkZEXFx1MzAwMDAtXFx1M0ZGRkRcXHU0MDAwMC1cXHU0RkZGRFxcdTUwMDAwLVxcdTVGRkZEXFx1NjAwMDAtXFx1NkZGRkRcXHU3MDAwMC1cXHU3RkZGRFxcdTgwMDAwLVxcdThGRkZEXFx1OTAwMDAtXFx1OUZGRkRcXHVBMDAwMC1cXHVBRkZGRFxcdUIwMDAwLVxcdUJGRkZEXFx1QzAwMDAtXFx1Q0ZGRkRcXHVEMDAwMC1cXHVERkZGRFxcdUUxMDAwLVxcdUVGRkZEIVxcJCYnXFwoXFwpXFwqXFwrLDs9OkBdKXxbXFx1RTAwMC1cXHVGOEZGXFx1RjAwMDAtXFx1RkZGRkR8XFx1MTAwMDAwLVxcdTEwRkZGRFxcL1xcP10pKik/KD86XFwjKD86KD86JVswLTlhLWZdWzAtOWEtZl18W1xcLWEtejAtOVxcLl9+XFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXFx1MTAwMDAtXFx1MUZGRkRcXHUyMDAwMC1cXHUyRkZGRFxcdTMwMDAwLVxcdTNGRkZEXFx1NDAwMDAtXFx1NEZGRkRcXHU1MDAwMC1cXHU1RkZGRFxcdTYwMDAwLVxcdTZGRkZEXFx1NzAwMDAtXFx1N0ZGRkRcXHU4MDAwMC1cXHU4RkZGRFxcdTkwMDAwLVxcdTlGRkZEXFx1QTAwMDAtXFx1QUZGRkRcXHVCMDAwMC1cXHVCRkZGRFxcdUMwMDAwLVxcdUNGRkZEXFx1RDAwMDAtXFx1REZGRkRcXHVFMTAwMC1cXHVFRkZGRCFcXCQmJ1xcKFxcKVxcKlxcKyw7PTpAXSl8W1xcL1xcP10pKik/JC9pLFxuICBCQ1BfNDc6ICAgICAgICAgICAgICAvXig/Oihlbi1HQi1vZWR8aS0oPzphbWl8Ym5ufGRlZmF1bHR8ZW5vY2hpYW58aGFrfGtsaW5nb258bHV4fG1pbmdvfG5hdmFqb3xwd258dGFvfHRheXx0c3UpfHNnbi0oPzpCRS1GUnxCRS1OTHxDSC1ERSkpfChhcnQtbG9qYmFufGNlbC1nYXVsaXNofG5vLSg/OmJva3xueW4pfHpoLSg/Omd1b3l1fGhha2thfG1pbnxtaW4tbmFufHhpYW5nKSkpJHxeKHgoPzotWzAtOWEtel17MSw4fSkrKSR8Xig/OigoPzpbYS16XXsyLDN9KD86KD86LVthLXpdezN9KXsxLDN9KT8pfFthLXpdezR9fFthLXpdezUsOH0pKD86LShbYS16XXs0fSkpPyg/Oi0oW2Etel17Mn18WzAtOV17M30pKT8oKD86LSg/OlthLXowLTldezUsOH18WzAtOV1bYS16MC05XXszfSkpKik/KCg/Oi1bMC05YS13eS16XSg/Oi1bYS16MC05XXsyLDh9KXsxLH0pKik/KC14KD86LVswLTlhLXpdezEsOH0pKyk/KSQvaVxufSk7XG5cbmNvbnN0IGRhdGVGb3JtYXRSZWdleFBvc2l0aW9ucyA9IE9iamVjdC5mcmVlemUoe1xuICBZRUFSOiAgICAgICAgICAgICAxLFxuICBNT05USDogICAgICAgICAgICAyLFxuICBEQVk6ICAgICAgICAgICAgICAzLFxuICBIT1VSOiAgICAgICAgICAgICA0LFxuICBNSU5VVEU6ICAgICAgICAgICA1LFxuICBTRUNPTkQ6ICAgICAgICAgICA2LFxuICBNU0VDT05EOiAgICAgICAgICA3LFxuICBaT05FOiAgICAgICAgICAgICA4LFxuICBSRUxBVElWRV9USU1FOiAgICA5LFxuICBUSU1FX1pPTkVfSE9VUjogICAxMCxcbiAgVElNRV9aT05FX01JTlVURTogMTFcbn0pO1xuXG5leHBvcnQge3hhcGlWYWxpZGF0aW9uUmVnZXh9O1xuZXhwb3J0IHtkYXRlRm9ybWF0UmVnZXhQb3NpdGlvbnN9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdFxuICBJU19TVFJJTkcgID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gIElTX0FSUkFZICAgPSAnW29iamVjdCBBcnJheV0nLFxuICBJU19CT09MRUFOID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICBJU19OVU1CRVIgID0gJ1tvYmplY3QgTnVtYmVyXSdcbjtcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciB4YXBpVmFsaWRhdGlvblV0aWxzO1xuXG54YXBpVmFsaWRhdGlvblV0aWxzID0ge1xuICBpc1N0cmluZyhvYmopIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSBJU19TVFJJTkc7XG4gIH0sXG5cbiAgaXNPYmplY3Qob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gT2JqZWN0KG9iaik7XG4gIH0sXG5cbiAgaXNBcnJheTogQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSBJU19BUlJBWTtcbiAgfSxcblxuICBpc0Jvb2xlYW4ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdHJ1ZSB8fCBvYmogPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gSVNfQk9PTEVBTjtcbiAgfSxcblxuICBpc051bWJlcihvYmopIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSBJU19OVU1CRVI7XG4gIH0sXG5cbiAgaXNEZWZpbmVkKG9iaikge1xuICAgIHJldHVybiAob2JqICE9PSBudWxsIHx8IG9iaiAhPT0gdW5kZWZpbmVkKTtcbiAgfSxcblxuICBpc05vbk51bGxNYXBPYmplY3QodGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0RlZmluZWQodGFyZ2V0KSAmJiB0aGlzLmlzT2JqZWN0KHRhcmdldCkgJiYgIXRoaXMuaXNBcnJheSh0YXJnZXQpO1xuICB9LFxuXG4gIGlzVmFsaWRMYW5ndWFnZVRhZyh0YXJnZXQsIHZhbGlkTGFuZ3VhZ2VSZWdleCkge1xuICAgIC8vIFRPRE8gLSB1c2UgbW9yZSBwcmVjaXNlIDU2NDYgaGFuZGxpbmcsIHJhdGhlciB0aGFuIHRoaXMgc2ltcGxpZmllZCBCQ1AgNDcgcmVnZXgsIHdoaWNoIGNvbWJpbmVzIFJGQyA1NjQ2IGFuZCBSRkMgNDY0Ny5cbiAgICAvLyByZXR1cm4gdGhpcy5pc0RlZmluZWQodGFyZ2V0KSAmJiB0aGlzLmlzU3RyaW5nKHRhcmdldCkgJiYgeGFwaVZhbGlkYXRpb25SZWdleC5CQ1BfNDcudGVzdCh0YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmlzRGVmaW5lZCh0YXJnZXQpICYmIHRoaXMuaXNTdHJpbmcodGFyZ2V0KSAmJiB2YWxpZExhbmd1YWdlUmVnZXgudGVzdCh0YXJnZXQpO1xuICB9LFxuXG4gIGFkZFByb3BUb1RyYWNlKHRyYWNlLCBhZGRlbmR1bSkge1xuICAgIHJldHVybiB0aGlzLmlzRGVmaW5lZChhZGRlbmR1bSkgPyBgJHt0cmFjZX0uJHthZGRlbmR1bX1gIDogdHJhY2U7XG4gIH0sXG5cbiAgYWRkTG9va3VwVG9UcmFjZSh0cmFjZSwga2V5KSB7XG4gICAgcmV0dXJuICghdGhpcy5pc0RlZmluZWQoa2V5KSkgPyB0cmFjZSA6ICh0aGlzLmlzTnVtYmVyKGtleSkgPyBgJHt0cmFjZX1bJHtrZXl9XWAgOiBgJHt0cmFjZX1bXCIke2tleX1cIl1gKTtcbiAgfSxcblxuICBsb2NhbFRyYWNlVG9TdHJpbmcodHJhY2UsIGFkZGVuZHVtKSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkUHJvcFRvVHJhY2UodHJhY2UsIGFkZGVuZHVtKTtcbiAgfSxcblxuICBpc0dyb3VwKGFjdG9yT3JHcm91cCwgZ3JvdXBUeXBlKSB7XG4gICAgLy8gcmV0dXJuIChhY3Rvck9yR3JvdXAubWVtYmVyICE9PSBudWxsICYmIGFjdG9yT3JHcm91cC5tZW1iZXIgIT09IHVuZGVmaW5lZCkgfHwgYWN0b3JPckdyb3VwLm9iamVjdFR5cGUgPT09IG9iamVjdFR5cGVzLkdST1VQO1xuICAgIHJldHVybiAoYWN0b3JPckdyb3VwLm1lbWJlciAhPT0gbnVsbCAmJiBhY3Rvck9yR3JvdXAubWVtYmVyICE9PSB1bmRlZmluZWQpIHx8IGFjdG9yT3JHcm91cC5vYmplY3RUeXBlID09PSBncm91cFR5cGU7XG4gIH1cbn07XG5cbmV4cG9ydCB7eGFwaVZhbGlkYXRpb25VdGlsc307XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7cHJvcGVydGllcywgb2JqZWN0VHlwZXMsIHhhcGlWYWxpZGF0aW9uSWZpUHJvcGVydHlOYW1lcywgeEFwaVZhbGlkT2JqZWN0VHlwZXMsIHhhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzfSBmcm9tICcuL2NvbnN0YW50cy9wcm9wZXJ0aWVzJztcbmltcG9ydCB7eGFwaUVycm9yTGV2ZWxzLCB4YXBpVmFsaWRhdGlvbkVycm9yc30gZnJvbSAnLi9jb25zdGFudHMvZXJyb3JzJztcbmltcG9ydCB7eGFwaVZhbGlkYXRpb25JbnRlcmFjdGlvblR5cGVzfSBmcm9tICcuL2NvbnN0YW50cy9pbnRlcmFjdGlvbi10eXBlcyc7XG5pbXBvcnQge3hhcGlWYWxpZGF0aW9uUmVnZXgsIGRhdGVGb3JtYXRSZWdleFBvc2l0aW9uc30gZnJvbSAnLi9jb25zdGFudHMvcmVnZXgnO1xuaW1wb3J0IHt4YXBpR2VuZXJhbH0gZnJvbSAnLi9jb25zdGFudHMvZ2VuZXJhbCc7XG5pbXBvcnQge3hhcGlWYWxpZGF0aW9uVXRpbHN9IGZyb20gJy4vdXRpbHMvdXRpbHMnO1xuXG52YXIgeGFwaVZhbGlkYXRpb247XG5cbmZ1bmN0aW9uIG1ha2VWMVJlcG9ydChpbnN0YW5jZSwgZXJyb3JzKSB7XG4gIHZhciB2ZXJzaW9uO1xuXG4gIGluc3RhbmNlID0gaW5zdGFuY2UgfHwgbnVsbDtcbiAgZXJyb3JzICAgPSBlcnJvcnMgICB8fCBudWxsO1xuICB2ZXJzaW9uICA9IHhhcGlHZW5lcmFsLkZJUlNUX1JFUE9SVF9WRVJTVElPTjtcbiAgcmV0dXJuIHtpbnN0YW5jZSwgZXJyb3JzLCB2ZXJzaW9ufTtcbn1cblxuZnVuY3Rpb24gbWFrZVYxU2luZ2xlRXJyb3JSZXBvcnQoaW5zdGFuY2UsIGVycm9yKSB7XG4gIHJldHVybiBtYWtlVjFSZXBvcnQoaW5zdGFuY2UsIGVycm9yID09PSBudWxsIHx8IGVycm9yID09PSB1bmRlZmluZWQgPyBbXSA6IFtlcnJvcl0pO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUFic2VuY2VPZk5vbldoaXRlbGlzdGVkUHJvcGVydGllcyh0YXJnZXQsIGFsbG93ZWRQcm9wZXJ0aWVzLCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZSwgcHJvcGVydHlOYW1lO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCAnJztcblxuICBmb3IgKHByb3BlcnR5TmFtZSBpbiB0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0Lmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSkgJiYgYWxsb3dlZFByb3BlcnRpZXMuaW5kZXhPZihwcm9wZXJ0eU5hbWUpID09PSB4YXBpR2VuZXJhbC5OT19JTkRFWF9GT1VORCkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydHlOYW1lKSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuVU5FWFBFQ1RFRCxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydHlJc1N0cmluZyhwYXJlbnQsIHByb3BlcnR5TmFtZSwgdHJhY2UsIGVycm9ycywgaXNSZXF1aXJlZCwgdmlvbGF0aW9uVHlwZSkge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2UsIHByb3BWYWx1ZSwgbG9jYWxWaW9sYXRpb25UeXBlO1xuXG4gIGxvY2FsRXJyb3JzICAgICAgICA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgICAgICAgID0gdHJhY2UgIHx8ICcnO1xuICBwcm9wVmFsdWUgICAgICAgICAgPSBwYXJlbnRbcHJvcGVydHlOYW1lXSxcbiAgbG9jYWxWaW9sYXRpb25UeXBlID0gdmlvbGF0aW9uVHlwZSB8fCB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT047XG5cbiAgaWYgKHByb3BWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCAheGFwaVZhbGlkYXRpb25VdGlscy5pc1N0cmluZyhwcm9wVmFsdWUpKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydHlOYW1lKSxcbiAgICAgICAgbWVzc2FnZTogYCR7cHJvcGVydHlOYW1lfSAke3hhcGlWYWxpZGF0aW9uRXJyb3JzLk1VU1RfQkVfU1RSSU5HfWAsXG4gICAgICAgIGxldmVsOiAgIGxvY2FsVmlvbGF0aW9uVHlwZVxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnR5TmFtZSksXG4gICAgICBtZXNzYWdlOiBgJHtwcm9wZXJ0eU5hbWV9ICR7eGFwaVZhbGlkYXRpb25FcnJvcnMuTVVTVF9CRV9QUkVTRU5UfWAsXG4gICAgICBsZXZlbDogICBsb2NhbFZpb2xhdGlvblR5cGVcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eUlzVXJpKHRhcmdldCwgcHJvcGVydHlOYW1lLCB0cmFjZSwgZXJyb3JzLCBpc1JlcXVpcmVkKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZSwgcHJvcFZhbHVlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCAnJztcbiAgcHJvcFZhbHVlICAgPSB0YXJnZXRbcHJvcGVydHlOYW1lXTtcblxuICBpZiAocHJvcFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzU3RyaW5nKHByb3BWYWx1ZSkpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgICBtZXNzYWdlOiBgJHtwcm9wZXJ0eU5hbWV9ICR7eGFwaVZhbGlkYXRpb25FcnJvcnMuTVVTVF9CRV9VUklfU1RSSU5HfWAsXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICgheGFwaVZhbGlkYXRpb25SZWdleC5JUkkudGVzdChwcm9wVmFsdWUpKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgICBtZXNzYWdlOiBgJHtwcm9wZXJ0eU5hbWV9ICR7eGFwaVZhbGlkYXRpb25FcnJvcnMuTVVTVF9CRV9JUklfU1RSSU5HfWAsXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5TSE9VTERfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNSZXF1aXJlZCkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydHlOYW1lKSxcbiAgICAgIG1lc3NhZ2U6IGAke3Byb3BlcnR5TmFtZX0gJHt4YXBpVmFsaWRhdGlvbkVycm9ycy5NVVNUX0JFX1VSSV9QUkVTRU5UfWAsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydHlJc1VybCh0YXJnZXQsIHByb3BlcnR5TmFtZSwgdHJhY2UsIGVycm9ycywgaXNSZXF1aXJlZCkge1xuICAvLyBUT0RPIC0gY2hlY2sgd2hldGhlciBhIGZvcm1hbCBVUkwgZm9ybWF0IGRlZmluaXRpb24gaXMgcmVjb21tZW5kZWQvZW5mb3JjZWQgZm9yIHhBUElcbiAgcmV0dXJuIHZhbGlkYXRlUHJvcGVydHlJc1N0cmluZyh0YXJnZXQsIHByb3BlcnR5TmFtZSwgdHJhY2UsIGVycm9ycywgaXNSZXF1aXJlZCk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydHlJc0Jvb2xlYW4ocGFyZW50LCBwcm9wZXJ0eU5hbWUsIHRyYWNlLCBlcnJvcnMsIGlzUmVxdWlyZWQpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlLCBwcm9wVmFsdWU7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8ICcnO1xuICBwcm9wVmFsdWUgICA9IHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuXG4gIGlmIChwcm9wVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChwcm9wVmFsdWUgPT09IG51bGwgfHwgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNCb29sZWFuKHByb3BWYWx1ZSkpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgICBtZXNzYWdlOiBgJHtwcm9wZXJ0eU5hbWV9ICR7eGFwaVZhbGlkYXRpb25FcnJvcnMuTVVTVF9CRV9CT09MRUFOfWAsXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnR5TmFtZSksXG4gICAgICBtZXNzYWdlOiBgJHtwcm9wZXJ0eU5hbWV9ICR7eGFwaVZhbGlkYXRpb25FcnJvcnMuTVVTVF9CRV9CT09MRUFOX1BSRVNFTlR9YCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eUlzTnVtYmVyKHBhcmVudCwgcHJvcGVydHlOYW1lLCB0cmFjZSwgZXJyb3JzLCBpc1JlcXVpcmVkKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZSwgcHJvcFZhbHVlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCAnJztcbiAgcHJvcFZhbHVlICAgPSBwYXJlbnRbcHJvcGVydHlOYW1lXTtcblxuICAgIGlmIChwcm9wVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCAheGFwaVZhbGlkYXRpb25VdGlscy5pc051bWJlcihwcm9wVmFsdWUpKSB7XG4gICAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnR5TmFtZSksXG4gICAgICAgICAgbWVzc2FnZTogYCR7cHJvcGVydHlOYW1lfSAke3hhcGlWYWxpZGF0aW9uRXJyb3JzLk1VU1RfQkVfTlVNQkVSfWAsXG4gICAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnR5TmFtZSksXG4gICAgICAgIG1lc3NhZ2U6IGAke3Byb3BlcnR5TmFtZX0gJHt4YXBpVmFsaWRhdGlvbkVycm9ycy5NVVNUX0JFX05VTUJFUl9QUkVTRU5UfWAsXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVJRklQcm9wZXJ0aWVzKHRhcmdldCwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2UsIGFjY291bnRUcmFjZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgJyc7XG5cbiAgaWYgKHRhcmdldC5tYm94ICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0Lm1ib3ggIT09IG51bGwpIHtcbiAgICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNTdHJpbmcodGFyZ2V0Lm1ib3gpKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6IHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuTUJPWCksXG4gICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLklGSV9NVVNUX0JFX01CT1hfVVJJLFxuICAgICAgICBsZXZlbDogeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCF4YXBpVmFsaWRhdGlvblJlZ2V4Lk1BSUxUT19VUkkudGVzdCh0YXJnZXQubWJveCkpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLk1CT1gpLFxuICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5JRklfTVVTVF9CRV9WQUxJRF9NQk9YX0ZPUk1BVCxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YWxpZGF0ZVByb3BlcnR5SXNTdHJpbmcodGFyZ2V0LCBwcm9wZXJ0aWVzLk1CT1hfU0hBXzFfU1VNLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovZmFsc2UpO1xuICB2YWxpZGF0ZVByb3BlcnR5SXNVcmkodGFyZ2V0LCBwcm9wZXJ0aWVzLk9QRU5fSUQsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAvKmlzUmVxdWlyZWQqL2ZhbHNlKTtcblxuICBpZiAodGFyZ2V0LmFjY291bnQgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQuYWNjb3VudCAhPT0gbnVsbCkge1xuICAgIGFjY291bnRUcmFjZSA9IHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5BQ0NPVU5UKTtcbiAgICB2YWxpZGF0ZVByb3BlcnR5SXNVcmkodGFyZ2V0LmFjY291bnQsIHByb3BlcnRpZXMuSE9NRV9QQUdFLGFjY291bnRUcmFjZSwgbG9jYWxFcnJvcnMsIC8qaXNSZXF1aXJlZCovdHJ1ZSk7XG4gICAgdmFsaWRhdGVQcm9wZXJ0eUlzU3RyaW5nKHRhcmdldC5hY2NvdW50LCBwcm9wZXJ0aWVzLk5BTUUsIGFjY291bnRUcmFjZSwgbG9jYWxFcnJvcnMsIC8qaXNSZXF1aXJlZCovdHJ1ZSk7XG4gICAgdmFsaWRhdGVBYnNlbmNlT2ZOb25XaGl0ZWxpc3RlZFByb3BlcnRpZXModGFyZ2V0LmFjY291bnQsIHhhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzLklGSSwgYWNjb3VudFRyYWNlLCBsb2NhbEVycm9ycyk7XG4gIH1cblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIGdldElGSXModGFyZ2V0KSB7XG4gIHZhciBpZmlzO1xuXG4gIGlmICh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB1bmRlZmluZWQpIHtyZXR1cm4gW107fVxuXG4gIGlmaXMgPSB4YXBpVmFsaWRhdGlvbklmaVByb3BlcnR5TmFtZXMuZmlsdGVyKChuYW1lKSA9PiB7XG4gICAgaWYgKHRhcmdldFtuYW1lXSAhPT0gdW5kZWZpbmVkICYmIHRhcmdldFtuYW1lXSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHtrZXk6IG5hbWUsIHZhbHVlOiB0YXJnZXRbbmFtZV19O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGlmaXM7XG59XG5cbmZ1bmN0aW9uIGdldElGSUNvdW50KHRhcmdldCkge1xuICByZXR1cm4gZ2V0SUZJcyh0YXJnZXQpLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVFeHRlbnNpb25zKGV4dGVuc2lvbnMsIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdLFxuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCBwcm9wZXJ0aWVzLkVYVEVOU0lPTlM7XG5cbiAgaWYgKGV4dGVuc2lvbnMgPT09IHVuZGVmaW5lZCkge3JldHVybiBsb2NhbEVycm9yczt9XG5cbiAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTm9uTnVsbE1hcE9iamVjdChleHRlbnNpb25zKSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgbG9jYWxUcmFjZSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkVYVEVOU0lPTlNfTVVTVF9OT1RfQkVfTlVMTCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG4gIC8vIFRPRE8gLSBkb3VibGUtY2hlY2sgd2hhdCBmdXJ0aGVyIGVuZm9yY2VhYmxlIGNvbnN0cmFpbnRzIGV4aXN0IG9uIGV4dGVuc2lvbiBvYmplY3QgcHJvcGVydGllc1xuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTGFuZ3VhZ2VNYXAobGFuZ3VhZ2VNYXAsIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlLCBwcm9wTmFtZSwgbWFwcGVkVmFsdWU7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuTEFOR1VBR0VfTUFQO1xuXG4gIGlmIChsYW5ndWFnZU1hcCA9PT0gdW5kZWZpbmVkKSB7cmV0dXJuIGxvY2FsRXJyb3JzO31cblxuICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOb25OdWxsTWFwT2JqZWN0KGxhbmd1YWdlTWFwKSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkxBTkdVQUdFX01BUFNfTVVTVF9OT1RfQkVfTlVMTCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgZm9yIChwcm9wTmFtZSBpbiBsYW5ndWFnZU1hcCkge1xuXG4gICAgaWYgKGxhbmd1YWdlTWFwLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzVmFsaWRMYW5ndWFnZVRhZyhwcm9wTmFtZSwgeGFwaVZhbGlkYXRpb25SZWdleC5CQ1BfNDcpKSB7XG4gICAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcE5hbWUpLFxuICAgICAgICAgIG1lc3NhZ2U6IGAke3Byb3BOYW1lfSAke3hhcGlWYWxpZGF0aW9uRXJyb3JzLkxBTkdVQUdFX01BUF9LRVlfSU5WQUxJRH1gLFxuICAgICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgbWFwcGVkVmFsdWUgPSBsYW5ndWFnZU1hcFtwcm9wTmFtZV07XG5cbiAgICAgIGlmIChtYXBwZWRWYWx1ZSA9PT0gbnVsbCB8fCBtYXBwZWRWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzU3RyaW5nKG1hcHBlZFZhbHVlKSkge1xuICAgICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZExvb2t1cFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcE5hbWUpLFxuICAgICAgICAgIG1lc3NhZ2U6IGAke3Byb3BOYW1lfSAke3hhcGlWYWxpZGF0aW9uRXJyb3JzLkxBTkdVQUdFX01BUF9LRVlfTVVTVF9CRV9TVFJJTkd9YCxcbiAgICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVZlcmIodmVyYiwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuVkVSQjtcblxuICBpZiAodmVyYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLlZFUkJfTVVTVF9CRV9QUk9WSURFRCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTm9uTnVsbE1hcE9iamVjdCh2ZXJiKSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5WRVJCX01VU1RfTk9UX0JFX05VTEwsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIHZhbGlkYXRlUHJvcGVydHlJc1VyaSh2ZXJiLCBwcm9wZXJ0aWVzLklELCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovdHJ1ZSk7XG5cbiAgaWYgKHZlcmIuZGlzcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuRElTUExBWSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5ESVNQTEFZX1NIT1VMRF9CRV9QUk9WSURFRCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5TSE9VTERfVklPTEFUSU9OXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdmFsaWRhdGVMYW5ndWFnZU1hcCh2ZXJiLmRpc3BsYXksIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5ESVNQTEFZKSwgbG9jYWxFcnJvcnMpO1xuICB9XG5cbiAgdmFsaWRhdGVBYnNlbmNlT2ZOb25XaGl0ZWxpc3RlZFByb3BlcnRpZXModmVyYiwgeGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuVVJJLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUludGVyYWN0aW9uQ29tcG9uZW50QXJyYXkoY29tcG9uZW50cywgaW50ZXJhY3Rpb25UeXBlLCBhbGxvd2VkSW50ZXJhY3Rpb25UeXBlcywgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2UsIGlzQWxsb3dlZENvbXBvbmVudFR5cGUsIGlkcywgcGVyQ29tcG9uZW50VHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgICAgICAgICAgICA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgICAgICAgICAgICA9IHRyYWNlICB8fCBwcm9wZXJ0aWVzLklOVEVSQUNUSU9OX0NPTVBPTkVOVFM7XG4gIGlzQWxsb3dlZENvbXBvbmVudFR5cGUgPSBhbGxvd2VkSW50ZXJhY3Rpb25UeXBlcy5pbmRleE9mKGludGVyYWN0aW9uVHlwZSkgIT09IHhhcGlHZW5lcmFsLk5PX0lOREVYX0ZPVU5EO1xuICBpZHMgICAgICAgICAgICAgICAgICAgID0gW107XG5cbiAgaWYgKGlzQWxsb3dlZENvbXBvbmVudFR5cGUgJiYgY29tcG9uZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGNvbXBvbmVudHMgPT09IG51bGwgfHwgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNBcnJheShjb21wb25lbnRzKSkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIGxvY2FsVHJhY2UsXG4gICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLklOVEVSQUNUSU9OX0NPTVBPTkVOVF9TSE9VTERfQkVfQVJSQVksXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5TSE9VTERfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tcG9uZW50cy5mb3JFYWNoKChpbnRlcmFjdGlvbkNvbXBvbmVudCwgaSkgPT4ge1xuICAgICAgICBwZXJDb21wb25lbnRUcmFjZSA9IHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkTG9va3VwVG9UcmFjZShsb2NhbFRyYWNlLCBpKTtcblxuICAgICAgICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOb25OdWxsTWFwT2JqZWN0KGludGVyYWN0aW9uQ29tcG9uZW50KSkge1xuICAgICAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgdHJhY2U6ICAgcGVyQ29tcG9uZW50VHJhY2UsXG4gICAgICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5JTlRFUkFDVElPTl9DT01QT05FTlRfTVVTVF9OT1RfQkVfTlVMTCxcbiAgICAgICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbGlkYXRlUHJvcGVydHlJc1N0cmluZyhpbnRlcmFjdGlvbkNvbXBvbmVudCwgcHJvcGVydGllcy5JRCwgcGVyQ29tcG9uZW50VHJhY2UsIGxvY2FsRXJyb3JzLCAvKmlzUmVxdWlyZWQqL3RydWUsIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTik7XG4gICAgICAgICAgaWYgKGlkcy5pbmRleE9mKGludGVyYWN0aW9uQ29tcG9uZW50LmlkKSAhPT0geGFwaUdlbmVyYWwuTk9fSU5ERVhfRk9VTkQpIHtcbiAgICAgICAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKHBlckNvbXBvbmVudFRyYWNlLCBwcm9wZXJ0aWVzLklEKSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuSURfTVVTVF9CRV9VTklRVUUsXG4gICAgICAgICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlkcy5wdXNoKGludGVyYWN0aW9uQ29tcG9uZW50LmlkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25Db21wb25lbnQuaWQgJiYgeGFwaVZhbGlkYXRpb25SZWdleC5DT05UQUlOU19XSElURVNQQUNFLnRlc3QoaW50ZXJhY3Rpb25Db21wb25lbnQuaWQpKSB7XG4gICAgICAgICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShwZXJDb21wb25lbnRUcmFjZSwgcHJvcGVydGllcy5JRCksXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLklEX1NIT1VMRF9OT1RfQ09OVEFJTl9XSElURVNQQUNFUyxcbiAgICAgICAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLlNIT1VMRF9WSU9MQVRJT05cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhbGlkYXRlTGFuZ3VhZ2VNYXAoaW50ZXJhY3Rpb25Db21wb25lbnQuZGVzY3JpcHRpb24sIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UocGVyQ29tcG9uZW50VHJhY2UsIHByb3BlcnRpZXMuREVTQ1JJUFRJT04pLCBsb2NhbEVycm9ycyk7XG4gICAgICAgICAgdmFsaWRhdGVBYnNlbmNlT2ZOb25XaGl0ZWxpc3RlZFByb3BlcnRpZXMoaW50ZXJhY3Rpb25Db21wb25lbnQsIHhhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzLkNPTVBPTkVOVF9BUlJBWSwgcGVyQ29tcG9uZW50VHJhY2UsIGxvY2FsRXJyb3JzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB9XG4gIH0gZWxzZSBpZiAoaW50ZXJhY3Rpb25UeXBlICYmIGNvbXBvbmVudHMpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIGxvY2FsVHJhY2UsXG4gICAgICBtZXNzYWdlOiBgJHt4YXBpVmFsaWRhdGlvbkVycm9ycy5JTlRFUkFDVElPTl9UWVBFX01VU1RfQkVfVkFMSUR9ICR7aW50ZXJhY3Rpb25UeXBlfWAsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuU0hPVUxEX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUFjdGl2aXR5RGVmaW50aW9uKGRlZmluaXRpb24sIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlLCBjb3JyZWN0UmVzcG9uc2VzUGF0dGVyblRyYWNlO1xuXG4gIGxvY2FsRXJyb3JzICAgICAgICAgICAgICAgICAgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgICAgICAgICAgICAgICAgICAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5ERUZJTklUSU9OO1xuICBjb3JyZWN0UmVzcG9uc2VzUGF0dGVyblRyYWNlID0geGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkNPUlJFQ1RfUkVTUE9OU0VTX1BBVFRFUk4pO1xuXG4gIGlmICgheGFwaVZhbGlkYXRpb25VdGlscy5pc05vbk51bGxNYXBPYmplY3QoZGVmaW5pdGlvbikpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5ERUZJTklUSU9OU19NVVNUX0JFX09CSkVDVFMsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIHZhbGlkYXRlTGFuZ3VhZ2VNYXAoZGVmaW5pdGlvbi5uYW1lLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuTkFNRSksIGxvY2FsRXJyb3JzKTtcbiAgdmFsaWRhdGVMYW5ndWFnZU1hcChkZWZpbml0aW9uLmRlc2NyaXB0aW9uLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuREVTQ1JJUFRJT04pLCBsb2NhbEVycm9ycyk7XG5cbiAgdmFsaWRhdGVQcm9wZXJ0eUlzVXJpKGRlZmluaXRpb24sIHByb3BlcnRpZXMuVFlQRSwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMsICAvKmlzUmVxdWlyZWQqL2ZhbHNlKTtcbiAgdmFsaWRhdGVQcm9wZXJ0eUlzVXJsKGRlZmluaXRpb24sIHByb3BlcnRpZXMuTU9SRV9JTkZPLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovZmFsc2UpO1xuICB2YWxpZGF0ZUV4dGVuc2lvbnMoZGVmaW5pdGlvbi5leHRlbnNpb25zLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuRVhURU5TSU9OUyksIGxvY2FsRXJyb3JzKTtcblxuICBpZiAoZGVmaW5pdGlvbi5pbnRlcmFjdGlvblR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChkZWZpbml0aW9uLnR5cGUgIT09IHhhcGlHZW5lcmFsLklOVEVSQUNUSU9OX0RFRklOSVRJT05fVFlQRSkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuVFlQRSksXG4gICAgICAgIG1lc3NhZ2U6IGAke3hhcGlWYWxpZGF0aW9uRXJyb3JzLklOVEVSQUNUSU9OX0FDVElWSVRZX1NIT1VMRF9IQVZFfSBcIiR7eGFwaUdlbmVyYWwuSU5URVJBQ1RJT05fREVGSU5JVElPTl9UWVBFfVwiYCxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLlNIT1VMRF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh4YXBpVmFsaWRhdGlvbkludGVyYWN0aW9uVHlwZXMuaW5kZXhPZihkZWZpbml0aW9uLmludGVyYWN0aW9uVHlwZSkgPT09IHhhcGlHZW5lcmFsLk5PX0lOREVYX0ZPVU5EKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydGllcy5JTlRFUkFDVElPTl9UWVBFKSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuSU5URVJBQ1RJT05fVFlQRV9NVVNUX0JFX0NNSSxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoZGVmaW5pdGlvbi5jb3JyZWN0UmVzcG9uc2VzUGF0dGVybiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzQXJyYXkoZGVmaW5pdGlvbi5jb3JyZWN0UmVzcG9uc2VzUGF0dGVybikpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICBjb3JyZWN0UmVzcG9uc2VzUGF0dGVyblRyYWNlLFxuICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5DT1JSRUNUX1JFU1BPTlNFU19QQVRURVJOX01VU1RfQkVfQVJSQVksXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlZmluaXRpb24uY29ycmVjdFJlc3BvbnNlc1BhdHRlcm4uZm9yRWFjaCgocmVzcG9uc2UsIGkpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB1bmRlZmluZWQgfHwgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNTdHJpbmcocmVzcG9uc2UpKSB7XG4gICAgICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZExvb2t1cFRvVHJhY2UoY29ycmVjdFJlc3BvbnNlc1BhdHRlcm5UcmFjZSwgaSksXG4gICAgICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5DT1JSRUNUX1JFU1BPTlNFU19QQVRURVJOX01VU1RfQkVfU1RSSU5HUyxcbiAgICAgICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YWxpZGF0ZUludGVyYWN0aW9uQ29tcG9uZW50QXJyYXkoXG4gICAgZGVmaW5pdGlvbi5jaG9pY2VzLFxuICAgIGRlZmluaXRpb24uaW50ZXJhY3Rpb25UeXBlLFxuICAgIFtwcm9wZXJ0aWVzLkNIT0lDRSwgcHJvcGVydGllcy5TRVFVRU5DSU5HXSxcbiAgICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuQ0hPSUNFUyksXG4gICAgbG9jYWxFcnJvcnNcbiAgKTtcblxuICB2YWxpZGF0ZUludGVyYWN0aW9uQ29tcG9uZW50QXJyYXkoXG4gICAgZGVmaW5pdGlvbi5zY2FsZSxcbiAgICBkZWZpbml0aW9uLmludGVyYWN0aW9uVHlwZSxcbiAgICBbcHJvcGVydGllcy5MSUtFUlRdLFxuICAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5TQ0FMRSksXG4gICAgbG9jYWxFcnJvcnNcbiAgKTtcblxuICB2YWxpZGF0ZUludGVyYWN0aW9uQ29tcG9uZW50QXJyYXkoXG4gICAgZGVmaW5pdGlvbi5zb3VyY2UsXG4gICAgZGVmaW5pdGlvbi5pbnRlcmFjdGlvblR5cGUsXG4gICAgW3Byb3BlcnRpZXMuTUFUQ0hJTkddLFxuICAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5TT1VSQ0UpLFxuICAgIGxvY2FsRXJyb3JzXG4gICk7XG5cbiAgdmFsaWRhdGVJbnRlcmFjdGlvbkNvbXBvbmVudEFycmF5KFxuICAgIGRlZmluaXRpb24udGFyZ2V0LFxuICAgIGRlZmluaXRpb24uaW50ZXJhY3Rpb25UeXBlLFxuICAgIFtwcm9wZXJ0aWVzLk1BVENISU5HXSxcbiAgICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuVEFSR0VUKSxcbiAgICBsb2NhbEVycm9yc1xuICApO1xuXG4gIHZhbGlkYXRlSW50ZXJhY3Rpb25Db21wb25lbnRBcnJheShcbiAgICBkZWZpbml0aW9uLnN0ZXBzLFxuICAgIGRlZmluaXRpb24uaW50ZXJhY3Rpb25UeXBlLFxuICAgIFtwcm9wZXJ0aWVzLlBFUkZPUk1BTkNFXSxcbiAgICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuU1RFUFMpLFxuICAgIGxvY2FsRXJyb3JzXG4gICk7XG5cbiAgdmFsaWRhdGVBYnNlbmNlT2ZOb25XaGl0ZWxpc3RlZFByb3BlcnRpZXMoZGVmaW5pdGlvbiwgeGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuQUNUSVZJVFlfREVGSU5JVElPTiwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQWN0aXZpdHkoYWN0aXZpdHksIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCBwcm9wZXJ0aWVzLkFDVElWSVRZO1xuXG4gIGlmICgheGFwaVZhbGlkYXRpb25VdGlscy5pc05vbk51bGxNYXBPYmplY3QoYWN0aXZpdHkpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkFDVElWSVRJRVNfTVVTVF9OT1RfQkVfTlVMTCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgdmFsaWRhdGVQcm9wZXJ0eUlzVXJpKGFjdGl2aXR5LCBwcm9wZXJ0aWVzLklELCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovdHJ1ZSk7XG5cbiAgaWYgKGFjdGl2aXR5LmRlZmluaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbGlkYXRlQWN0aXZpdHlEZWZpbnRpb24oXG4gICAgICBhY3Rpdml0eS5kZWZpbml0aW9uLFxuICAgICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkRFRklOSVRJT04pLFxuICAgICAgbG9jYWxFcnJvcnNcbiAgICApO1xuICB9XG5cbiAgdmFsaWRhdGVBYnNlbmNlT2ZOb25XaGl0ZWxpc3RlZFByb3BlcnRpZXMoYWN0aXZpdHksIHhhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzLkFDVElWSVRZLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVN0YXRlbWVudFJlZihzdGF0ZW1lbnRSZWYsIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCBwcm9wZXJ0aWVzLlNUQVRFTUVOVF9SRUY7XG5cbiAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTm9uTnVsbE1hcE9iamVjdChzdGF0ZW1lbnRSZWYpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLlNUQVRFTUVOVF9SRUZfTVVTVF9OT1RfQkVfTlVMTF9NQVBfT0JKRUNUUyxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG5cbiAgaWYgKHN0YXRlbWVudFJlZi5vYmplY3RUeXBlICE9PSBvYmplY3RUeXBlcy5TVEFURU1FTlRfUkVGKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuT0JKRUNUX1RZUEUpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuT0JKRUNUX1RZUEVfTVVTVF9CRV9TVEFURU1FTlRfUkVGLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cblxuICBpZiAoIXN0YXRlbWVudFJlZi5pZCB8fCAheGFwaVZhbGlkYXRpb25SZWdleC5VVUlELnRlc3Qoc3RhdGVtZW50UmVmLmlkKSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLklEKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLklEX01VU1RfQkVfVkFMSURfVVVJRF9SRUYsXG4gICAgICBsZXZlbDogIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgdmFsaWRhdGVBYnNlbmNlT2ZOb25XaGl0ZWxpc3RlZFByb3BlcnRpZXMoc3RhdGVtZW50UmVmLCB4YXBpV2hpdGVMaXN0UHJvcGVydGllcy5TVEFURU1FTlRfUkVGLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVNjb3JlKHNjb3JlLCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5TQ09SRTtcblxuICBpZiAoc2NvcmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgdmFsaWRhdGVQcm9wZXJ0eUlzTnVtYmVyKHNjb3JlLCBwcm9wZXJ0aWVzLlNDQUxFRCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMsICAvKmlzUmVxdWlyZWQqL2ZhbHNlKTtcblxuICBpZiAoc2NvcmUuc2NhbGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoc2NvcmUuc2NhbGVkIDwgeGFwaUdlbmVyYWwuTUlOX1NDQUxFRF9WQUxVRSB8fCBzY29yZS5zY2FsZWQgPiB4YXBpR2VuZXJhbC5NQVhfU0NBTEVEX1ZBTFVFKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlNDQUxFRCksXG4gICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLlNDQUxFRF9NVVNUX0JFX0JFVFdFRU5fMF8xLFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzY29yZS5taW4gIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbGlkYXRlUHJvcGVydHlJc051bWJlcihzY29yZSwgcHJvcGVydGllcy5NSU4sIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi9mYWxzZSk7XG5cbiAgICAgIGlmIChzY29yZS5yYXcgIT09IHVuZGVmaW5lZCAmJiBzY29yZS5yYXcgPCBzY29yZS5taW4pIHtcbiAgICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlJBVyksXG4gICAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuUkFXX01VU1RfQkVfR1JFQVRFUl9USEFOX01JTixcbiAgICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzY29yZS5tYXggIT09IHVuZGVmaW5lZCAmJiBzY29yZS5tYXggPCBzY29yZS5taW4pIHtcbiAgICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLk1BWCksXG4gICAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuTUFYX01VU1RfQkVfR1JFQVRFUl9USEFOX01JTixcbiAgICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgICAgfSk7XG4gICAgICB9XG4gIH1cblxuICBpZiAoc2NvcmUubWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YWxpZGF0ZVByb3BlcnR5SXNOdW1iZXIoc2NvcmUsIHByb3BlcnRpZXMuTUFYLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovZmFsc2UpO1xuXG4gICAgaWYgKHNjb3JlLnJhdyAhPT0gdW5kZWZpbmVkICYmIHNjb3JlLnJhdyA+IHNjb3JlLm1heCkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5SQVcpLFxuICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5SQVdfTVVTVF9CRV9MRVNTX1RIQU5fTUFYLFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlUHJvcGVydHlJc051bWJlcihzY29yZSwgcHJvcGVydGllcy5SQVcsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi9mYWxzZSk7XG4gIHZhbGlkYXRlQWJzZW5jZU9mTm9uV2hpdGVsaXN0ZWRQcm9wZXJ0aWVzKHNjb3JlLCB4YXBpV2hpdGVMaXN0UHJvcGVydGllcy5TQ09SRSwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVSZXN1bHQocmVzdWx0LCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5SRVNVTFQ7XG5cbiAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7cmV0dXJuIGxvY2FsRXJyb3JzO31cblxuICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOb25OdWxsTWFwT2JqZWN0KHJlc3VsdCkpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5SRVNVTFRfTVVTVF9CRV9NQVBfT0JKRUNULFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICB2YWxpZGF0ZVNjb3JlKHJlc3VsdC5zY29yZSwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlNDT1JFKSwgbG9jYWxFcnJvcnMpO1xuICB2YWxpZGF0ZVByb3BlcnR5SXNCb29sZWFuKHJlc3VsdCwgcHJvcGVydGllcy5TVUNDRVNTLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovZmFsc2UpO1xuICB2YWxpZGF0ZVByb3BlcnR5SXNCb29sZWFuKHJlc3VsdCwgcHJvcGVydGllcy5DT01QTEVUSU9OLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovZmFsc2UpO1xuICB2YWxpZGF0ZVByb3BlcnR5SXNTdHJpbmcocmVzdWx0LCBwcm9wZXJ0aWVzLlJFU1BPTlNFLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovZmFsc2UpO1xuICB2YWxpZGF0ZUV4dGVuc2lvbnMocmVzdWx0LmV4dGVuc2lvbnMsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5FWFRFTlNJT05TKSwgbG9jYWxFcnJvcnMpO1xuXG4gIGlmIChyZXN1bHQuZHVyYXRpb24gIT09IHVuZGVmaW5lZCAmJiAocmVzdWx0LmR1cmF0aW9uID09PSBudWxsIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzU3RyaW5nKHJlc3VsdC5kdXJhdGlvbikgfHwgIXhhcGlWYWxpZGF0aW9uUmVnZXguSVNPXzg2MDFfRFVSQVRJT04udGVzdChyZXN1bHQuZHVyYXRpb24pKSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkRVUkFUSU9OKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkRVUkFUSU9OX01VU1RfQkVfVkFMSUQsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcbiAgfVxuXG4gIHZhbGlkYXRlQWJzZW5jZU9mTm9uV2hpdGVsaXN0ZWRQcm9wZXJ0aWVzKHJlc3VsdCwgeGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuUkVTVUxULCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5SXNJU084NjAxU3RyaW5nKHBhcmVudCwgcHJvcGVydHlOYW1lLCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZSwgbWF0Y2hlZCwgZGF0ZXRpbWU7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuREFURV9USU1FO1xuICBkYXRldGltZSAgICA9IHBhcmVudFtwcm9wZXJ0eU5hbWVdO1xuXG4gIGlmIChkYXRldGltZSA9PT0gdW5kZWZpbmVkKSB7cmV0dXJuIGxvY2FsRXJyb3JzO31cblxuICBpZiAoZGF0ZXRpbWUgPT09IG51bGwgfHwgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNTdHJpbmcoZGF0ZXRpbWUpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0eU5hbWUpLFxuICAgICAgbWVzc2FnZTogYCR7cHJvcGVydHlOYW1lfSAke3hhcGlWYWxpZGF0aW9uRXJyb3JzLk1VU1RfQkVfU1RSSU5HfWAsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIG1hdGNoZWQgPSB4YXBpVmFsaWRhdGlvblJlZ2V4LklTT184NjAxX0RBVEVfVElNRS5leGVjKGRhdGV0aW1lKTtcblxuICBpZiAobWF0Y2hlZCkge1xuICAgIGlmICghZGF0ZUluY2x1ZGVzWm9uZUluZm9ybWF0aW9uKG1hdGNoZWQpKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydHlOYW1lKSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuREFURV9TSE9VTERfSU5DTFVERV9aT05FX0lORk9STUFUSU9OLFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuU0hPVUxEX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydHlOYW1lKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkRBVEVfTVVTVF9CRV9WQUxJRCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVZlcnNpb24odmVyc2lvbiwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuVkVSU0lPTjtcblxuICBpZiAodmVyc2lvbiA9PT0gdW5kZWZpbmVkKSB7cmV0dXJuIGxvY2FsRXJyb3JzO31cblxuICBpZiAodmVyc2lvbiA9PT0gbnVsbCB8fCAheGFwaVZhbGlkYXRpb25VdGlscy5pc1N0cmluZyh2ZXJzaW9uKSB8fCAheGFwaVZhbGlkYXRpb25SZWdleC5TRU1WRVJfMV9QXzBfUF8wLnRlc3QodmVyc2lvbikpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuVkVSU0lPTl9NVVNUX0NPTVBMWV9TRU1BTlRJQ19WRVJTSU9OSU5HLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQXR0YWNobWVudE9iamVjdChhdHRhY2htZW50LCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSB8fCBwcm9wZXJ0aWVzLkFUVEFDSE1FTlQ7XG5cbiAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTm9uTnVsbE1hcE9iamVjdChhdHRhY2htZW50KSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5BVFRBQ0hNRU5UU19NVVNUX05PVF9CRV9OVUxMX01BUF9PQkpFQ1RTLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICBpZiAoYXR0YWNobWVudC5kaXNwbGF5ID09PSB1bmRlZmluZWQpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuRElTUExBWSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5ESVNQTEFZX1NIT1VMRF9CRV9QUk9WSURFRCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuXG4gIH0gZWxzZSB7XG4gICAgdmFsaWRhdGVMYW5ndWFnZU1hcChhdHRhY2htZW50LmRpc3BsYXksIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5ESVNQTEFZKSwgbG9jYWxFcnJvcnMpO1xuICB9XG5cbiAgdmFsaWRhdGVMYW5ndWFnZU1hcChhdHRhY2htZW50LmRlc2NyaXB0aW9uLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuREVTQ1JJUFRJT04pLCBsb2NhbEVycm9ycyk7XG4gIHZhbGlkYXRlUHJvcGVydHlJc1VyaShhdHRhY2htZW50LCBwcm9wZXJ0aWVzLlVTQUdFX1RZUEUsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAvKmlzUmVxdWlyZWQqL3RydWUsIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTik7XG4gIHZhbGlkYXRlUHJvcGVydHlJc1VyaShhdHRhY2htZW50LCBwcm9wZXJ0aWVzLkZJTEVfVVJMLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgIC8qaXNSZXF1aXJlZCovZmFsc2UsIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTik7XG5cbiAgLy8gVE9ETyAtIG1vcmUgY29tcGxldGUgdmFsaWRhdGlvbiBmb3IgSW50ZXJuZXQgTWVkaWEgVHlwZSB2aWEgUkZDIDIwNDZcbiAgdmFsaWRhdGVQcm9wZXJ0eUlzU3RyaW5nKGF0dGFjaG1lbnQsIHByb3BlcnRpZXMuQ09OVEVOVF9UWVBFLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgLyppc1JlcXVpcmVkKi90cnVlLCB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT04pO1xuXG4gIGlmIChhdHRhY2htZW50Lmxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGF0dGFjaG1lbnQubGVuZ3RoID09PSBudWxsIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTnVtYmVyKGF0dGFjaG1lbnQubGVuZ3RoKSB8fCAoYXR0YWNobWVudC5sZW5ndGggJSAxICE9PSAwKSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydGllcy5MRU5HVEgpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuTEVOR1RIX01VU1RfQkVfSU5URUdFUixcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGF0dGFjaG1lbnQuc2hhMiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlNIQTIpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuU0hBMl9NVVNUX0JFX1BST1ZJREVEX09OX0FUVEFDSE1FTlRfT0JKRUNUUyxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9IGVsc2UgaWYgKGF0dGFjaG1lbnQuc2hhMiA9PT0gbnVsbCB8fCAheGFwaVZhbGlkYXRpb25VdGlscy5pc1N0cmluZyhhdHRhY2htZW50LnNoYTIpIHx8ICF4YXBpVmFsaWRhdGlvblJlZ2V4LkJBU0VfNjQudGVzdChhdHRhY2htZW50LnNoYTIpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlNIQTIpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuU0hBMl9NVVNUX0NPTlRBSU5fQkFTRV82NF9TVFJJTkcsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcbiAgfVxuXG4gIHZhbGlkYXRlQWJzZW5jZU9mTm9uV2hpdGVsaXN0ZWRQcm9wZXJ0aWVzKGF0dGFjaG1lbnQsIHhhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzLkFUVEFDSE1FTlQsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUF0dGFjaG1lbnRzKGF0dGFjaG1lbnRzLCB0cmFjZSwgZXJyb3JzKSB7XG4gIHZhciBsb2NhbEVycm9ycywgbG9jYWxUcmFjZTtcblxuICBsb2NhbEVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgbG9jYWxUcmFjZSAgPSB0cmFjZSAgfHwgcHJvcGVydGllcy5BVFRBQ0hNRU5UUztcblxuICBpZiAoYXR0YWNobWVudHMgPT09IHVuZGVmaW5lZCkge3JldHVybiBsb2NhbEVycm9yczt9XG5cbiAgaWYgKGF0dGFjaG1lbnRzID09PSBudWxsIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzQXJyYXkoYXR0YWNobWVudHMpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkFUVEFDSE1FTlRTX01VU1RfQkVfTk9UX05VTExfQVJSQVksXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIGF0dGFjaG1lbnRzLmZvckVhY2goKGF0dGFjaG1lbnQsIGkpID0+IHtcbiAgICB2YWxpZGF0ZUF0dGFjaG1lbnRPYmplY3QoYXR0YWNobWVudCwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRMb29rdXBUb1RyYWNlKGxvY2FsVHJhY2UsIGkpLCBsb2NhbEVycm9ycyk7XG4gIH0pO1xuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVBZ2VudChhZ2VudCwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2UsIGlmaUNvdW50O1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCBwcm9wZXJ0aWVzLkFHRU5UO1xuXG4gIGlmICgheGFwaVZhbGlkYXRpb25VdGlscy5pc05vbk51bGxNYXBPYmplY3QoYWdlbnQpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkFHRU5UX01VU1RfQkVfTk9OX05VTExfTUFQX09CSkVDVCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIGlmaUNvdW50ID0gZ2V0SUZJQ291bnQoYWdlbnQpO1xuXG4gIGlmIChpZmlDb3VudCAhPT0geGFwaUdlbmVyYWwuTlVNRVJfT0ZfU1BFQ0lGSUVEX0lGSV9QUk9QRVJUSUVTKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkFHRU5UX0lGSV9QUk9QRVJUSUVTX01VU1RfQkVfU1BFQ0lGSUVELFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG4gIH1cblxuICBpZiAoYWdlbnQub2JqZWN0VHlwZSA9PT0gb2JqZWN0VHlwZXMuR1JPVVApIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuQUdFTlRfTVVTVF9OT1RfSEFWRV9HUk9VUF9DSEFSQUNURVJJU1RJQ1MsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcbiAgfVxuXG4gIHZhbGlkYXRlSUZJUHJvcGVydGllcyhhZ2VudCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuICB2YWxpZGF0ZVByb3BlcnR5SXNTdHJpbmcoYWdlbnQsIHByb3BlcnRpZXMuTkFNRSwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMsICAvKmlzUmVxdWlyZWQqL2ZhbHNlKTtcblxuICB2YWxpZGF0ZUFic2VuY2VPZk5vbldoaXRlbGlzdGVkUHJvcGVydGllcyhhZ2VudCwgeGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuQUdFTlQsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlR3JvdXAoZ3JvdXAsIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlLCBtZW1iZXJUcmFjZSwgaWZpQ291bnQ7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuR1JPVVA7XG4gIG1lbWJlclRyYWNlID0geGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLk1FTUJFUik7XG5cbiAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTm9uTnVsbE1hcE9iamVjdChncm91cCkpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuR1JPVVBfTVVTVF9CRV9OT05fTlVMTF9NQVBfT0JKRUNULFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICBpZmlDb3VudCA9IGdldElGSUNvdW50KGdyb3VwKTtcblxuICBpZiAoaWZpQ291bnQgPT09IDApIHtcbiAgICBpZiAoZ3JvdXAubWVtYmVyID09PSBudWxsIHx8IGdyb3VwLm1lbWJlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgbWVtYmVyVHJhY2UsXG4gICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLk1FTUJFUl9NVVNUX0JFX1BST1ZJREVEX0ZPUl9BTk9OWU1PVVNfR1JPVVBTLFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpZmlDb3VudCA+IHhhcGlHZW5lcmFsLk5VTUVSX09GX1NQRUNJRklFRF9JRklfUFJPUEVSVElFUykge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5HUk9VUF9JRklfUFJPUEVSVElFU19NVVNUX0JFX1NQRUNJRklFRCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgdmFsaWRhdGVJRklQcm9wZXJ0aWVzKGdyb3VwLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG5cbiAgdmFsaWRhdGVQcm9wZXJ0eUlzU3RyaW5nKGdyb3VwLCBwcm9wZXJ0aWVzLk5BTUUsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1JlcXVpcmVkKi9mYWxzZSk7XG5cbiAgaWYgKGdyb3VwLm1lbWJlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGdyb3VwLm1lbWJlciA9PT0gbnVsbCB8fCAheGFwaVZhbGlkYXRpb25VdGlscy5pc0FycmF5KGdyb3VwLm1lbWJlcikpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLk1FTUJFUiksXG4gICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkdST1VQX01FTUJFUl9NVVNUX0JFX0FSUkFZLFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBncm91cC5tZW1iZXIuZm9yRWFjaCgobWVtYmVyLCBpKSA9PiB7XG4gICAgICAgIHZhbGlkYXRlQWdlbnQobWVtYmVyLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZExvb2t1cFRvVHJhY2UobWVtYmVyVHJhY2UsIGkpLCBsb2NhbEVycm9ycyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YWxpZGF0ZUFic2VuY2VPZk5vbldoaXRlbGlzdGVkUHJvcGVydGllcyhncm91cCwgeGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuR1JPVVAsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQWN0b3IoYWN0b3IsIHRyYWNlLCBlcnJvcnMpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlICA9IHRyYWNlICB8fCBwcm9wZXJ0aWVzLkFDVE9SO1xuXG4gIGlmIChhY3RvciA9PT0gbnVsbCB8fCBhY3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkFDVE9SX01VU1RfQkVfUFJPVklERUQsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIGlmICh4YXBpVmFsaWRhdGlvblV0aWxzLmlzR3JvdXAoYWN0b3IsIG9iamVjdFR5cGVzLkdST1VQKSkge1xuICAgIHZhbGlkYXRlR3JvdXAoYWN0b3IsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZGF0ZUFnZW50KGFjdG9yLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG4gIH1cblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQXV0aG9yaXR5KGF1dGhvcml0eSwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuQVVUSE9SSVRZO1xuXG4gIGlmIChhdXRob3JpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIGlmICgheGFwaVZhbGlkYXRpb25VdGlscy5pc05vbk51bGxNYXBPYmplY3QoYXV0aG9yaXR5KSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5BVVRIT1JJVFlfTVVTVF9CRV9OT05fTlVMTF9NQVBfT0JKRUNULFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cbiAgaWYgKHhhcGlWYWxpZGF0aW9uVXRpbHMuaXNHcm91cChhdXRob3JpdHksIG9iamVjdFR5cGVzLkdST1VQKSkge1xuICAgIHZhbGlkYXRlR3JvdXAoYXV0aG9yaXR5LCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG4gICAgaWYgKCFhdXRob3JpdHkubWVtYmVyIHx8ICFhdXRob3JpdHkubWVtYmVyLmxlbmd0aCB8fCBhdXRob3JpdHkubWVtYmVyLmxlbmd0aCAhPT0geGFwaUdlbmVyYWwuR1JPVVBfQVVUSE9SSVRZX0FHRU5UX01FTUJFUlMpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLk1FTUJFUiksXG4gICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkdST1VQX0FVVEhPUklUWV9BR0VOVF9NRU1CRVJTX01VU1RfQkVfVFdPLFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWxpZGF0ZUFnZW50KGF1dGhvcml0eSwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuICB9XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHRBY3Rpdml0eVN1YkNvbnRleHQoc3ViQ29udGV4dCwgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuU1VCX0NPTlRFWFQ7XG5cbiAgaWYgKHN1YkNvbnRleHQgPT09IHVuZGVmaW5lZCkge3JldHVybiBsb2NhbEVycm9yczt9XG5cbiAgaWYgKHN1YkNvbnRleHQgPT09IG51bGwpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuQ09OVEVYVF9BQ1RJVklUSUVTX01VU1RfTk9UX0JFX05VTEwsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcbiAgfSBlbHNlIGlmICh4YXBpVmFsaWRhdGlvblV0aWxzLmlzQXJyYXkoc3ViQ29udGV4dCkpIHtcbiAgICBzdWJDb250ZXh0LmZvckVhY2goKGFjdGl2aXR5LCBpKSA9PiB7XG4gICAgICB2YWxpZGF0ZUFjdGl2aXR5KGFjdGl2aXR5LCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZExvb2t1cFRvVHJhY2UobG9jYWxUcmFjZSwgaSksIGxvY2FsRXJyb3JzKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh4YXBpVmFsaWRhdGlvblV0aWxzLmlzT2JqZWN0KHN1YkNvbnRleHQpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkNPTlRFWFRfQUNUSVZJVElFU19TSE9VTERfQkVfQU5fQVJSQVksXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuU0hPVUxEX1ZJT0xBVElPTlxuICAgIH0pO1xuXG4gICAgdmFsaWRhdGVBY3Rpdml0eShzdWJDb250ZXh0LCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlKSxcbiAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLkNPTlRFWFRfQUNUSVZJVElFU19NVVNUX0JFX0FSUkFZX09SX0FDVElWSVRZX09CSixcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTn0pO1xuICB9XG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVDb250ZXh0QWN0aXZpdGllcyhjb250ZXh0QWN0aXZpdGllcywgdHJhY2UsIGVycm9ycykge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2U7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuQ09OVEVYVF9BQ1RJVklUSUVTO1xuXG4gIGlmIChjb250ZXh0QWN0aXZpdGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgaWYgKCF4YXBpVmFsaWRhdGlvblV0aWxzLmlzTm9uTnVsbE1hcE9iamVjdChjb250ZXh0QWN0aXZpdGllcykpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuQ09OVEVYVF9BQ1RJVklUSUVTX01VU1RfQkVfTk9OX05VTExfTUFQX09CSkVDVCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICAgIHJldHVybiBsb2NhbEVycm9ycztcbiAgfVxuXG4gIHZhbGlkYXRlQ29udGV4dEFjdGl2aXR5U3ViQ29udGV4dChjb250ZXh0QWN0aXZpdGllcy5wYXJlbnQsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5QQVJFTlQpLCBsb2NhbEVycm9ycyk7XG4gIHZhbGlkYXRlQ29udGV4dEFjdGl2aXR5U3ViQ29udGV4dChjb250ZXh0QWN0aXZpdGllcy5ncm91cGluZywgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkdST1VQSU5HKSwgbG9jYWxFcnJvcnMpO1xuICB2YWxpZGF0ZUNvbnRleHRBY3Rpdml0eVN1YkNvbnRleHQoY29udGV4dEFjdGl2aXRpZXMuY2F0ZWdvcnksIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5DQVRFR09SWSksIGxvY2FsRXJyb3JzKTtcbiAgdmFsaWRhdGVDb250ZXh0QWN0aXZpdHlTdWJDb250ZXh0KGNvbnRleHRBY3Rpdml0aWVzLm90aGVyLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuT1RIRVIpLCBsb2NhbEVycm9ycyk7XG5cbiAgdmFsaWRhdGVBYnNlbmNlT2ZOb25XaGl0ZWxpc3RlZFByb3BlcnRpZXMoY29udGV4dEFjdGl2aXRpZXMsIHhhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzLkNPTlRFWFRfQUNUSVZJVElFUywgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVDb250ZXh0KGNvbnRleHQsIHRyYWNlLCBlcnJvcnMsIHN0YXRlbWVudE9iamVjdE9iamVjdFR5cGUpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlO1xuXG4gIGxvY2FsRXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICBsb2NhbFRyYWNlID0gdHJhY2UgfHwgcHJvcGVydGllcy5DT05URVhUO1xuXG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtyZXR1cm4gbG9jYWxFcnJvcnM7fVxuXG4gIGlmICgheGFwaVZhbGlkYXRpb25VdGlscy5pc05vbk51bGxNYXBPYmplY3QoY29udGV4dCkpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIGxvY2FsVHJhY2UsXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5DT05URVhUX01VU1RfQkVfTk9OX05VTF9NQVBfT0JKRUNULFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICBpZiAoY29udGV4dC5yZWdpc3RyYXRpb24gIT09IHVuZGVmaW5lZCAmJiAoY29udGV4dC5yZWdpc3RyYXRpb24gPT09IG51bGwgfHwgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNTdHJpbmcoY29udGV4dC5yZWdpc3RyYXRpb24pIHx8ICF4YXBpVmFsaWRhdGlvblJlZ2V4LlVVSUQudGVzdChjb250ZXh0LnJlZ2lzdHJhdGlvbikpKSB7XG4gICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlJFR0lTVFJBVElPTiksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5SRUdJU1RSQVRJT05fTVVTVF9CRV9VVUlEX1NUUklORyxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgaWYgKFtvYmplY3RUeXBlcy5HUk9VUCwgb2JqZWN0VHlwZXMuQUdFTlRdLmluZGV4T2Yoc3RhdGVtZW50T2JqZWN0T2JqZWN0VHlwZSkgIT09IHhhcGlHZW5lcmFsLk5PX0lOREVYX0ZPVU5EKSB7XG4gICAgaWYgKGNvbnRleHQucmV2aXNpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuUkVWSVNJT04pLFxuICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5SRVZJU0lPTl9NVVNUX0JFX0FHRU5UX09SX0dST1VQLFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjb250ZXh0LnBsYXRmb3JtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlBMQVRGT1JNKSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuUExBVEZPUk1fTVVTVF9OT1RfQkVfVVNFRF9XSVRIX1JFVklTSU9OX0FHRU5UX09SX0dST1VQLFxuICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlUHJvcGVydHlJc1N0cmluZyhjb250ZXh0LCBwcm9wZXJ0aWVzLlJFVklTSU9OLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycywgLyppc1JlcXVpcmVkKi9mYWxzZSwgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OKTtcbiAgdmFsaWRhdGVQcm9wZXJ0eUlzU3RyaW5nKGNvbnRleHQsIHByb3BlcnRpZXMuUExBVEZPUk0sIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAvKmlzUmVxdWlyZWQqL2ZhbHNlLCB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT04pO1xuXG4gIGlmIChjb250ZXh0LnRlYW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFsaWRhdGVHcm91cChjb250ZXh0LnRlYW0sIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5URUFNKSwgbG9jYWxFcnJvcnMpO1xuICB9XG5cbiAgaWYgKGNvbnRleHQuY29udGV4dEFjdGl2aXRpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbGlkYXRlQ29udGV4dEFjdGl2aXRpZXMoY29udGV4dC5jb250ZXh0QWN0aXZpdGllcywgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkNPTlRFWFRfQUNUSVZJVElFUyksIGxvY2FsRXJyb3JzKTtcbiAgfVxuXG4gIGlmIChjb250ZXh0Lmxhbmd1YWdlICE9PSB1bmRlZmluZWQgJiYgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNWYWxpZExhbmd1YWdlVGFnKGNvbnRleHQubGFuZ3VhZ2UsIHhhcGlWYWxpZGF0aW9uUmVnZXguQkNQXzQ3KSkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydGllcy5MQU5HVUFHRSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5MQU5HVUFHRV9NVVNUX0JFX1NUUklORyxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNvbnRleHQuc3RhdGVtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YWxpZGF0ZVN0YXRlbWVudFJlZihjb250ZXh0LnN0YXRlbWVudCwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlNUQVRFTUVOVCksIGxvY2FsRXJyb3JzKTtcbiAgfVxuXG4gIGlmIChjb250ZXh0Lmluc3RydWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh4YXBpVmFsaWRhdGlvblV0aWxzLmlzR3JvdXAoY29udGV4dC5pbnN0cnVjdG9yLCBvYmplY3RUeXBlcy5HUk9VUCkpIHtcbiAgICAgIHZhbGlkYXRlR3JvdXAoY29udGV4dC5pbnN0cnVjdG9yLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuSU5TVFJVQ1RPUiksIGxvY2FsRXJyb3JzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsaWRhdGVBZ2VudChjb250ZXh0Lmluc3RydWN0b3IsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5JTlNUUlVDVE9SKSwgbG9jYWxFcnJvcnMpO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlRXh0ZW5zaW9ucyhjb250ZXh0LmV4dGVuc2lvbnMsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5FWFRFTlNJT05TKSwgbG9jYWxFcnJvcnMpO1xuICB2YWxpZGF0ZUFic2VuY2VPZk5vbldoaXRlbGlzdGVkUHJvcGVydGllcyhjb250ZXh0LCB4YXBpV2hpdGVMaXN0UHJvcGVydGllcy5FWFRFTlNJT05TLGxvY2FsVHJhY2UsbG9jYWxFcnJvcnMpO1xuXG4gIHJldHVybiBsb2NhbEVycm9ycztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVPYmplY3Qob2JqZWN0LCB0cmFjZSwgZXJyb3JzLCBpc1dpdGhpblN1YlN0YXRlbWVudCkge1xuICB2YXIgbG9jYWxFcnJvcnMsIGxvY2FsVHJhY2UsIG9iamVjdFR5cGU7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuT0JKRUNUO1xuXG4gIGlmIChvYmplY3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSksXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5PQkpFQ1RfTVVTVF9CRV9ERUZJTkVELFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOb25OdWxsTWFwT2JqZWN0KG9iamVjdCkpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuT0JKRUNUX01VU1RfQkVfTk9OX05VTExfTUFQX09CSkVDVCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvY2FsRXJyb3JzO1xuICB9XG5cbiAgdmFsaWRhdGVQcm9wZXJ0eUlzU3RyaW5nKG9iamVjdCwgcHJvcGVydGllcy5PQkpFQ1RfVFlQRSwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMsIC8qaXNSZXF1aXJlZCovdHJ1ZSwgeGFwaUVycm9yTGV2ZWxzLlNIT1VMRF9WSU9MQVRJT04pO1xuXG4gIG9iamVjdFR5cGUgPSBvYmplY3Qub2JqZWN0VHlwZSB8fCBvYmplY3RUeXBlcy5BQ1RJVklUWTtcblxuICBzd2l0Y2ggKG9iamVjdFR5cGUpIHtcbiAgICBjYXNlIG9iamVjdFR5cGVzLkFDVElWSVRZOlxuICAgICAgdmFsaWRhdGVBY3Rpdml0eShvYmplY3QsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2Ugb2JqZWN0VHlwZXMuQUdFTlQ6XG4gICAgICB2YWxpZGF0ZUFnZW50KG9iamVjdCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBvYmplY3RUeXBlcy5HUk9VUDpcbiAgICAgIHZhbGlkYXRlR3JvdXAob2JqZWN0LCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIG9iamVjdFR5cGVzLlNUQVRFTUVOVF9SRUY6XG4gICAgICB2YWxpZGF0ZVN0YXRlbWVudFJlZihvYmplY3QsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2Ugb2JqZWN0VHlwZXMuU1VCX1NUQVRFTUVOVDpcbiAgICAgIGlmIChpc1dpdGhpblN1YlN0YXRlbWVudCkge1xuICAgICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLk9CSkVDVF9UWVBFKSxcbiAgICAgICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5TVUJfU1RBVEVNRU5UX01VU1RfTk9UX0NPTlRBSU5fU1VCX1NUQVRFTUVOVCxcbiAgICAgICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB2YWxpZGF0ZShvYmplY3QsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzLCAgLyppc1N1YlN0YXRlbWVudCovdHJ1ZSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgbG9jYWxFcnJvcnMucHVzaCh7XG4gICAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuT0JKRUNUX1RZUEUpLFxuICAgICAgICBtZXNzYWdlOiBgJHt4YXBpVmFsaWRhdGlvbkVycm9ycy5PQkpFQ1RfVFlQRV9NVVNUX0JFX1ZBTElEX09QVElPTn0gJHt4QXBpVmFsaWRPYmplY3RUeXBlcy50b1N0cmluZygpfWAsXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gIH1cblxuICByZXR1cm4gbG9jYWxFcnJvcnM7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHN0YXRlbWVudCwgdHJhY2UsIGVycm9ycywgaXNTdWJTdGF0ZW1lbnQpIHtcbiAgdmFyIGxvY2FsRXJyb3JzLCBsb2NhbFRyYWNlLCBzdGF0ZW1lbnRPYmplY3RPYmplY3RUeXBlLCB3aGl0ZWxpc3RlZFByb3BlcnRpZXM7XG5cbiAgbG9jYWxFcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gIGxvY2FsVHJhY2UgID0gdHJhY2UgIHx8IHByb3BlcnRpZXMuU1RBVEVNRU5UO1xuXG4gIHdoaXRlbGlzdGVkUHJvcGVydGllcyA9IHhhcGlXaGl0ZUxpc3RQcm9wZXJ0aWVzLlNUQVRFTUVOVDtcblxuICBpZiAoIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNOb25OdWxsTWFwT2JqZWN0KHN0YXRlbWVudCkpIHtcbiAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgIHRyYWNlOiAgIHhhcGlWYWxpZGF0aW9uVXRpbHMubG9jYWxUcmFjZVRvU3RyaW5nKGxvY2FsVHJhY2UpLFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuU1RBVEVNRU5UX1JFRl9NVVNUX05PVF9CRV9OVUxMX01BUF9PQkpFQ1RTLFxuICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbG9jYWxFcnJvcnM7XG4gIH1cblxuICBpZiAoIWlzU3ViU3RhdGVtZW50KSB7XG4gICAgaWYgKHN0YXRlbWVudC5pZCA9PT0gbnVsbCB8fCBzdGF0ZW1lbnQuaWQgPT09IHVuZGVmaW5lZCB8fCAheGFwaVZhbGlkYXRpb25VdGlscy5pc1N0cmluZyhzdGF0ZW1lbnQuaWQpKSB7XG4gICAgICBsb2NhbEVycm9ycy5wdXNoKHtcbiAgICAgICAgdHJhY2U6ICAgeGFwaVZhbGlkYXRpb25VdGlscy5sb2NhbFRyYWNlVG9TdHJpbmcobG9jYWxUcmFjZSwgcHJvcGVydGllcy5JRCksXG4gICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLklEU19TSE9VTERfQkVfR0VORVJBVEVEX0JZX0xSUyxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLlNIT1VMRF9WSU9MQVRJT05cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIXhhcGlWYWxpZGF0aW9uUmVnZXguVVVJRC50ZXN0KHN0YXRlbWVudC5pZCkpIHtcbiAgICAgIGxvY2FsRXJyb3JzLnB1c2goe1xuICAgICAgICB0cmFjZTogICB4YXBpVmFsaWRhdGlvblV0aWxzLmxvY2FsVHJhY2VUb1N0cmluZyhsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLklEKSxcbiAgICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuSURfTVVTVF9CRV9WQUxJRCxcbiAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpdGVsaXN0ZWRQcm9wZXJ0aWVzID0geGFwaVdoaXRlTGlzdFByb3BlcnRpZXMuU1VCX1NUQVRFTUVOVDtcbiAgfVxuXG4gIHZhbGlkYXRlQWN0b3Ioc3RhdGVtZW50LmFjdG9yLCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuQUNUT1IpLCBsb2NhbEVycm9ycyk7XG4gIHZhbGlkYXRlVmVyYihzdGF0ZW1lbnQudmVyYiwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLlZFUkIpLCBsb2NhbEVycm9ycyk7XG4gIHZhbGlkYXRlT2JqZWN0KHN0YXRlbWVudC5vYmplY3QsIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5PQkpFQ1QpLCBsb2NhbEVycm9ycywgaXNTdWJTdGF0ZW1lbnQpO1xuICB2YWxpZGF0ZVJlc3VsdChzdGF0ZW1lbnQucmVzdWx0LCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuUkVTVUxUKSwgbG9jYWxFcnJvcnMpO1xuXG4gIHN0YXRlbWVudE9iamVjdE9iamVjdFR5cGUgPSBzdGF0ZW1lbnQub2JqZWN0ICYmIHN0YXRlbWVudC5vYmplY3Qub2JqZWN0VHlwZSA/IHN0YXRlbWVudC5vYmplY3Qub2JqZWN0VHlwZSA6IG9iamVjdFR5cGVzLkFDVElWSVRZO1xuXG4gIHZhbGlkYXRlQ29udGV4dChzdGF0ZW1lbnQuY29udGV4dCwgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkNPTlRFWFQpLCBsb2NhbEVycm9ycywgc3RhdGVtZW50T2JqZWN0T2JqZWN0VHlwZSk7XG4gIHZhbGlkYXRlUHJvcGVydHlJc0lTTzg2MDFTdHJpbmcoc3RhdGVtZW50LCBwcm9wZXJ0aWVzLlRJTUVTVEFNUCwgbG9jYWxUcmFjZSwgbG9jYWxFcnJvcnMpO1xuICB2YWxpZGF0ZVByb3BlcnR5SXNJU084NjAxU3RyaW5nKHN0YXRlbWVudCwgcHJvcGVydGllcy5TVE9SRUQsIGxvY2FsVHJhY2UsIGxvY2FsRXJyb3JzKTtcblxuICB2YWxpZGF0ZUF1dGhvcml0eShzdGF0ZW1lbnQuYXV0aG9yaXR5LCB4YXBpVmFsaWRhdGlvblV0aWxzLmFkZFByb3BUb1RyYWNlKGxvY2FsVHJhY2UsIHByb3BlcnRpZXMuQVVUSE9SSVRZKSwgbG9jYWxFcnJvcnMpO1xuICB2YWxpZGF0ZVZlcnNpb24oc3RhdGVtZW50LnZlcnNpb24sIHhhcGlWYWxpZGF0aW9uVXRpbHMuYWRkUHJvcFRvVHJhY2UobG9jYWxUcmFjZSwgcHJvcGVydGllcy5WRVJTSU9OKSwgbG9jYWxFcnJvcnMpO1xuICB2YWxpZGF0ZUF0dGFjaG1lbnRzKHN0YXRlbWVudC5hdHRhY2htZW50cywgeGFwaVZhbGlkYXRpb25VdGlscy5hZGRQcm9wVG9UcmFjZShsb2NhbFRyYWNlLCBwcm9wZXJ0aWVzLkFUVEFDSE1FTlRTKSwgbG9jYWxFcnJvcnMpO1xuXG4gIHZhbGlkYXRlQWJzZW5jZU9mTm9uV2hpdGVsaXN0ZWRQcm9wZXJ0aWVzKHN0YXRlbWVudCwgd2hpdGVsaXN0ZWRQcm9wZXJ0aWVzLCBsb2NhbFRyYWNlLCBsb2NhbEVycm9ycyk7XG5cbiAgcmV0dXJuIGxvY2FsRXJyb3JzO1xufVxuXG5mdW5jdGlvbiBtYWtlU3RhdGVtZW50UmVwb3J0KHN0YXRlbWVudCkge1xuICB2YXIgbG9jYWxFcnJvcnM7XG5cbiAgbG9jYWxFcnJvcnMgPSBbXTtcbiAgdmFsaWRhdGUoc3RhdGVtZW50LCBwcm9wZXJ0aWVzLlNUQVRFTUVOVCwgbG9jYWxFcnJvcnMsICAvKmlzUmVxdWlyZWQqL2ZhbHNlKTtcblxuICByZXR1cm4gbWFrZVYxUmVwb3J0KHN0YXRlbWVudCwgbG9jYWxFcnJvcnMpO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUFtYmlndW91c1R5cGVTdGF0ZW1lbnQoc3RhdGVtZW50KSB7XG4gIHZhciBzdGF0ZW1lbnRPYmplY3Q7XG5cbiAgaWYgKHN0YXRlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG1ha2VWMVNpbmdsZUVycm9yUmVwb3J0KC8qaW5zdGFuY2UqL251bGwsIHtcbiAgICAgIHRyYWNlOiAgIHByb3BlcnRpZXMuU1RBVEVNRU5ULFxuICAgICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuU1RBVEVNRU5UX0FSR1VNRU5UX01VU1RfQkVfUFJPVklERUQsXG4gICAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChzdGF0ZW1lbnQgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbWFrZVYxU2luZ2xlRXJyb3JSZXBvcnQoLyppbnN0YW5jZSovbnVsbCwge1xuICAgICAgdHJhY2U6ICAgcHJvcGVydGllcy5TVEFURU1FTlQsXG4gICAgICBtZXNzYWdlOiB4YXBpVmFsaWRhdGlvbkVycm9ycy5TVEFURU1FTlRfTVVTVF9OT1RfQkVfTlVMTCxcbiAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHhhcGlWYWxpZGF0aW9uVXRpbHMuaXNTdHJpbmcoc3RhdGVtZW50KSkge1xuICAgIHRyeSB7XG4gICAgICBzdGF0ZW1lbnRPYmplY3QgPSBKU09OLnBhcnNlKHN0YXRlbWVudCk7XG4gICAgICBpZiAoc3RhdGVtZW50T2JqZWN0ID09PSBudWxsIHx8ICF4YXBpVmFsaWRhdGlvblV0aWxzLmlzT2JqZWN0KHN0YXRlbWVudE9iamVjdCkgfHwgeGFwaVZhbGlkYXRpb25VdGlscy5pc0FycmF5KHN0YXRlbWVudE9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VWMVNpbmdsZUVycm9yUmVwb3J0KHN0YXRlbWVudE9iamVjdCwge1xuICAgICAgICAgIHRyYWNlOiAgIHByb3BlcnRpZXMuU1RBVEVNRU5ULFxuICAgICAgICAgIG1lc3NhZ2U6IHhhcGlWYWxpZGF0aW9uRXJyb3JzLlNUQVRFTUVOVF9NVVNUX0JFX1BBUlNFRF9DT1JSRUNUTFksXG4gICAgICAgICAgbGV2ZWw6ICAgeGFwaUVycm9yTGV2ZWxzLk1VU1RfVklPTEFUSU9OXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBtYWtlVjFTaW5nbGVFcnJvclJlcG9ydChzdGF0ZW1lbnRPYmplY3QsIHtcbiAgICAgICAgdHJhY2U6ICAgcHJvcGVydGllcy5TVEFURU1FTlQsXG4gICAgICAgIG1lc3NhZ2U6IGAke3hhcGlWYWxpZGF0aW9uRXJyb3JzLklOVkFMSURfSlNPTn06ICR7ZS5tZXNzYWdlfWAsXG4gICAgICAgIGxldmVsOiAgIHhhcGlFcnJvckxldmVscy5NVVNUX1ZJT0xBVElPTlxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1ha2VTdGF0ZW1lbnRSZXBvcnQoc3RhdGVtZW50T2JqZWN0KTtcbiAgfVxuXG4gIGlmICh4YXBpVmFsaWRhdGlvblV0aWxzLmlzT2JqZWN0KHN0YXRlbWVudCkgJiYgIXhhcGlWYWxpZGF0aW9uVXRpbHMuaXNBcnJheShzdGF0ZW1lbnQpKSB7XG4gICAgcmV0dXJuIG1ha2VTdGF0ZW1lbnRSZXBvcnQoc3RhdGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBtYWtlVjFTaW5nbGVFcnJvclJlcG9ydCgvKmluc3RhbmNlKi9udWxsLCB7XG4gICAgdHJhY2U6ICAgcHJvcGVydGllcy5TVEFURU1FTlQsXG4gICAgbWVzc2FnZTogeGFwaVZhbGlkYXRpb25FcnJvcnMuU1RBVEVNRU5UX0FSR1VNRU5UX0lTX05PVF9WQUxJRCxcbiAgICBsZXZlbDogICB4YXBpRXJyb3JMZXZlbHMuTVVTVF9WSU9MQVRJT05cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRhdGVJbmNsdWRlc1pvbmVJbmZvcm1hdGlvbihtYXRjaGVkKSB7XG4gIHJldHVybiBtYXRjaGVkW2RhdGVGb3JtYXRSZWdleFBvc2l0aW9ucy5aT05FXSB8fFxuICAgICAgICAgIChtYXRjaGVkW2RhdGVGb3JtYXRSZWdleFBvc2l0aW9ucy5SRUxBVElWRV9USU1FXSAmJiBtYXRjaGVkW2RhdGVGb3JtYXRSZWdleFBvc2l0aW9ucy5USU1FX1pPTkVfSE9VUl0pO1xufVxuXG54YXBpVmFsaWRhdGlvbiA9IHtcbiAgdmFsaWRhdGVTdGF0ZW1lbnQ6IHZhbGlkYXRlQW1iaWd1b3VzVHlwZVN0YXRlbWVudFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB4YXBpVmFsaWRhdGlvbjtcbiJdfQ==
